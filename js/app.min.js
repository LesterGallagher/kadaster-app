function getJSON(t,e){var i=new XMLHttpRequest,n=window.ons.notification.alert.bind(window.ons.notification,{message:"Je bent niet verbonden met de server. De gegevens die worden weergegeven zijn mogelijk verouderd."});i.onreadystatechange=function(){if(4===this.readyState&&200==this.status){JSON.parse(this.responseText);e(JSON.parse(this.responseText))}},i.onerror=n,i.open("GET",t,!0),i.send()}function _promise(){var i=!1,n=void 0,o=[],t=function(t){i=!0,n=t;for(var e=0;e<o.length;e++)o[e](t)};return t.then=function(t){i?t(n):o.push(t)},t}!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.ons=e()}(this,function(){"use strict";function a(t){Nt.set(t,!0)}function s(t){var e=Bt.get(t,[])||[];Bt.delete(t),e.forEach(function(t){return t()})}function c(e){var t,i,n,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){};void 0===Nt&&(Nt=new WeakMap,Bt=new WeakMap),i=e,n=o,Bt.has(i)||Bt.set(i,[]),Bt.get(i).push(n),0<(t=e).childNodes.length&&a(t),Nt.has(t)?s(e):(new MutationObserver(function(t){a(e),s(e)}).observe(e,{childList:!0,characterData:!0}),setImmediate(function(){a(e),s(e)}))}function n(t){t._destroy instanceof Function?t._destroy():t.remove()}function t(t,e){return t(e={exports:{}},e.exports),e.exports}function d(t){var e=Tn.has(t),i=/^[a-z][.0-9_a-z]*-[\-.0-9_a-z]*$/.test(t);return!e&&i}function u(t){var e=t.isConnected;if(void 0!==e)return e;for(var i=t;i&&!(i.__CE_isImportDocument||i instanceof Document);)i=i.parentNode||(window.ShadowRoot&&i instanceof ShadowRoot?i.host:void 0);return!(!i||!(i.__CE_isImportDocument||i instanceof Document))}function p(t,e){for(var i=e;i&&i!==t&&!i.nextSibling;)i=i.parentNode;return i&&i!==t?i.nextSibling:null}function f(t,e){for(var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new Set,n=t;n;){if(n.nodeType===Node.ELEMENT_NODE){var o=n;e(o);var a=o.localName;if("link"===a&&"import"===o.getAttribute("rel")){var s=o.import;if(s instanceof Node&&!i.has(s)){i.add(s);for(var r=s.firstChild;r;r=r.nextSibling)f(r,e,i)}n=p(t,o);continue}if("template"===a){n=p(t,o);continue}var l=o.__CE_shadowRoot;if(l)for(var h=l.firstChild;h;h=h.nextSibling)f(h,e,i)}u=t,n=(c=n).firstChild?c.firstChild:p(u,c)}var u,c}function r(t,e,i){t[e]=i}var e,i,o={},l=(e=window.getComputedStyle(document.documentElement,""),i=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1],function(t){return"-"+i+"-"+tt.hyphenate(t)}),h=function(e,i){return Object.keys(i).forEach(function(t){t in e.style?e.style[t]=i[t]:l(t)in e.style?e.style[l(t)]=i[t]:tt.warn("No such style property: "+t)}),e};h.clear=function(i){for(var n=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"").split(/\s+/).reduce(function(t,e){return t.concat([tt.hyphenate(e),l(e)])},[]),o=[],t=i.style.length-1;0<=t;t--)!function(t){var e=i.style[t];(0===n.length||n.some(function(t){return 0===e.indexOf(t)}))&&o.push(e)}(t);o.forEach(function(t){return i.style[t]=""}),""===i.getAttribute("style")&&i.removeAttribute("style")};var m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},g=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}(),v=function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t},y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},b=function t(e,i,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,i);if(void 0===o){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,i,n)}if("value"in o)return o.value;var s=o.get;return void 0!==s?s.call(n):void 0},k=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},w=function(t,e){var i={};for(var n in t)0<=e.indexOf(n)||Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i},M=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},E=function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)},x=window.HTMLElement,P=new(function(){function t(){_(this,t),this._selectedPlatform=null,this._ignorePlatformSelect=!1}return g(t,[{key:"select",value:function(t){"string"==typeof t&&(this._selectedPlatform=t.trim().toLowerCase())}},{key:"_getSelectedPlatform",value:function(){return this._ignorePlatformSelect?null:this._selectedPlatform}},{key:"_runOnActualPlatform",value:function(t){this._ignorePlatformSelect=!0;var e=t();return this._ignorePlatformSelect=!1,e}},{key:"isWebView",value:function(){if("loading"===document.readyState||"uninitialized"==document.readyState)throw new Error("isWebView() method is available after dom contents loaded.");return!!(window.cordova||window.phonegap||window.PhoneGap)}},{key:"isIPhone",value:function(){return/iPhone/i.test(navigator.userAgent)}},{key:"isIPhoneX",value:function(){return this.isIPhone()&&(375===window.screen.width&&812===window.screen.height||812===window.screen.width&&375===window.screen.height)}},{key:"isIPad",value:function(){return/iPad/i.test(navigator.userAgent)}},{key:"isIPod",value:function(){return/iPod/i.test(navigator.userAgent)}},{key:"isIOS",value:function(){return this._getSelectedPlatform()?"ios"===this._getSelectedPlatform():"object"!==("undefined"==typeof device?"undefined":m(device))||/browser/i.test(device.platform)?/iPhone|iPad|iPod/i.test(navigator.userAgent):/iOS/i.test(device.platform)}},{key:"isIOS7above",value:function(){if("object"===("undefined"==typeof device?"undefined":m(device))&&!/browser/i.test(device.platform))return/iOS/i.test(device.platform)&&7<=parseInt(device.version.split(".")[0]);if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){var t=(navigator.userAgent.match(/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/)||[""])[0].replace(/_/g,".");return 7<=parseInt(t.split(".")[0])}return!1}},{key:"isIOSSafari",value:function(){var t=window.navigator,e=t.userAgent;return!(!this.isIOS()||-1===e.indexOf("Safari")||-1===e.indexOf("Version")||t.standalone)}},{key:"isWKWebView",value:function(){var t=/constructor/i.test(x);return!(!(this.isIOS()&&window.webkit&&window.webkit.messageHandlers&&window.indexedDB)||t)}},{key:"isUIWebView",value:function(){return!(!this.isIOS()||this.isIOSSafari()||this.isWKWebView())}},{key:"isAndroidPhone",value:function(){return/Android/i.test(navigator.userAgent)&&/Mobile/i.test(navigator.userAgent)}},{key:"isAndroidTablet",value:function(){return/Android/i.test(navigator.userAgent)&&!/Mobile/i.test(navigator.userAgent)}},{key:"isAndroid",value:function(){return this._getSelectedPlatform()?"android"===this._getSelectedPlatform():/Android/i.test("object"!==("undefined"==typeof device?"undefined":m(device))||/browser/i.test(device.platform)?navigator.userAgent:device.platform)}},{key:"isWP",value:function(){return this._getSelectedPlatform()?"wp"===this._getSelectedPlatform():"object"!==("undefined"==typeof device?"undefined":m(device))||/browser/i.test(device.platform)?/Windows Phone|IEMobile|WPDesktop/i.test(navigator.userAgent):/Win32NT|WinCE/i.test(device.platform)}},{key:"isBlackBerry",value:function(){return this._getSelectedPlatform()?"blackberry"===this._getSelectedPlatform():"object"!==("undefined"==typeof device?"undefined":m(device))||/browser/i.test(device.platform)?/BlackBerry|RIM Tablet OS|BB10/i.test(navigator.userAgent):/BlackBerry/i.test(device.platform)}},{key:"isOpera",value:function(){return this._getSelectedPlatform()?"opera"===this._getSelectedPlatform():!!window.opera||0<=navigator.userAgent.indexOf(" OPR/")}},{key:"isFirefox",value:function(){return this._getSelectedPlatform()?"firefox"===this._getSelectedPlatform():"undefined"!=typeof InstallTrigger}},{key:"isSafari",value:function(){return this._getSelectedPlatform()?"safari"===this._getSelectedPlatform():0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")||"[object SafariRemoteNotification]"===(!window.safari||safari.pushNotification).toString()}},{key:"isChrome",value:function(){return this._getSelectedPlatform()?"chrome"===this._getSelectedPlatform():!(!window.chrome||window.opera||0<=navigator.userAgent.indexOf(" OPR/")||0<=navigator.userAgent.indexOf(" Edge/"))}},{key:"isIE",value:function(){return this._getSelectedPlatform()?"ie"===this._getSelectedPlatform():!!document.documentMode}},{key:"isEdge",value:function(){return this._getSelectedPlatform()?"edge"===this._getSelectedPlatform():0<=navigator.userAgent.indexOf(" Edge/")}},{key:"getMobileOS",value:function(){return this.isAndroid()?"android":this.isIOS()?"ios":this.isWP()?"wp":"other"}},{key:"getIOSDevice",value:function(){return this.isIPhone()?"iphone":this.isIPad()?"ipad":this.isIPod()?"ipod":"na"}}]),t}()),C=function(t){return tt.throw("In PageAttributeExpression: "+t)},L={_variables:{},defineVariable:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2];"string"!=typeof t?C("Variable name must be a string"):"string"!=typeof e&&"function"!=typeof e?C("Variable value must be a string or a function"):this._variables.hasOwnProperty(t)&&!i&&C('"'+t+'" is already defined'),this._variables[t]=e},getVariable:function(t){return this._variables.hasOwnProperty(t)?this._variables[t]:null},removeVariable:function(t){delete this._variables[t]},getAllVariables:function(){return this._variables},_parsePart:function(t){var e=void 0,i=!1,n=0,o=[];0===t.length&&C("Unable to parse empty string");for(var a=0;a<t.length;a++)"$"===(e=t.charAt(a))&&"{"===t.charAt(a+1)?(i&&C("Nested interpolation not supported"),0<t.substring(n,a).length&&o.push(t.substring(n,a)),n=a,i=!0):"}"===e&&(i||C("} must be preceeded by ${"),0<t.substring(n,a+1).length&&o.push(t.substring(n,a+1)),n=a+1,i=!1);return i&&C("Unterminated interpolation"),o.push(t.substring(n,t.length)),o},_replaceToken:function(t){var e=t.match(/^\${(.*?)}$/);if(!e)return t;var i=e[1].trim(),n=this.getVariable(i);if(null!==n){if("string"==typeof n)return n;var o=n();return"string"!=typeof o&&C("Must return a string"),o}C('Variable "'+i+'" does not exist')},_replaceTokens:function(t){return t.map(this._replaceToken.bind(this))},_parseExpression:function(t){return t.split(",").map(function(t){return t.trim()}).map(this._parsePart.bind(this)).map(this._replaceTokens.bind(this)).map(function(t){return t.join("")})},evaluate:function(t){return t?this._parseExpression(t):[]}};L.defineVariable("mobileOS",P.getMobileOS()),L.defineVariable("iOSDevice",P.getIOSDevice()),L.defineVariable("runtime",function(){return P.isWebView()?"cordova":"browser"});var S={config:{autoStatusBarFill:!0,animationsDisabled:!1,warningsDisabled:!1}};S.nullElement=window.document.createElement("div"),S.isEnabledAutoStatusBarFill=function(){return!!S.config.autoStatusBarFill},S.normalizePageHTML=function(t){return(""+t).trim()},S.waitDOMContentLoaded=function(e){"loading"===window.document.readyState||"uninitialized"==window.document.readyState?window.document.addEventListener("DOMContentLoaded",function t(){e(),window.document.removeEventListener("DOMContentLoaded",t)}):setImmediate(e)},S.autoStatusBarFill=function(e){var t=function t(){S.shouldFillStatusBar()&&e(),document.removeEventListener("deviceready",t)};"object"===("undefined"==typeof device?"undefined":m(device))?document.addEventListener("deviceready",t):-1===["complete","interactive"].indexOf(document.readyState)?S.waitDOMContentLoaded(t):t()},S.shouldFillStatusBar=function(){return S.isEnabledAutoStatusBarFill()&&(P.isWebView()&&P.isIOS7above()&&!P.isIPhoneX()||document.body.querySelector(".ons-status-bar-mock.ios"))},S.templateStore={_storage:{},get:function(t){return S.templateStore._storage[t]||null},set:function(t,e){S.templateStore._storage[t]=e}},window.document.addEventListener("_templateloaded",function(t){"ons-template"===t.target.nodeName.toLowerCase()&&S.templateStore.set(t.templateId,t.template)},!1),S.waitDOMContentLoaded(function(){function t(t){for(var e=window.document.querySelectorAll(t),i=0;i<e.length;i++)S.templateStore.set(e[i].getAttribute("id"),e[i].textContent||e[i].content)}t('script[type="text/ons-template"]'),t('script[type="text/template"]'),t('script[type="text/ng-template"]'),t("template")}),S.getTemplateHTMLAsync=function(r){return new Promise(function(a,s){S.waitDOMContentLoaded(function(){var t=S.templateStore.get(r);if(t){if(t instanceof DocumentFragment)return a(t);var e="string"==typeof t?t:t[1];return a(S.normalizePageHTML(e))}var i=window.document.getElementById(r);if(i){var n=i.textContent||i.content;return a(n)}var o=new XMLHttpRequest;o.open("GET",r,!0),o.onload=function(){var t=o.responseText;if(400<=o.status&&o.status<600)s(t);else{var e=tt.createFragment(t);tt.arrayFrom(e.querySelectorAll("script")).forEach(function(t){var e=document.createElement("script");e.type=t.type||"text/javascript",e.appendChild(document.createTextNode(t.text||t.textContent||t.innerHTML)),t.parentNode.replaceChild(e,t)}),S.templateStore.set(r,e),a(e)}},o.onerror=function(){tt.throw("Page template not found: "+r)},o.send(null)})})},S.getPageHTMLAsync=function(t){var i=L.evaluate(t);return function e(t){return"string"!=typeof t?Promise.reject("Must specify a page."):S.getTemplateHTMLAsync(t).catch(function(t){return 0===i.length?Promise.reject(t):e(i.shift())})}(i.shift())};var A=function(){function e(t){_(this,e),this._animators=t.animators,this._baseClass=t.baseClass,this._baseClassName=t.baseClassName||t.baseClass.name,this._animation=t.defaultAnimation||"default",this._animationOptions=t.defaultAnimationOptions||{},this._animators[this._animation]||tt.throw("No such animation: "+this._animation)}return g(e,[{key:"setAnimationOptions",value:function(t){this._animationOptions=t}},{key:"newAnimator",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],i=null;if(t.animation instanceof this._baseClass)return t.animation;var n=null;if("string"==typeof t.animation&&(n=this._animators[t.animation]),!n&&e)i=e;else{n=n||this._animators[this._animation];var o=tt.extend({},this._animationOptions,t.animationOptions||{},S.config.animationsDisabled?{duration:0,delay:0}:{});"function"==typeof(i=new n(o))&&(i=new i(o))}return i instanceof this._baseClass||tt.throw('"animator" is not an instance of '+this._baseClassName),i}}],[{key:"parseAnimationOptionsString",value:function(t){try{if("string"==typeof t){var e=tt.animationOptionsParse(t);if("object"===(void 0===e?"undefined":m(e))&&null!==e)return e;console.error('"animation-options" attribute must be a JSON object string: '+t)}return{}}catch(e){return console.error('"animation-options" attribute must be a JSON object string: '+t),{}}}}]),e}(),T=!0,O={quiet:"material--flat",light:"material--flat",outline:"material--flat",cta:"","large--quiet":"material--flat large","large--cta":"large",noborder:"",tappable:""},D={android:function(t){var e=t.tagName.toLowerCase();if(!tt.hasModifier(t,"material")){var i=(t.getAttribute("modifier")||"").trim().split(/\s+/).map(function(t){return O.hasOwnProperty(t)?O[t]:t});i.unshift("material"),t.setAttribute("modifier",i.join(" ").trim())}-1===["ons-alert-dialog-button","ons-toolbar-button","ons-back-button","ons-button","ons-list-item","ons-fab","ons-speed-dial","ons-speed-dial-item","ons-tab"].indexOf(e)||t.hasAttribute("ripple")||t.querySelector("ons-ripple")||("ons-list-item"===e?t.hasAttribute("tappable")&&(t.setAttribute("ripple",""),t.removeAttribute("tappable")):t.setAttribute("ripple",""))},ios:function(t){tt.removeModifier(t,"material")&&(tt.removeModifier(t,"material--flat")&&tt.addModifier(t,tt.removeModifier(t,"large")?"large--quiet":"quiet"),t.getAttribute("modifier")||t.removeAttribute("modifier")),t.hasAttribute("ripple")&&("ons-list-item"===t.tagName.toLowerCase()&&t.setAttribute("tappable",""),t.removeAttribute("ripple"))}},I={android:!0},N=function(t,e){if(T&&!t.hasAttribute("disable-auto-styling")){var i=P.getMobileOS();if(D.hasOwnProperty(i)&&(I.hasOwnProperty(i)||e))return i}return null},B=function(t,e,i){return N(e,i)?t.split(/\s+/).map(function(t){return O.hasOwnProperty(t)?O[t]:t}).join(" "):t},j={isEnabled:function(){return T},enable:function(){return T=!0},disable:function(){return T=!1},prepare:function(t,e){var i=N(t,e);i&&D[i](t)},mapModifier:B,getPlatform:N,restoreModifier:function(t){if("android"===N(t)){var e=t.getAttribute("modifier")||"",i=B(e,t);if(/(^|\s+)material($|\s+)/i.test(e)||(i="material "+i),i!==e)return t.setAttribute("modifier",i.trim()),!0}return!1}},z=function(){function s(){_(this,s)}return g(s,null,[{key:"diff",value:function(i,n){function t(t){var e={};return s.split(t).forEach(function(t){return e[t]=t}),e}i=t((""+i).trim()),n=t((""+n).trim());var e=Object.keys(i).reduce(function(t,e){return n[e]||t.push(e),t},[]);return{added:Object.keys(n).reduce(function(t,e){return i[e]||t.push(e),t},[]),removed:e}}},{key:"applyDiffToClassList",value:function(t,e,i){t.added.map(function(t){return i.replace(/\*/g,t)}).forEach(function(t){return t.split(/\s+/).forEach(function(t){return e.add(t)})}),t.removed.map(function(t){return i.replace(/\*/g,t)}).forEach(function(t){return t.split(/\s+/).forEach(function(t){return e.remove(t)})})}},{key:"applyDiffToElement",value:function(n,o,a){Object.keys(a).forEach(function(t){for(var e=!t||tt.match(o,t)?[o]:Array.prototype.filter.call(o.querySelectorAll(t),function(t){return!tt.findParent(t,o.tagName,function(t){return t===o})}),i=0;i<e.length;i++)s.applyDiffToClassList(n,e[i].classList,a[t])})}},{key:"onModifierChanged",value:function(t,e,i,n){s.applyDiffToElement(s.diff(t,e),i,n),j.restoreModifier(i)}},{key:"refresh",value:function(t,e){s.applyDiffToElement(s.diff("",t.getAttribute("modifier")||""),t,e)}},{key:"initModifier",value:function(t,e){var i=t.getAttribute("modifier");"string"==typeof i&&s.applyDiffToElement({removed:[],added:s.split(i)},t,e)}},{key:"split",value:function(t){return"string"!=typeof t?[]:t.trim().split(/ +/).filter(function(t){return""!==t})}},{key:"addModifier",value:function(t,e){if(t.hasAttribute("modifier")){var i=s.split(t.getAttribute("modifier"));-1==i.indexOf(e)&&(i.push(e),t.setAttribute("modifier",i.join(" ")))}else t.setAttribute("modifier",e)}},{key:"removeModifier",value:function(t,e){if(t.hasAttribute("modifier")){var i=s.split(t.getAttribute("modifier")),n=i.indexOf(e);-1!==n&&(i.splice(n,1),t.setAttribute("modifier",i.join(" ")))}}}]),s}(),R={_ready:!1,_domContentLoaded:!1,_onDOMContentLoaded:function(){R._domContentLoaded=!0,P.isWebView()?window.document.addEventListener("deviceready",function(){R._ready=!0},!1):R._ready=!0},addBackButtonListener:function(t){if(!this._domContentLoaded)throw new Error("This method is available after DOMContentLoaded");this._ready?window.document.addEventListener("backbutton",t,!1):window.document.addEventListener("deviceready",function(){window.document.addEventListener("backbutton",t,!1)})},removeBackButtonListener:function(t){if(!this._domContentLoaded)throw new Error("This method is available after DOMContentLoaded");this._ready?window.document.removeEventListener("backbutton",t,!1):window.document.addEventListener("deviceready",function(){window.document.removeEventListener("backbutton",t,!1)})}};window.addEventListener("DOMContentLoaded",function(){return R._onDOMContentLoaded()},!1);var U,q={_store:{},_genId:(U=0,function(){return U++}),set:function(t,e){t.dataset.deviceBackButtonHandlerId&&this.remove(t);var i=t.dataset.deviceBackButtonHandlerId=q._genId();this._store[i]=e},remove:function(t){t.dataset.deviceBackButtonHandlerId&&(delete this._store[t.dataset.deviceBackButtonHandlerId],delete t.dataset.deviceBackButtonHandlerId)},get:function(t){if(t.dataset.deviceBackButtonHandlerId){var e=t.dataset.deviceBackButtonHandlerId;if(!this._store[e])throw new Error;return this._store[e]}},has:function(t){if(!t.dataset)return!1;var e=t.dataset.deviceBackButtonHandlerId;return!!this._store[e]}},F=new(function(){function t(){_(this,t),this._isEnabled=!1,this._boundCallback=this._callback.bind(this)}return g(t,[{key:"enable",value:function(){this._isEnabled||(R.addBackButtonListener(this._boundCallback),this._isEnabled=!0)}},{key:"disable",value:function(){this._isEnabled&&(R.removeBackButtonListener(this._boundCallback),this._isEnabled=!1)}},{key:"fireDeviceBackButtonEvent",value:function(){var t=document.createEvent("Event");t.initEvent("backbutton",!0,!0),document.dispatchEvent(t)}},{key:"_callback",value:function(){this._dispatchDeviceBackButtonEvent()}},{key:"createHandler",value:function(t,e){if(!(t instanceof HTMLElement))throw new Error("element must be an instance of HTMLElement");if(!(e instanceof Function))throw new Error("callback must be an instance of Function");var i={_callback:e,_element:t,disable:function(){q.remove(t)},setListener:function(t){this._callback=t},enable:function(){q.set(t,this)},isEnabled:function(){return q.get(t)===this},destroy:function(){q.remove(t),this._callback=this._element=null}};return i.enable(),i}},{key:"_dispatchDeviceBackButtonEvent",value:function(){var t=this._captureTree(),e=this._findHandlerLeafElement(t),i=q.get(e);i._callback(function e(t){return{_element:t,callParentHandler:function(){for(var t=this._element.parentNode;t;){if(i=q.get(t))return i._callback(e(t));t=t.parentNode}}}}(e))}},{key:"_captureTree",value:function(){return function i(t){var e={element:t,children:Array.prototype.concat.apply([],function(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i]);return e}(t.children).map(function(t){if("none"===t.style.display||!1===t._isShown)return[];if(0===t.children.length&&!q.has(t))return[];var e=i(t);return 0!==e.children.length||q.has(e.element)?[e]:[]}))};if(!q.has(e.element))for(var n=0;n<e.children.length;n++){var o=e.children[n];if(q.has(o.element))return o}return e}(document.body)}},{key:"_findHandlerLeafElement",value:function(t){return function t(e){return 0===e.children.length?e.element:1===e.children.length?t(e.children[0]):e.children.map(function(t){return t.element}).reduce(function(t,e){if(!t)return e;var i=parseInt(window.getComputedStyle(t,"").zIndex,10),n=parseInt(window.getComputedStyle(e,"").zIndex,10);if(!isNaN(i)&&!isNaN(n))return n<i?t:e;throw new Error("Capturing backbutton-handler is failure.")},null)}(t)}}]),t}());S.AnimatorFactory=A,S.ModifierUtil=z,S.dbbDispatcher=F;var H=function(t,e){return t.substr(0,e.length)===e},Z=function(t,e){return t.substr(t.length-e.length,e.length)===e},W=function(t){return t.slice(1,-1)},G=function(t){return H(t,"{")&&Z(t,"}")},V=function(t){return H(t,"[")&&Z(t,"]")},X=function(t){return H(t,"'")&&Z(t,"'")||H(t,'"')&&Z(t,'"')},Y=function(t,e,i){throw new Error("Unexpected token '"+t+"' at position "+(i.length-e.length-1)+" in string: '"+i+"'")},J=function(t,e,i){return"true"===t||"false"===t?"true"===t:X(t)?W(t):isNaN(t)?G(t)?Q(W(t)):V(t)?$(W(t)):void Y(t,e,i):+t},K=function(t){var e=(t=t.trim()).length;if(":"===t[0]||","===t[0])e=1;else if("{"===t[0]||"["===t[0]){for(var i=t.charCodeAt(0),n=1,o=1;o<t.length;o++)if(t.charCodeAt(o)===i)n++;else if(t.charCodeAt(o)===i+2&&0==--n){e=o+1;break}}else if("'"===t[0]||'"'===t[0]){for(var a=1;a<t.length;a++)if(t[a]===t[0]){e=a+1;break}}else for(var s=1;s<t.length;s++)if(-1!==[" ",",",":"].indexOf(t[s])){e=s;break}return t.slice(0,e)},Q=function(t){for(var e=t=t.trim(),i={},n=!0,o=void 0,a=void 0,s=void 0;0<t.length;)if(a=s,s=K(t),t=t.slice(s.length,t.length).trim(),":"===s&&(!n||!a||","===a)||","===s&&n||":"!==s&&","!==s&&a&&","!==a&&":"!==a)Y(s,t,e);else if(":"===s&&n&&a){if(a=X(a)?W(a):a,!/^[A-Z_$][A-Z0-9_$]*$/i.test(a))throw new Error("Invalid key token '"+a+"' at position 0 in string: '"+e+"'");o=a,n=!1}else","===s&&!n&&a&&(i[o]=J(a,t,e),n=!0);return s&&(i[o]=J(s,t,e)),i},$=function(t){for(var e=t=t.trim(),i=[],n=void 0,o=void 0;0<t.length;)n=o,o=K(t),t=t.slice(o.length,t.length).trim(),","!==o||n&&","!==n?","===o&&i.push(J(n,t,e)):Y(o,t,e);return o&&(","!==o?i.push(J(o,t,e)):Y(o,t,e)),i},tt={},et="[Onsen UI]";tt.globals={fabOffset:0,errorPrefix:et,supportsPassive:!1},P._runOnActualPlatform(function(){tt.globals.actualMobileOS=P.getMobileOS(),tt.globals.isUIWebView=P.isUIWebView(),tt.globals.isWKWebView=P.isWKWebView()});try{var it=Object.defineProperty({},"passive",{get:function(){tt.globals.supportsPassive=!0}});window.addEventListener("testPassive",null,it),window.removeEventListener("testPassive",null,it)}catch(a){}tt.addEventListener=function(t,e,i,n,o){t.addEventListener(e,i,tt.globals.supportsPassive?n:(n||{}).capture)},tt.removeEventListener=function(t,e,i,n,o){t.removeEventListener(e,i,tt.globals.supportsPassive?n:(n||{}).capture)},tt.prepareQuery=function(e){return e instanceof Function?e:function(t){return tt.match(t,e)}},tt.match=function(t,e){return(t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector).call(t,e)},tt.findChild=function(t,e){for(var i=tt.prepareQuery(e),n=0;n<t.childNodes.length;n++){var o=t.childNodes[n];if(o.nodeType===Node.ELEMENT_NODE&&i(o))return o}return null},tt.findParent=function(t,e,i){for(var n=tt.prepareQuery(e),o=t.parentNode;;){if(!o||o===document||o instanceof DocumentFragment||i&&i(o))return null;if(n(o))return o;o=o.parentNode}},tt.isAttached=function(t){return document.body.contains(t)},tt.hasAnyComponentAsParent=function(t){for(;t&&document.documentElement!==t;)if((t=t.parentNode)&&t.nodeName.toLowerCase().match(/(ons-navigator|ons-tabbar|ons-modal)/))return!0;return!1},tt.getAllChildNodes=function(t){var e;return(e=[t]).concat.apply(e,E(Array.from(t.children).map(function(t){return tt.getAllChildNodes(t)})))},tt.isPageControl=function(t){return t.nodeName.match(/^ons-(navigator|splitter|tabbar|page)$/i)},tt.propagateAction=function(t,e){for(var i=0;i<t.childNodes.length;i++){var n=t.childNodes[i];n[e]instanceof Function?n[e]():tt.propagateAction(n,e)}},tt.camelize=function(t){return t.toLowerCase().replace(/-([a-z])/g,function(t,e){return e.toUpperCase()})},tt.hyphenate=function(t){return t.replace(/([a-zA-Z])([A-Z])/g,"$1-$2").toLowerCase()},tt.create=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=t.split("."),n=document.createElement(i.shift()||"div");return i.length&&(n.className=i.join(" ")),h(n,e),n},tt.createElement=function(t){var e=document.createElement("div");t instanceof DocumentFragment?e.appendChild(document.importNode(t,!0)):e.innerHTML=t.trim(),1<e.children.length&&tt.throw("HTML template must contain a single root element");var i=e.children[0];return e.children[0].remove(),i},tt.createFragment=function(t){var e=document.createElement("template");return e.innerHTML=t,document.importNode(e.content,!0)},tt.extend=function(t){for(var e=arguments.length,i=Array(1<e?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];for(var o=0;o<i.length;o++)if(i[o])for(var a=Object.keys(i[o]),s=0;s<a.length;s++){var r=a[s];t[r]=i[o][r]}return t},tt.arrayFrom=function(t){return Array.prototype.slice.apply(t)},tt.parseJSONObjectSafely=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};try{var i=JSON.parse(""+t);if("object"===(void 0===i?"undefined":m(i))&&null!==i)return i}catch(t){return e}return e},tt.findFromPath=function(t){t=t.split(".");for(var e,i=window;e=t.shift();)i=i[e];return i},tt.getTopPage=function(t){return t&&("ons-page"===t.tagName.toLowerCase()?t:t.topPage)||null},tt.findToolbarPage=function(t){var e=tt.getTopPage(t);if(e){if(e._canAnimateToolbar())return e;for(var i=0;i<e._contentElement.children.length;i++){var n=tt.getTopPage(e._contentElement.children[i]);if(n&&!/ons-tabbar/i.test(e._contentElement.children[i].tagName))return tt.findToolbarPage(n)}}return null},tt.triggerElementEvent=function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:i});return Object.keys(i).forEach(function(t){n[t]=i[t]}),t.dispatchEvent(n),n},tt.hasModifier=function(t,e){return!!t.hasAttribute("modifier")&&RegExp("(^|\\s+)"+e+"($|\\s+)","i").test(t.getAttribute("modifier"))},tt.addModifier=function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return i.autoStyle&&(e=j.mapModifier(e,t,i.forceAutoStyle)),!tt.hasModifier(t,e)&&(t.setAttribute("modifier",((t.getAttribute("modifier")||"")+" "+e).trim()),!0)},tt.removeModifier=function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(i.autoStyle&&(e=j.mapModifier(e,t,i.forceAutoStyle)),!t.getAttribute("modifier")||!tt.hasModifier(t,e))return!1;var n=t.getAttribute("modifier").split(/\s+/).filter(function(t){return t&&t!==e});return n.length?t.setAttribute("modifier",n.join(" ")):t.removeAttribute("modifier"),!0},tt.toggleModifier=function(){var t=2<arguments.length?arguments.length<=2?void 0:arguments[2]:{},e="boolean"==typeof t?t:t.force;("boolean"==typeof e?e:!tt.hasModifier.apply(tt,arguments))?tt.addModifier.apply(tt,arguments):tt.removeModifier.apply(tt,arguments)},tt.restoreClass=function(e,t,i){t.split(/\s+/).forEach(function(t){return""!==t&&!e.classList.contains(t)&&e.classList.add(t)}),e.hasAttribute("modifier")&&z.refresh(e,i)},tt.updateParentPosition=function(t){!t._parentUpdated&&t.parentElement&&("static"===window.getComputedStyle(t.parentElement).getPropertyValue("position")&&(t.parentElement.style.position="relative"),t._parentUpdated=!0)},tt.toggleAttribute=function(t,e,i){i?t.setAttribute(e,"boolean"==typeof i?"":i):t.removeAttribute(e)},tt.bindListeners=function(i,t){t.forEach(function(t){var e=t.replace(/^_[a-z]/,"_bound"+t[1].toUpperCase());i[e]=i[e]||i[t].bind(i)})},tt.each=function(e,i){return Object.keys(e).forEach(function(t){return i(t,e[t])})},tt.updateRipple=function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};void 0===e&&(e=t.hasAttribute("ripple"));var n=tt.findChild(t,"ons-ripple");if(e){if(!n){var o=document.createElement("ons-ripple");Object.keys(i).forEach(function(t){return o.setAttribute(t,i[t])}),t.insertBefore(o,t.firstChild)}}else n&&n.remove()},tt.animationOptionsParse=function(t){if(t=t.trim(),G(t))return Q(W(t));if(V(t))return $(W(t));throw new Error("Provided string must be object or array like: "+t)},tt.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},tt.defer=function(){var i={};return i.promise=new Promise(function(t,e){i.resolve=t,i.reject=e}),i},tt.warn=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];var n;S.config.warningsDisabled||(n=console).warn.apply(n,[et].concat(e))},tt.throw=function(t){throw new Error(et+" "+t)},tt.throwAbstract=function(){return tt.throw("Cannot instantiate abstract class")},tt.throwMember=function(){return tt.throw("Class member must be implemented")},tt.throwPageLoader=function(){return tt.throw("First parameter should be an instance of PageLoader")},tt.throwAnimator=function(t){return tt.throw('"Animator" param must inherit '+t+"Animator")};var nt=function(t){return t.cancelable&&t.preventDefault()};tt.iosPreventScroll=function(i){"ios"===tt.globals.actualMobileOS&&(i.on("touchmove",nt),i.on("dragend",function t(e){i.off("touchmove",nt),i.off("dragend",t)}))},tt.iosPageScrollFix=function(t){"ios"===tt.globals.actualMobileOS&&(document.body.classList.toggle("ons-ios-scroll",t),tt.globals.isUIWebView&&!S.config.forceUIWebViewScrollFix||document.body.classList.toggle("ons-ios-scroll-fix",t))},tt.iosMaskScrollFix=function(t,e){tt.globals.isUIWebView&&t[(e?"add":"remove")+"EventListener"]("touchmove",nt,!1)},tt.isValidGesture=function(t){return void 0!==t.gesture&&(t.gesture.distance<=15||t.gesture.deltaTime<=100)},tt.checkMissingImport=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];e.forEach(function(t){o[t]||tt.throw("Ons"+t+" is required but was not imported (Custom Elements)")})};var ot,at,st,rt,lt={};lt.capitalize=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},lt.buildTransitionValue=function(e){return e.property=e.property||"all",e.duration=e.duration||.4,e.timing=e.timing||"linear",e.property.split(/ +/).map(function(t){return t+" "+e.duration+"s "+e.timing}).join(", ")},lt.onceOnTransitionEnd=function(e,i){if(!e)return function(){};var n=function(t){e==t.target&&(t.stopPropagation(),o(),i())},o=function(){lt._transitionEndEvents.forEach(function(t){e.removeEventListener(t,n,!1)})};return lt._transitionEndEvents.forEach(function(t){e.addEventListener(t,n,!1)}),o},lt._transitionEndEvents="ontransitionend"in window?["transitionend"]:"onwebkittransitionend"in window?["webkitTransitionEnd"]:"webkit"===lt.vendorPrefix||"o"===lt.vendorPrefix||"moz"===lt.vendorPrefix||"ms"===lt.vendorPrefix?[lt.vendorPrefix+"TransitionEnd","transitionend"]:[],lt._cssPropertyDict=function(){for(var t=window.getComputedStyle(document.documentElement,""),e={},i="A".charCodeAt(0),n="z".charCodeAt(0),o=0;o<t.length;o++){var a=t[o].replace(/^[-]+/,"").replace(/[-][a-z]/g,function(t){return t.substr(1).toUpperCase()}).replace(/^moz/,"Moz");i<=a.charCodeAt(0)&&n>=a.charCodeAt(0)&&"cssText"!==a&&"parentText"!==a&&(e[a]=!0)}return e}(),lt.hasCssProperty=function(t){return t in lt._cssPropertyDict},lt.vendorPrefix=(rt=window.getComputedStyle(document.documentElement,""),(Array.prototype.slice.call(rt).join("").match(/-(moz|webkit|ms)-/)||""===rt.OLink&&["","o"])[1]),lt.forceLayoutAtOnce=function(t,e){this.batchImmediate(function(){t.forEach(function(t){t.offsetHeight}),e()})},lt.batchImmediate=(st=[],function(t){0===st.length&&setImmediate(function(){var t=st.slice(0);st=[],t.forEach(function(t){t()})}),st.push(t)}),lt.batchAnimationFrame=(ot=[],at=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)},function(t){0===ot.length&&at(function(){var t=ot.slice(0);ot=[],t.forEach(function(t){t()})}),ot.push(t)}),lt.transitionPropertyName=function(){if(lt.hasCssProperty("transitionDuration"))return"transition";if(lt.hasCssProperty(lt.vendorPrefix+"TransitionDuration"))return lt.vendorPrefix+"Transition";throw new Error("Invalid state")}();var ht=function t(e,i){if(!(this instanceof t))return new t(e,i);if(e instanceof HTMLElement)this.elements=[e];else{if("[object Array]"!==Object.prototype.toString.call(e))throw new Error("First argument must be an array or an instance of HTMLElement.");this.elements=e}this.defaults=i,this.transitionQueue=[],this.lastStyleAttributeDict=[]};ht.prototype={transitionQueue:void 0,elements:void 0,defaults:void 0,play:function(e){return"function"==typeof e&&this.transitionQueue.push(function(t){e(),t()}),this.startAnimation(),this},default:function(t,e,i){function n(t,e,i){return void 0!==t.duration&&(e=t.duration),void 0!==t.timing&&(i=t.timing),{css:t.css||t,duration:e,timing:i}}return this.saveStyle().queue(n(t,0,this.defaults.timing)).wait(void 0===i?this.defaults.delay:i).queue(n(e,this.defaults.duration,this.defaults.timing)).restoreStyle()},queue:function(t,e){var i=this.transitionQueue;if(t&&e&&(e.css=t,t=new ht.Transition(e)),t instanceof Function||t instanceof ht.Transition||(t=new ht.Transition(t.css?t:{css:t})),t instanceof Function)i.push(t);else{if(!(t instanceof ht.Transition))throw new Error("Invalid arguments");i.push(t.build())}return this},wait:function(e){return 0<e&&this.transitionQueue.push(function(t){setTimeout(t,1e3*e)}),this},saveStyle:function(){return this.transitionQueue.push(function(t){this.elements.forEach(function(t,e){for(var i=this.lastStyleAttributeDict[e]={},n=0;n<t.style.length;n++)i[t.style[n]]=t.style[t.style[n]]}.bind(this)),t()}.bind(this)),this},restoreStyle:function(a){var s=this;if((a=a||{}).transition&&!a.duration)throw new Error('"options.duration" is required when "options.transition" is enabled.');var r=lt.transitionPropertyName;if(a.transition||a.duration&&0<a.duration){var l=a.transition||"all "+a.duration+"s "+(a.timing||"linear");this.transitionQueue.push(function(t){var e,i=this.elements,n=function(){i.forEach(function(t){t.style[r]=""})},o=lt.onceOnTransitionEnd(i[0],function(){clearTimeout(e),n(),t()});e=setTimeout(function(){o(),n(),t()},1e3*a.duration*1.4),i.forEach(function(e,t){var i=s.lastStyleAttributeDict[t];if(!i)throw new Error("restoreStyle(): The style is not saved. Invoke saveStyle() before.");s.lastStyleAttributeDict[t]=void 0;for(var n,o=0,a=e.style.length;o<a;o++)n=e.style[o],void 0===i[n]&&(i[n]="");e.style[r]=l,Object.keys(i).forEach(function(t){t!==r&&(e.style[t]=i[t])}),e.style[r]=l})})}else this.transitionQueue.push(function(t){s.elements.forEach(function(e,t){e.style[r]="none";var i=s.lastStyleAttributeDict[t];if(!i)throw new Error("restoreStyle(): The style is not saved. Invoke saveStyle() before.");s.lastStyleAttributeDict[t]=void 0;for(var n=0;n<e.style.length;n++)e.style[n],void 0===i[e.style[n]]&&(i[e.style[n]]="");Object.keys(i).forEach(function(t){e.style[t]=i[t]})}),t()});return this},startAnimation:function(){return this._dequeueTransition(),this},_dequeueTransition:function(){var t=this.transitionQueue.shift();if(this._currentTransition)throw new Error("Current transition exists.");this._currentTransition=t;var e=this,i=!1;t&&t.call(this,function(){if(i)throw new Error("Invalid state: This callback is called twice.");i=!0,e._currentTransition=void 0,e._dequeueTransition()})}},ht.runAll=function(){for(var t=0;t<arguments.length;t++)arguments[t].play()},(ht.Transition=function(t){this.options=t||{},this.options.duration=this.options.duration||0,this.options.timing=this.options.timing||"linear",this.options.css=this.options.css||{},this.options.property=this.options.property||"all"}).prototype={build:function(){if(0===Object.keys(this.options.css).length)throw new Error("options.css is required.");var n,o,a=(n=this.options.css,o={},Object.keys(n).forEach(function(t){var e=n[t];if(lt.hasCssProperty(t))o[t]=e;else{var i=lt.vendorPrefix+lt.capitalize(t);lt.hasCssProperty(i)?o[i]=e:(o[i]=e,o[t]=e)}}),o);if(0<this.options.duration){var s=lt.buildTransitionValue(this.options),r=this;return function(t){var e,i=this.elements,n=1e3*r.options.duration*1.4,o=lt.onceOnTransitionEnd(i[0],function(){clearTimeout(e),t()});e=setTimeout(function(){o(),t()},n),i.forEach(function(e){e.style[lt.transitionPropertyName]=s,Object.keys(a).forEach(function(t){e.style[t]=a[t]})})}}if(this.options.duration<=0)return function(t){var e=this.elements;e.forEach(function(e){e.style[lt.transitionPropertyName]="",Object.keys(a).forEach(function(t){e.style[t]=a[t]})}),0<e.length?lt.forceLayoutAtOnce(e,function(){lt.batchAnimationFrame(t)}):lt.batchAnimationFrame(t)}}};var ut,ct,dt,pt,ft=function t(e,i){return new t.Instance(e,i||{})};ft.defaults={behavior:{touchAction:"pan-y",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},ft.DOCUMENT=document,ft.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,ft.HAS_TOUCHEVENTS="ontouchstart"in window,ft.IS_MOBILE=/mobile|tablet|ip(ad|hone|od)|android|silk/i.test(navigator.userAgent),ft.NO_MOUSEEVENTS=ft.HAS_TOUCHEVENTS&&ft.IS_MOBILE||ft.HAS_POINTEREVENTS,ft.CALCULATE_INTERVAL=25;var mt,_t,gt,vt,yt,bt,kt,wt={},Mt=ft.DIRECTION_DOWN="down",Et=ft.DIRECTION_LEFT="left",xt=ft.DIRECTION_UP="up",Pt=ft.DIRECTION_RIGHT="right",Ct=ft.POINTER_MOUSE="mouse",Lt=ft.POINTER_TOUCH="touch",St=ft.POINTER_PEN="pen",At=ft.EVENT_START="start",Tt=ft.EVENT_MOVE="move",Ot=ft.EVENT_END="end",Dt=ft.EVENT_RELEASE="release",It=ft.EVENT_TOUCH="touch";ft.READY=!1,ft.plugins=ft.plugins||{},ft.gestures=ft.gestures||{},ct=ft.utils={extend:function(t,e,i){for(var n in e)!e.hasOwnProperty(n)||void 0!==t[n]&&i||(t[n]=e[n]);return t},on:function(t,e,i,n){tt.addEventListener(t,e,i,n,!0)},off:function(t,e,i,n){tt.removeEventListener(t,e,i,n,!0)},each:function(t,e,i){var n,o;if("forEach"in t)t.forEach(e,i);else if(void 0!==t.length){for(n=0,o=t.length;n<o;n++)if(!1===e.call(i,t[n],n,t))return}else for(n in t)if(t.hasOwnProperty(n)&&!1===e.call(i,t[n],n,t))return},inStr:function(t,e){return-1<t.indexOf(e)},inArray:function(e,i,t){if(t){for(var n=0,o=e.length;n<o;n++)if(Object.keys(i).every(function(t){return e[n][t]===i[t]}))return n;return-1}if(e.indexOf)return e.indexOf(i);for(n=0,o=e.length;n<o;n++)if(e[n]===i)return n;return-1},toArray:function(t){return Array.prototype.slice.call(t,0)},hasParent:function(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1},getCenter:function(t){var e=[],i=[],n=[],o=[],a=Math.min,s=Math.max;return 1===t.length?{pageX:t[0].pageX,pageY:t[0].pageY,clientX:t[0].clientX,clientY:t[0].clientY}:(ct.each(t,function(t){e.push(t.pageX),i.push(t.pageY),n.push(t.clientX),o.push(t.clientY)}),{pageX:(a.apply(Math,e)+s.apply(Math,e))/2,pageY:(a.apply(Math,i)+s.apply(Math,i))/2,clientX:(a.apply(Math,n)+s.apply(Math,n))/2,clientY:(a.apply(Math,o)+s.apply(Math,o))/2})},getVelocity:function(t,e,i){return{x:Math.abs(e/t)||0,y:Math.abs(i/t)||0}},getAngle:function(t,e){var i=e.clientX-t.clientX,n=e.clientY-t.clientY;return 180*Math.atan2(n,i)/Math.PI},getDirection:function(t,e){return Math.abs(t.clientX-e.clientX)>=Math.abs(t.clientY-e.clientY)?0<t.clientX-e.clientX?Et:Pt:0<t.clientY-e.clientY?xt:Mt},getDistance:function(t,e){var i=e.clientX-t.clientX,n=e.clientY-t.clientY;return Math.sqrt(i*i+n*n)},getScale:function(t,e){return 2<=t.length&&2<=e.length?this.getDistance(e[0],e[1])/this.getDistance(t[0],t[1]):1},getRotation:function(t,e){return 2<=t.length&&2<=e.length?this.getAngle(e[1],e[0])-this.getAngle(t[1],t[0]):0},isVertical:function(t){return t==xt||t==Mt},setPrefixedCss:function(t,e,i,n){var o=["","Webkit","Moz","O","ms"];e=ct.toCamelCase(e);for(var a=0;a<o.length;a++){var s=e;if(o[a]&&(s=o[a]+s.slice(0,1).toUpperCase()+s.slice(1)),s in t.style){t.style[s]=(null===n||n)&&i||"";break}}},toggleBehavior:function(i,t,n){if(t&&i&&i.style){ct.each(t,function(t,e){ct.setPrefixedCss(i,e,t,n)});var e=n&&function(){return!1};"none"==t.userSelect&&(i.onselectstart=e),"none"==t.userDrag&&(i.ondragstart=e)}},toCamelCase:function(t){return t.replace(/[_-]([a-z])/g,function(t){return t[1].toUpperCase()})}},ut=ft.event={preventMouseEvents:!1,started:!1,shouldDetect:!1,on:function(e,t,i,n,o){var a=t.split(" ");ct.each(a,function(t){ct.on(e,t,i,n),o&&o(t)})},off:function(e,t,i,n,o){var a=t.split(" ");ct.each(a,function(t){ct.off(e,t,i,n),o&&o(t)})},onTouch:function(a,s,r,t){var l=this,e=function(t){var e,i=t.type.toLowerCase(),n=ft.HAS_POINTEREVENTS,o=ct.inStr(i,"mouse");o&&l.preventMouseEvents||(o&&s==At&&0===t.button?(l.preventMouseEvents=!1,l.shouldDetect=!0):n&&s==At?l.shouldDetect=1===t.buttons||pt.matchType(Lt,t):o||s!=At||(l.preventMouseEvents=!0,l.shouldDetect=!0),n&&s!=Ot&&pt.updatePointer(s,t),l.shouldDetect&&(e=l.doDetect.call(l,t,s,a,r)),e==Ot&&(l.preventMouseEvents=!1,l.shouldDetect=!1,pt.reset()),n&&s==Ot&&pt.updatePointer(s,t))};return this.on(a,wt[s],e,t),e},doDetect:function(t,e,i,n){var o=this.getTouchList(t,e),a=o.length,s=e,r=o.trigger,l=a;e==At?r=It:e==Ot&&(r=Dt,l=o.length-(t.changedTouches?t.changedTouches.length:1)),0<l&&this.started&&(s=Tt),this.started=!0;var h=this.collectEventData(i,s,o,t);return e!=Ot&&n.call(dt,h),r&&(h.changedLength=l,h.eventType=r,n.call(dt,h),h.eventType=s,delete h.changedLength),s==Ot&&(n.call(dt,h),this.started=!1),s},determineEventTypes:function(){var t;return t=ft.HAS_POINTEREVENTS?window.PointerEvent?["pointerdown","pointermove","pointerup pointercancel lostpointercapture"]:["MSPointerDown","MSPointerMove","MSPointerUp MSPointerCancel MSLostPointerCapture"]:ft.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],wt[At]=t[0],wt[Tt]=t[1],wt[Ot]=t[2],wt},getTouchList:function(t,e){if(ft.HAS_POINTEREVENTS)return pt.getTouchList();if(t.touches){if(e==Tt)return t.touches;var i=[],n=[].concat(ct.toArray(t.touches),ct.toArray(t.changedTouches)),o=[];return ct.each(n,function(t){-1===ct.inArray(i,t.identifier)&&o.push(t),i.push(t.identifier)}),o}return t.identifier=1,[t]},collectEventData:function(t,e,i,n){var o=Lt;return ct.inStr(n.type,"mouse")||pt.matchType(Ct,n)?o=Ct:pt.matchType(St,n)&&(o=St),{center:ct.getCenter(i),timeStamp:Date.now(),target:n.target,touches:i,eventType:e,pointerType:o,srcEvent:n,preventDefault:function(){var t=this.srcEvent;t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return dt.stopDetect()}}}},pt=ft.PointerEvent={pointers:{},getTouchList:function(){var e=[];return ct.each(this.pointers,function(t){e.push(t)}),e},updatePointer:function(t,e){t==Ot||t!=Ot&&1!==e.buttons?delete this.pointers[e.pointerId]:(e.identifier=e.pointerId,this.pointers[e.pointerId]=e)},matchType:function(t,e){if(!e.pointerType)return!1;var i=e.pointerType,n={};return n[Ct]=i===(e.MSPOINTER_TYPE_MOUSE||Ct),n[Lt]=i===(e.MSPOINTER_TYPE_TOUCH||Lt),n[St]=i===(e.MSPOINTER_TYPE_PEN||St),n[t]},reset:function(){this.pointers={}}},dt=ft.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(t,e){this.current||(this.stopped=!1,this.current={inst:t,startEvent:ct.extend({},e),lastEvent:!1,lastCalcEvent:!1,futureCalcEvent:!1,lastCalcData:{},name:""},this.detect(e))},detect:function(e){if(this.current&&!this.stopped){e=this.extendEventData(e);var i=this.current.inst,n=i.options;return ct.each(this.gestures,function(t){!this.stopped&&i.enabled&&n[t.name]&&t.handler.call(t,e,i)},this),this.current&&(this.current.lastEvent=e),e.eventType==Ot&&this.stopDetect(),e}},stopDetect:function(){this.previous=ct.extend({},this.current),this.current=null,this.stopped=!0},getCalculatedData:function(t,e,i,n,o){var a=this.current,s=!1,r=a.lastCalcEvent,l=a.lastCalcData;r&&t.timeStamp-r.timeStamp>ft.CALCULATE_INTERVAL&&(e=r.center,i=t.timeStamp-r.timeStamp,n=t.center.clientX-r.center.clientX,o=t.center.clientY-r.center.clientY,s=!0),t.eventType!=It&&t.eventType!=Dt||(a.futureCalcEvent=t),a.lastCalcEvent&&!s||(l.velocity=ct.getVelocity(i,n,o),l.angle=ct.getAngle(e,t.center),l.direction=ct.getDirection(e,t.center),a.lastCalcEvent=a.futureCalcEvent||t,a.futureCalcEvent=t),t.velocityX=l.velocity.x,t.velocityY=l.velocity.y,t.interimAngle=l.angle,t.interimDirection=l.direction},extendEventData:function(t){var e=this.current,i=e.startEvent,n=e.lastEvent||i;t.eventType!=It&&t.eventType!=Dt||(i.touches=[],ct.each(t.touches,function(t){i.touches.push({clientX:t.clientX,clientY:t.clientY})}));var o=t.timeStamp-i.timeStamp,a=t.center.clientX-i.center.clientX,s=t.center.clientY-i.center.clientY;return this.getCalculatedData(t,n.center,o,a,s),ct.extend(t,{startEvent:i,deltaTime:o,deltaX:a,deltaY:s,distance:ct.getDistance(i.center,t.center),angle:ct.getAngle(i.center,t.center),direction:ct.getDirection(i.center,t.center),scale:ct.getScale(i.touches,t.touches),rotation:ct.getRotation(i.touches,t.touches)}),t},register:function(t){var e=t.defaults||{};return void 0===e[t.name]&&(e[t.name]=!0),ct.extend(ft.defaults,e,!0),t.index=t.index||1e3,this.gestures.push(t),this.gestures.sort(function(t,e){return t.index<e.index?-1:t.index>e.index?1:0}),this.gestures}},(ft.Instance=function(t,i){var e,n=this,o=i&&i.passive?{passive:!0}:void 0;e=o,ft.READY||(ut.determineEventTypes(),ct.each(ft.gestures,function(t){dt.register(t)}),ut.onTouch(ft.DOCUMENT,Tt,dt.detect,e),ut.onTouch(ft.DOCUMENT,Ot,dt.detect,e),ft.READY=!0),this.element=t,this.enabled=!0,ct.each(i,function(t,e){delete i[e],i[ct.toCamelCase(e)]=t}),this.options=ct.extend(ct.extend({},ft.defaults),i||{}),this.options.listenerOptions=o,this.options.behavior&&ct.toggleBehavior(this.element,this.options.behavior,!0),this.eventStartHandler=ut.onTouch(t,At,function(t){n.enabled&&t.eventType==At?dt.startDetect(n,t):t.eventType==It&&dt.detect(t)},o),this.eventHandlers=[]}).prototype={on:function(t,e,i){var n=this;return ut.on(n.element,t,e,tt.extend({},n.options.listenerOptions,i),function(t){n.eventHandlers.push({gesture:t,handler:e})}),n},off:function(t,i,e){var n=this;return ut.off(n.element,t,i,tt.extend({},n.options.listenerOptions,e),function(t){var e=ct.inArray(n.eventHandlers,{gesture:t,handler:i},!0);0<=e&&n.eventHandlers.splice(e,1)}),n},trigger:function(t,e){e||(e={});var i=ft.DOCUMENT.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e;var n=this.element;return ct.hasParent(e.target,n)&&(n=e.target),n.dispatchEvent(i),this},enable:function(t){return this.enabled=t,this},dispose:function(){var t,e;for(ct.toggleBehavior(this.element,this.options.behavior,!1),t=-1;e=this.eventHandlers[++t];)ct.off(this.element,e.gesture,e.handler);return this.eventHandlers=[],ut.off(this.element,wt[At],this.eventStartHandler),null}},kt=!(bt="drag"),ft.gestures.Drag={name:bt,index:50,handler:function(t,e){var i=dt.current;if(!(0<e.options.dragMaxTouches&&t.touches.length>e.options.dragMaxTouches))switch(t.eventType){case At:kt=!1;break;case Tt:if(t.distance<e.options.dragMinDistance&&i.name!=bt)return;var n=i.startEvent.center;if(i.name!=bt&&(i.name=bt,e.options.dragDistanceCorrection&&0<t.distance)){var o=Math.abs(e.options.dragMinDistance/t.distance);n.pageX+=t.deltaX*o,n.pageY+=t.deltaY*o,n.clientX+=t.deltaX*o,n.clientY+=t.deltaY*o,t=dt.extendEventData(t)}(i.lastEvent.dragLockToAxis||e.options.dragLockToAxis&&e.options.dragLockMinDistance<=t.distance)&&(t.dragLockToAxis=!0);var a=i.lastEvent.direction;t.dragLockToAxis&&a!==t.direction&&(ct.isVertical(a)?t.direction=t.deltaY<0?xt:Mt:t.direction=t.deltaX<0?Et:Pt),kt||(e.trigger(bt+"start",t),kt=!0),e.trigger(bt,t),e.trigger(bt+t.direction,t);var s=ct.isVertical(t.direction);(e.options.dragBlockVertical&&s||e.options.dragBlockHorizontal&&!s)&&t.preventDefault();break;case Dt:kt&&t.changedLength<=e.options.dragMaxTouches&&(e.trigger(bt+"end",t),kt=!1);break;case Ot:kt=!1}},defaults:{dragMinDistance:10,dragDistanceCorrection:!0,dragMaxTouches:1,dragBlockHorizontal:!1,dragBlockVertical:!1,dragLockToAxis:!1,dragLockMinDistance:25}},ft.gestures.Gesture={name:"gesture",index:1337,handler:function(t,e){e.trigger(this.name,t)}},vt="hold",ft.gestures.Hold={name:vt,index:10,defaults:{holdTimeout:500,holdThreshold:2},handler:function(t,e){var i=e.options,n=dt.current;switch(t.eventType){case At:clearTimeout(yt),n.name=vt,yt=setTimeout(function(){n&&n.name==vt&&e.trigger(vt,t)},i.holdTimeout);break;case Tt:t.distance>i.holdThreshold&&clearTimeout(yt);break;case Dt:clearTimeout(yt)}}},ft.gestures.Release={name:"release",index:1/0,handler:function(t,e){t.eventType==Dt&&e.trigger(this.name,t)}},ft.gestures.Swipe={name:"swipe",index:40,defaults:{swipeMinTouches:1,swipeMaxTouches:1,swipeVelocityX:.6,swipeVelocityY:.6},handler:function(t,e){if(t.eventType==Dt){var i=t.touches.length,n=e.options;if(i<n.swipeMinTouches||i>n.swipeMaxTouches)return;(t.velocityX>n.swipeVelocityX||t.velocityY>n.swipeVelocityY)&&(e.trigger(this.name,t),e.trigger(this.name+t.direction,t))}}},gt=!1,ft.gestures.Tap={name:"tap",index:100,handler:function(t,e){var i,n,o=e.options,a=dt.current,s=dt.previous;switch(t.eventType){case At:gt=!1;break;case Tt:gt=gt||t.distance>o.tapMaxDistance;break;case Ot:!ct.inStr(t.srcEvent.type,"cancel")&&t.deltaTime<o.tapMaxTime&&!gt&&(i=s&&s.lastEvent&&t.timeStamp-s.lastEvent.timeStamp,n=!1,s&&"tap"==s.name&&i&&i<o.doubleTapInterval&&t.distance<o.doubleTapDistance&&(e.trigger("doubletap",t),n=!0),n&&!o.tapAlways||(a.name="tap",e.trigger(a.name,t)))}},defaults:{tapMaxTime:250,tapMaxDistance:10,tapAlways:!0,doubleTapDistance:20,doubleTapInterval:300}},ft.gestures.Touch={name:"touch",index:-1/0,defaults:{preventDefault:!1,preventMouse:!1},handler:function(t,e){e.options.preventMouse&&t.pointerType==Ct?t.stopDetect():(e.options.preventDefault&&t.preventDefault(),t.eventType==It&&e.trigger("touch",t))}},_t=!(mt="transform"),ft.gestures.Transform={name:mt,index:45,defaults:{transformMinScale:.01,transformMinRotation:1},handler:function(t,e){switch(t.eventType){case At:_t=!1;break;case Tt:if(t.touches.length<2)return;var i=Math.abs(1-t.scale),n=Math.abs(t.rotation);if(i<e.options.transformMinScale&&n<e.options.transformMinRotation)return;dt.current.name=mt,_t||(e.trigger(mt+"start",t),_t=!0),e.trigger(mt,t),n>e.options.transformMinRotation&&e.trigger("rotate",t),i>e.options.transformMinScale&&(e.trigger("pinch",t),e.trigger("pinch"+(t.scale<1?"in":"out"),t));break;case Dt:_t&&t.changedLength<2&&(e.trigger(mt+"end",t),_t=!1)}}};var Nt=void 0,Bt=void 0,jt=new(function(){function t(){_(this,t),this.queue=[]}return g(t,[{key:"add",value:function(t,e){var i=this;this.queue.push(t),1===this.queue.length&&setImmediate(this.queue[0]),e.then(function(){i.queue.shift(),0<i.queue.length&&setTimeout(i.queue[0],1e3/30)})}}]),t}()),zt=function(e,i){["id","class","animation"].forEach(function(t){return i.hasOwnProperty(t)&&e.setAttribute(t,i[t])}),i.modifier&&tt.addModifier(e,i.modifier)},Rt=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return e=y({},e),"string"==typeof t?e.message=t:e=t,e&&(e.message||e.messageHTML)||tt.throw("Notifications must contain a message"),(e.hasOwnProperty("buttonLabels")||e.hasOwnProperty("buttonLabel"))&&(e.buttonLabels=e.buttonLabels||e.buttonLabel,Array.isArray(e.buttonLabels)||(e.buttonLabels=[e.buttonLabels||""])),tt.extend({compile:function(t){return t},callback:function(t){return t},animation:"default",cancelable:!1,primaryButtonIndex:(e.buttonLabels||i.buttonLabels||[]).length-1},i,e)},Ut={_createAlertDialog:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return new Promise(function(i){var n=Rt.apply(void 0,e);tt.checkMissingImport("AlertDialog","AlertDialogButton");var t="";n.isPrompt&&(t='\n      <input\n        class="text-input text-input--underbar"\n        type="'+(n.inputType||"text")+'"\n        placeholder="'+(n.placeholder||"")+'"\n        value="'+(n.defaultValue||"")+'"\n        style="width: 100%; margin-top: 10px;"\n      />\n    ');var o="";n.buttonLabels.forEach(function(t,e){o+='\n      <ons-alert-dialog-button\n        class="\n          '+(e===n.primaryButtonIndex?" alert-dialog-button--primal":"")+"\n          "+(n.buttonLabels.length<=2?" alert-dialog-button--rowfooter":"")+'\n        "\n        style="position: relative;">\n        '+t+"\n      </ons-alert-dialog-button>\n    "});var a={},s=function(){a.dialog.onDialogCancel&&a.dialog.removeEventListener("dialog-cancel",a.dialog.onDialogCancel),Object.keys(a).forEach(function(t){return delete a[t]}),a=null,n.destroy instanceof Function&&n.destroy()};a.dialog=document.createElement("ons-alert-dialog"),a.dialog.innerHTML='\n    <div class="alert-dialog-mask"\n      style="\n        '+(n.maskColor?"background-color: "+n.maskColor:"")+'\n      "></div>\n    <div class="alert-dialog">\n      <div class="alert-dialog-container">\n        <div class="alert-dialog-title">\n          '+(n.title||"")+'\n        </div>\n        <div class="alert-dialog-content">\n          '+(n.message||n.messageHTML)+"\n          "+t+'\n        </div>\n        <div class="\n          alert-dialog-footer\n          '+(n.buttonLabels.length<=2?" alert-dialog-footer--rowfooter":"")+'\n        ">\n          '+o+"\n        </div>\n      </div>\n    </div>\n  ",c(a.dialog),zt(a.dialog,n),n.isPrompt&&n.submitOnEnter&&(a.input=a.dialog.querySelector(".text-input"),a.input.onkeypress=function(t){13===t.keyCode&&a.dialog.hide().then(function(){if(a){var t=a.input.value;s(),n.callback(t),i(t)}})}),a.footer=a.dialog.querySelector(".alert-dialog-footer"),tt.arrayFrom(a.dialog.querySelectorAll(".alert-dialog-button")).forEach(function(t,e){t.onclick=function(){a.dialog.hide().then(function(){if(a){var t=e;n.isPrompt&&(t=e===n.primaryButtonIndex?a.input.value:null),a.dialog.remove(),s(),n.callback(t),i(t)}})},a.footer.appendChild(t)}),n.cancelable&&(a.dialog.cancelable=!0,a.dialog.onDialogCancel=function(){setImmediate(function(){a.dialog.remove(),s()});var t=n.isPrompt?null:-1;n.callback(t),i(t)},a.dialog.addEventListener("dialog-cancel",a.dialog.onDialogCancel,!1)),document.body.appendChild(a.dialog),n.compile(a.dialog),setImmediate(function(){a.dialog.show().then(function(){if(a.input&&n.isPrompt&&n.autofocus){var t=a.input.value.length;a.input.focus(),a.input.setSelectionRange(t,t)}})})})},alert:function(t,e){return Ut._createAlertDialog(t,e,{buttonLabels:["OK"],title:"Alert"})},confirm:function(t,e){return Ut._createAlertDialog(t,e,{buttonLabels:["Cancel","OK"],title:"Confirm"})},prompt:function(t,e){return Ut._createAlertDialog(t,e,{buttonLabels:["OK"],title:"Alert",isPrompt:!0,autofocus:!0,submitOnEnter:!0})},toast:function(o,a){var s=new Promise(function(e){tt.checkMissingImport("Toast"),a=Rt(o,a,{timeout:0,force:!1});var i=tt.createElement("\n      <ons-toast>\n        "+a.message+"\n        "+(a.buttonLabels?"<button>"+a.buttonLabels[0]+"</button>":"")+"\n      </ons-toast>\n    ");zt(i,a);var t=function(t){i&&i.hide().then(function(){i&&(i.remove(),i=null,a.callback(t),e(t))})};a.buttonLabels&&(tt.findChild(i._toast,"button").onclick=function(){return t(0)}),document.body.appendChild(i),a.compile(i);var n=function(){i.parentElement&&i.show(a).then(function(){a.timeout&&setTimeout(function(){return t(-1)},a.timeout)})};setImmediate(function(){return a.force?n():jt.add(n,s)})});return s}},qt=function(){};qt.prototype={on:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},once:function(e,i){var n=this;this.on(e,function t(){return n.off(e,t),i.apply(null,arguments)})},off:function(t,e){this._events=this._events||{},t in this._events!=0&&(this._events[t]=this._events[t].filter(function(t){return!!e&&e!==t}))},emit:function(t){if(this._events=this._events||{},t in this._events!=0)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},qt.mixin=function(t){for(var e=["on","once","off","emit"],i=0;i<e.length;i++)"function"==typeof t?t.prototype[e[i]]=qt.prototype[e[i]]:t[e[i]]=qt.prototype[e[i]]},window.MicroEvent=qt;var Ft,Ht=(Ft={_isPortrait:!1,isPortrait:function(){return this._isPortrait()},isLandscape:function(){return!this.isPortrait()},_init:function(){return document.addEventListener("DOMContentLoaded",this._onDOMContentLoaded.bind(this),!1),"orientation"in window?window.addEventListener("orientationchange",this._onOrientationChange.bind(this),!1):window.addEventListener("resize",this._onResize.bind(this),!1),this._isPortrait=function(){return window.innerHeight>window.innerWidth},this},_onDOMContentLoaded:function(){this._installIsPortraitImplementation(),this.emit("change",{isPortrait:this.isPortrait()})},_installIsPortraitImplementation:function(){var t=window.innerWidth<window.innerHeight;"orientation"in window?window.orientation%180==0?this._isPortrait=function(){return 0===Math.abs(window.orientation%180)?t:!t}:this._isPortrait=function(){return 90===Math.abs(window.orientation%180)?t:!t}:this._isPortrait=function(){return window.innerHeight>window.innerWidth}},_onOrientationChange:function(){var i=this,n=this._isPortrait(),o=0,a=setInterval(function(){o++;var t=window.innerWidth,e=window.innerHeight;n&&t<=e||!n&&e<=t?(i.emit("change",{isPortrait:n}),clearInterval(a)):50===o&&(i.emit("change",{isPortrait:n}),clearInterval(a))},20)},_onResize:function(){this.emit("change",{isPortrait:this.isPortrait()})}},qt.mixin(Ft),Ft)._init(),Zt={add:function(e){for(var t=arguments.length,i=Array(1<t?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return i.forEach(function(t){return tt.addModifier(e,t)})},remove:function(e){for(var t=arguments.length,i=Array(1<t?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return i.forEach(function(t){return tt.removeModifier(e,t)})},contains:tt.hasModifier,toggle:tt.toggleModifier},Wt=new qt;Wt._visible=!1;var Gt=function(){Wt._visible=!0,Wt.emit("show")},Vt=function(){Wt._visible=!1,Wt.emit("hide")},Xt=function(){tt.warn("ons-keyboard: Cordova Keyboard plugin is not present.")};document.addEventListener("deviceready",function(){("undefined"!=typeof Keyboard?(Keyboard.onshow=Gt,Keyboard.onhide=Vt,Wt.emit("init",{visible:Keyboard.isVisible}),1):void 0!==cordova.plugins&&void 0!==cordova.plugins.Keyboard&&(window.addEventListener("native.keyboardshow",Gt),window.addEventListener("native.keyboardhide",Vt),Wt.emit("init",{visible:cordova.plugins.Keyboard.isVisible}),1))||((document.querySelector("[ons-keyboard-active]")||document.querySelector("[ons-keyboard-inactive]"))&&Xt(),Wt.on=Xt)});var Yt,Jt,Kt=(Yt=0,function(){return Yt++}),Qt=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};_(this,e),this._lockList=[],this._waitList=[],this._log=t.log||function(){}}return g(e,[{key:"lock",value:function(){var e=this,t=function t(){e._unlock(t)};return t.id=Kt(),this._lockList.push(t),this._log("lock: "+t.id),t}},{key:"_unlock",value:function(t){var e=this._lockList.indexOf(t);if(-1===e)throw new Error("This function is not registered in the lock list.");this._lockList.splice(e,1),this._log("unlock: "+t.id),this._tryToFreeWaitList()}},{key:"_tryToFreeWaitList",value:function(){for(;!this.isLocked()&&0<this._waitList.length;)this._waitList.shift()()}},{key:"waitUnlock",value:function(t){if(!(t instanceof Function))throw new Error("The callback param must be a function.");this.isLocked()?this._waitList.push(t):t()}},{key:"isLocked",value:function(){return 0<this._lockList.length}}]),e}(),$t=function(){function i(t,e){_(this,i),this._loader=t instanceof Function?t:function(t,i){var e=t.page,n=t.parent;t.params,S.getPageHTMLAsync(e).then(function(t){var e=tt.createElement(t);n.appendChild(e),i(e)})},this._unloader=e instanceof Function?e:n}return g(i,[{key:"load",value:function(t,e){var i=t.page,n=t.parent,o=t.params,a=void 0===o?{}:o;this._loader({page:i,parent:n,params:a},function(t){if(!(t instanceof Element))throw Error("pageElement must be an instance of Element.");e(t)})}},{key:"unload",value:function(t){if(!(t instanceof Element))throw Error("pageElement must be an instance of Element.");this._unloader(t)}},{key:"internalLoader",set:function(t){if(!(t instanceof Function))throw Error("First parameter must be an instance of Function");this._loader=t},get:function(){return this._loader}}]),i}(),te=new $t,ee=new $t(function(t,e){var i=t.page,n=t.parent,o=(t.params,tt.createElement(i.trim()));n.appendChild(o),e(o)},n),ie={animit:ht,defaultPageLoader:te,elements:o,GestureDetector:ft,modifier:Zt,notification:Ut,orientation:Ht,pageAttributeExpression:L,PageLoader:$t,platform:P,softwareKeyboard:Wt,_autoStyle:j,_internal:S,_readyLock:new Qt,_util:tt};ie.platform.select((window.location.search.match(/platform=([\w-]+)/)||[])[1]),Jt=ie._readyLock.lock(),window.addEventListener("DOMContentLoaded",function(){ie.isWebView()?window.document.addEventListener("deviceready",Jt,!1):Jt()},!1);var ne=function(t){return tt.throw("This method must be called "+(t?"after":"before")+" ons.isReady() is true")};ie.isReady=function(){return!ie._readyLock.isLocked()},ie.isWebView=ie.platform.isWebView,ie.ready=function(t){ie.isReady()?t():ie._readyLock.waitUnlock(t)},ie.setDefaultDeviceBackButtonListener=function(t){ie.isReady()||ne(!0),ie._defaultDeviceBackButtonHandler.setListener(t)},ie.disableDeviceBackButtonHandler=function(){ie.isReady()||ne(!0),S.dbbDispatcher.disable()},ie.enableDeviceBackButtonHandler=function(){ie.isReady()||ne(!0),S.dbbDispatcher.enable()},ie.fireDeviceBackButtonEvent=function(){S.dbbDispatcher.fireDeviceBackButtonEvent()},ie.enableAutoStatusBarFill=function(){ie.isReady()&&ne(!1),S.config.autoStatusBarFill=!0},ie.disableAutoStatusBarFill=function(){ie.isReady()&&ne(!1),S.config.autoStatusBarFill=!1},ie.mockStatusBar=function(){ie.isReady()&&ne(!1);var t=function(){if(!document.body.children[0]||!document.body.children[0].classList.contains("ons-status-bar-mock")){var t=P.isAndroid(),e=function(t){return'<i class="'+t.split("-")[0]+" "+t+'"></i>'},i=t?e("zmdi-twitter")+" "+e("zmdi-google-play"):"No SIM "+e("fa-wifi"),n=t?"":"12:28 PM",o=t?e("zmdi-network")+" "+e("zmdi-wifi")+" "+e("zmdi-battery")+" 12:28 PM":"80% "+e("fa-battery-three-quarters");document.body.insertBefore(tt.createElement('<div class="ons-status-bar-mock '+(t?"android":"ios")+'"><div>'+i+"</div><div>"+n+"</div><div>"+o+"</div></div>"),document.body.firstChild)}};document.body?t():S.waitDOMContentLoaded(t)},ie.disableAnimations=function(){S.config.animationsDisabled=!0},ie.enableAnimations=function(){S.config.animationsDisabled=!1},ie._disableWarnings=function(){S.config.warningsDisabled=!0},ie._enableWarnings=function(){S.config.warningsDisabled=!1},ie.disableAutoStyling=j.disable,ie.enableAutoStyling=j.enable,ie.disableIconAutoPrefix=function(){tt.checkMissingImport("Icon"),o.Icon.setAutoPrefix(!1)},ie.forceUIWebViewScrollFix=function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];S.config.forceUIWebViewScrollFix=t},ie.forcePlatformStyling=function(t){ie.enableAutoStyling(),ie.platform.select(t||"ios"),ie._util.arrayFrom(document.querySelectorAll("*")).forEach(function(t){"ons-if"===t.tagName.toLowerCase()?t._platformUpdate():t.tagName.match(/^ons-/i)&&(j.prepare(t,!0),"ons-tabbar"===t.tagName.toLowerCase()&&t._updatePosition())})},ie.preload=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return Promise.all((t instanceof Array?t:[t]).map(function(t){return"string"!=typeof t&&tt.throw("Expected string arguments but got "+(void 0===t?"undefined":m(t))),S.getTemplateHTMLAsync(t)}))},ie.createElement=function(t){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=function(t){var e=ie._util.createElement(t);return e.remove(),i.append&&((i.append instanceof HTMLElement?i.append:document.body).insertBefore(e,i.insertBefore||null),i.link instanceof Function&&i.link(e)),e};return"<"===(t=t.trim()).charAt(0)?e(t):S.getPageHTMLAsync(t).then(e)},ie.createPopover=ie.createDialog=ie.createAlertDialog=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return ie.createElement(t,y({append:!0},e))},ie.openActionSheet=function(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n){var i,t,e,o,a,s,r,l;tt.checkMissingImport("ActionSheet"),i=d,t=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"Function";return tt.throw('"options.'+t+'" must be an instance of '+e)},o=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Function;return i[t]instanceof e},s="callback",r="compile",l="destroy",(!(e=function(t){return Object.hasOwnProperty.call(i,t)})(a="buttons")||!o(a,Array))&&t(a,"Array"),e(s)&&!o(s)&&t(s),e(r)&&!o(r)&&t(r),e(l)&&!o(l)&&t(l);var h=tt.createElement("\n    <ons-action-sheet\n      "+(d.title?'title="'+d.title+'"':"")+"\n      "+(d.cancelable?"cancelable":"")+"\n      "+(d.modifier?'modifier="'+d.modifier+'"':"")+"\n      "+(d.maskColor?'mask-color="'+d.maskColor+'"':"")+"\n      "+(d.id?'id="'+d.id+'"':"")+"\n      "+(d.class?'class="'+d.class+'"':"")+'\n    >\n      <div class="action-sheet"></div>\n    </ons-action-sheet>\n  '),u=function t(e){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1;h&&(d.destroy&&d.destroy(h),h.removeEventListener("dialog-cancel",t,!1),h.remove(),h=null,d.callback&&d.callback(i),n(i))};h.addEventListener("dialog-cancel",u,!1);var c=document.createDocumentFragment();d.buttons.forEach(function(t,e){var i="string"==typeof t?{label:t}:y({},t);d.destructive===e&&(i.modifier=(i.modifier||"")+" destructive");var n=tt.createElement("\n      <ons-action-sheet-button\n        "+(i.icon?'icon="'+i.icon+'"':"")+"\n        "+(i.modifier?'modifier="'+i.modifier+'"':"")+"\n      >\n        "+i.label+"\n      </ons-action-sheet-button>\n    ");n.onclick=function(t){return h.hide().then(function(){return u(t,e)})},c.appendChild(n)}),tt.findChild(h,".action-sheet").appendChild(c),document.body.appendChild(h),d.compile&&d.compile(el.dialog),setImmediate(function(){return h.show({animation:d.animation,animationOptions:d.animationOptions})})})},ie.resolveLoadingPlaceholder=function(e,i){var t=ie._util.arrayFrom(window.document.querySelectorAll("[ons-loading-placeholder]"));0===t.length&&tt.throw("No ons-loading-placeholder exists"),t.filter(function(t){return!t.getAttribute("page")}).forEach(function(t){t.setAttribute("ons-loading-placeholder",e),ie._resolveLoadingPlaceholder(t,e,i)})},ie._setupLoadingPlaceHolders=function(){ie.ready(function(){ie._util.arrayFrom(window.document.querySelectorAll("[ons-loading-placeholder]")).forEach(function(t){var e=t.getAttribute("ons-loading-placeholder");"string"==typeof e&&ie._resolveLoadingPlaceholder(t,e)})})},ie._resolveLoadingPlaceholder=function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(t,e){return e()};t&&ie.createElement(t).then(function(t){t.style.display="none",e.appendChild(t),i(t,function(){for(;e.firstChild&&e.firstChild!==t;)e.removeChild(e.firstChild);t.style.display=""})}).catch(function(t){return Promise.reject("Unabled to resolve placeholder: "+t)})};var oe="currentScript"in document?function(){return document.currentScript}:function(){return document.scripts[document.scripts.length-1]};ie.getScriptPage=function(){return oe()&&/ons-page/i.test(oe().parentElement.tagName)&&oe().parentElement||null};var ae=t(function(i){!function(){function s(o,t){var e;if(t=t||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=t.touchBoundary||10,this.layer=o,this.tapDelay=t.tapDelay||200,this.tapTimeout=t.tapTimeout||700,!s.notNeeded(o)){for(var i=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],n=0,a=i.length;n<a;n++)this[i[n]]=function(t,e){return function(){return t.apply(e,arguments)}}(this[i[n]],this);r&&(o.addEventListener("mouseover",this.onMouse,!0),o.addEventListener("mousedown",this.onMouse,!0),o.addEventListener("mouseup",this.onMouse,!0)),o.addEventListener("click",this.onClick,!0),o.addEventListener("touchstart",this.onTouchStart,!1),o.addEventListener("touchmove",this.onTouchMove,!1),o.addEventListener("touchend",this.onTouchEnd,!1),o.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(o.removeEventListener=function(t,e,i){var n=Node.prototype.removeEventListener;"click"===t?n.call(o,t,e.hijacked||e,i):n.call(o,t,e,i)},o.addEventListener=function(t,e,i){var n=Node.prototype.addEventListener;"click"===t?n.call(o,t,e.hijacked||(e.hijacked=function(t){t.propagationStopped||e(t)}),i):n.call(o,t,e,i)}),"function"==typeof o.onclick&&(e=o.onclick,o.addEventListener("click",function(t){e(t)},!1),o.onclick=null)}}var t=0<=navigator.userAgent.indexOf("Windows Phone"),r=0<navigator.userAgent.indexOf("Android")&&!t,l=/iP(ad|hone|od)/.test(navigator.userAgent)&&!t,h=l&&/OS 4_\d(_\d)?/.test(navigator.userAgent),u=l&&/OS [6-7]_\d/.test(navigator.userAgent),o=0<navigator.userAgent.indexOf("BB10"),e=["email","number","password","search","tel","text","url"];s.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(l&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},s.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!r;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},s.prototype.sendClick=function(t,e){var i,n;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),n=e.changedTouches[0],(i=document.createEvent("MouseEvents")).initMouseEvent(this.determineEventType(t),!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,t.dispatchEvent(i)},s.prototype.determineEventType=function(t){return r&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},s.prototype.focus=function(t){var e;l&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type&&"email"!==t.type&&"number"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},s.prototype.updateScrollParent=function(t){var e,i;if(!(e=t.fastClickScrollParent)||!e.contains(t)){i=t;do{if(i.scrollHeight>i.offsetHeight){e=i,t.fastClickScrollParent=i;break}i=i.parentElement}while(i)}e&&(e.fastClickLastScrollTop=e.scrollTop)},s.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},s.prototype.isTextField=function(t){return"textarea"===t.tagName.toLowerCase()||-1!==e.indexOf(t.type)},s.prototype.onTouchStart=function(t){var e,i;if(1<t.targetTouches.length)return!0;if(e=this.getTargetElementFromEventTarget(t.target),i=t.targetTouches[0],e.isContentEditable)return!0;if(l){if(e===document.activeElement&&this.isTextField(e))return!0;if(!h){if(i.identifier&&i.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=i.pageX,this.touchStartY=i.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&-1<t.timeStamp-this.lastClickTime&&t.preventDefault(),!0},s.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],i=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>i||Math.abs(e.pageY-this.touchStartY)>i},s.prototype.onTouchMove=function(t){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0)},s.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},s.prototype.onTouchEnd=function(t){var e,i,n,o,a,s=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay&&-1<t.timeStamp-this.lastClickTime)return this.cancelNextClick=!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,i=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,u&&(a=t.changedTouches[0],(s=document.elementFromPoint(a.pageX-window.pageXOffset,a.pageY-window.pageYOffset)||s).fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(n=s.tagName.toLowerCase())){if(e=this.findControl(s)){if(this.focus(s),r)return!1;s=e}}else if(this.needsFocus(s))return 100<t.timeStamp-i||l&&window.top!==window&&"input"===n?this.targetElement=null:(this.focus(s),this.sendClick(s,t),h&&"select"===n||(this.targetElement=null,t.preventDefault())),!1;return!(!l||h||!(o=s.fastClickScrollParent)||o.fastClickLastScrollTop===o.scrollTop)||(this.needsClick(s)||(t.preventDefault(),this.sendClick(s,t)),!1)},s.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},s.prototype.onMouse=function(t){return!(this.targetElement&&!t.forwardedTouchEvent&&t.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)&&(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),1))},s.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,!(this.trackingClick=!1)):"submit"===t.target.type&&0===t.detail||((e=this.onMouse(t))||(this.targetElement=null),e)},s.prototype.destroy=function(){var t=this.layer;r&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},s.notNeeded=function(t){var e,i,n;if(void 0===window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!r)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(31<i&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(o&&10<=(n=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/))[1]&&3<=n[2]&&(e=document.querySelector("meta[name=viewport]"))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction||!!(27<=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]&&(e=document.querySelector("meta[name=viewport]"))&&(-1!==e.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))||"none"===t.style.touchAction||"manipulation"===t.style.touchAction},s.attach=function(t,e){return new s(t,e)},i.exports?(i.exports=s.attach,i.exports.FastClick=s):window.FastClick=s}()}).FastClick;window.customElements&&(window.customElements.forcePolyfill=!0);var se=t(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),re=t(function(t){var e=t.exports={version:"2.5.1"};"number"==typeof __e&&(__e=e)}),le=(re.version,function(t){return"object"===(void 0===t?"undefined":m(t))?null!==t:"function"==typeof t}),he=function(t){if(!le(t))throw TypeError(t+" is not an object!");return t},ue=function(t){try{return!!t()}catch(t){return!0}},ce=!ue(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),de=se.document,pe=le(de)&&le(de.createElement),fe=function(t){return pe?de.createElement(t):{}},me=!ce&&!ue(function(){return 7!=Object.defineProperty(fe("div"),"a",{get:function(){return 7}}).a}),_e=function(t,e){if(!le(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!le(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!le(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!le(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")},ge=Object.defineProperty,ve={f:ce?Object.defineProperty:function(t,e,i){if(he(t),e=_e(e,!0),he(i),me)try{return ge(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},ye=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},be=ce?function(t,e,i){return ve.f(t,e,ye(1,i))}:function(t,e,i){return t[e]=i,t},ke={}.hasOwnProperty,we=function(t,e){return ke.call(t,e)},Me=0,Ee=Math.random(),xe=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++Me+Ee).toString(36))},Pe=t(function(t){var a=xe("src"),e=Function.toString,s=(""+e).split("toString");re.inspectSource=function(t){return e.call(t)},(t.exports=function(t,e,i,n){var o="function"==typeof i;o&&(we(i,"name")||be(i,"name",e)),t[e]!==i&&(o&&(we(i,a)||be(i,a,t[e]?""+t[e]:s.join(String(e)))),t===se?t[e]=i:n?t[e]?t[e]=i:be(t,e,i):(delete t[e],be(t,e,i)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||e.call(this)})}),Ce=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},Le=function(n,o,t){if(Ce(n),void 0===o)return n;switch(t){case 1:return function(t){return n.call(o,t)};case 2:return function(t,e){return n.call(o,t,e)};case 3:return function(t,e,i){return n.call(o,t,e,i)}}return function(){return n.apply(o,arguments)}},Se=function t(e,i,n){var o,a,s,r,l=e&t.F,h=e&t.G,u=e&t.P,c=e&t.B,d=h?se:e&t.S?se[i]||(se[i]={}):(se[i]||{}).prototype,p=h?re:re[i]||(re[i]={}),f=p.prototype||(p.prototype={});for(o in h&&(n=i),n)s=((a=!l&&d&&void 0!==d[o])?d:n)[o],r=c&&a?Le(s,se):u&&"function"==typeof s?Le(Function.call,s):s,d&&Pe(d,o,s,e&t.U),p[o]!=s&&be(p,o,r),u&&f[o]!=s&&(f[o]=s)};se.core=re,Se.F=1,Se.G=2,Se.S=4,Se.P=8,Se.B=16,Se.W=32,Se.U=64,Se.R=128;var Ae=Se,Te={f:{}.propertyIsEnumerable},Oe={}.toString,De=function(t){return Oe.call(t).slice(8,-1)},Ie=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==De(t)?t.split(""):Object(t)},Ne=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},Be=function(t){return Ie(Ne(t))},je=Object.getOwnPropertyDescriptor,ze={f:ce?je:function(t,e){if(t=Be(t),e=_e(e,!0),me)try{return je(t,e)}catch(t){}if(we(t,e))return ye(!Te.f.call(t,e),t[e])}},Re=function(t,e){if(he(t),!le(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},Ue={set:Object.setPrototypeOf||("__proto__"in{}?function(t,i,n){try{(n=Le(Function.call,ze.f(Object.prototype,"__proto__").set,2))(t,[]),i=!(t instanceof Array)}catch(t){i=!0}return function(t,e){return Re(t,e),i?t.__proto__=e:n(t,e),t}}({},!1):void 0),check:Re};Ae(Ae.S,"Object",{setPrototypeOf:Ue.set}),re.Object.setPrototypeOf;var qe=se["__core-js_shared__"]||(se["__core-js_shared__"]={}),Fe=function(t){return qe[t]||(qe[t]={})},He=t(function(t){var e=Fe("wks"),i=se.Symbol,n="function"==typeof i;(t.exports=function(t){return e[t]||(e[t]=n&&i[t]||(n?i:xe)("Symbol."+t))}).store=e}),Ze=He("toStringTag"),We="Arguments"==De(function(){return arguments}()),Ge=function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Ze))?i:We?De(e):"Object"==(n=De(e))&&"function"==typeof e.callee?"Arguments":n},Ve={};Ve[He("toStringTag")]="z",Ve+""!="[object z]"&&Pe(Object.prototype,"toString",function(){return"[object "+Ge(this)+"]"},!0);var Xe=Math.ceil,Ye=Math.floor,Je=function(t){return isNaN(t=+t)?0:(0<t?Ye:Xe)(t)},Ke={},Qe=Math.min,$e=function(t){return 0<t?Qe(Je(t),9007199254740991):0},ti=Math.max,ei=Math.min,ii=Fe("keys"),ni=function(t){return ii[t]||(ii[t]=xe(t))},oi=function(t,e,i){var n,o,a=Be(t),s=$e(a.length),r=(o=s,(n=Je(n=i))<0?ti(n+o,0):ei(n,o));for(;r<s;r++)if(r in a&&a[r]===e)return r||0;return-1},ai=ni("IE_PROTO"),si="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),ri=Object.keys||function(s){return function(t,e){var i,n=Be(s),o=0,a=[];for(i in n)i!=ai&&we(n,i)&&a.push(i);for(;e.length>o;)we(n,i=e[o++])&&(~oi(a,i)||a.push(i));return a}(0,si)},li=ce?Object.defineProperties:function(t,e){he(t);for(var i,n=ri(e),o=n.length,a=0;a<o;)ve.f(t,i=n[a++],e[i]);return t},hi=se.document,ui=hi&&hi.documentElement,ci=ni("IE_PROTO"),di=function(){},pi=function(){var t,e=fe("iframe"),i=si.length;for(e.style.display="none",ui.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),pi=t.F;i--;)delete pi.prototype[si[i]];return pi()},fi=Object.create||function(t,e){var i;return null!==t?(di.prototype=he(t),i=new di,di.prototype=null,i[ci]=t):i=pi(),void 0===e?i:li(i,e)},mi=ve.f,_i=He("toStringTag"),gi=function(t,e,i){t&&!we(t=i?t:t.prototype,_i)&&mi(t,_i,{configurable:!0,value:e})},vi={};be(vi,He("iterator"),function(){return this});var yi=function(t){return Object(Ne(t))},bi=ni("IE_PROTO"),ki=Object.prototype,wi=Object.getPrototypeOf||function(t){return t=yi(t),we(t,bi)?t[bi]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?ki:null},Mi=He("iterator"),Ei=!([].keys&&"next"in[].keys()),xi=function(){return this},Pi=function(t,e,i,n,o,a,s){var r,l,h;l=e,h=n,(r=i).prototype=fi(vi,{next:ye(1,h)}),gi(r,l+" Iterator");var u,c,d,p=function(t){if(!Ei&&t in g)return g[t];switch(t){case"keys":case"values":return function(){return new i(this,t)}}return function(){return new i(this,t)}},f=e+" Iterator",m="values"==o,_=!1,g=t.prototype,v=g[Mi]||g["@@iterator"]||o&&g[o],y=v||p(o),b=o?m?p("entries"):y:void 0,k="Array"==e&&g.entries||v;if(k&&(d=wi(k.call(new t)))!==Object.prototype&&d.next&&(gi(d,f,!0),we(d,Mi)||be(d,Mi,xi)),m&&v&&"values"!==v.name&&(_=!0,y=function(){return v.call(this)}),(Ei||_||!g[Mi])&&be(g,Mi,y),Ke[e]=y,Ke[f]=xi,o)if(u={values:m?y:p("values"),keys:a?y:p("keys"),entries:b},s)for(c in u)c in g||Pe(g,c,u[c]);else Ae(Ae.P+Ae.F*(Ei||_),e,u);return u},Ci=function(t,e){var i,n,o=String(Ne(t)),a=Je(e),s=o.length;return a<0||s<=a?"":(i=o.charCodeAt(a))<55296||56319<i||a+1===s||(n=o.charCodeAt(a+1))<56320||57343<n?o.charAt(a):o.slice(a,a+2)};Pi(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=Ci(e,i),this._i+=t.length,{value:t,done:!1})});var Li=He("unscopables"),Si=Array.prototype;null==Si[Li]&&be(Si,Li,{});var Ai=function(t){Si[Li][t]=!0},Ti=function(t,e){return{value:e,done:!!t}},Oi=Pi(Array,"Array",function(t,e){this._t=Be(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,Ti(1)):Ti(0,"keys"==e?i:"values"==e?t[i]:[i,t[i]])},"values");Ke.Arguments=Ke.Array,Ai("keys"),Ai("values"),Ai("entries");for(var Di=He("iterator"),Ii=He("toStringTag"),Ni=Ke.Array,Bi={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},ji=ri(Bi),zi=0;zi<ji.length;zi++){var Ri,Ui=ji[zi],qi=Bi[Ui],Fi=se[Ui],Hi=Fi&&Fi.prototype;if(Hi&&(Hi[Di]||be(Hi,Di,Ni),Hi[Ii]||be(Hi,Ii,Ui),Ke[Ui]=Ni,qi))for(Ri in Oi)Hi[Ri]||Pe(Hi,Ri,Oi[Ri],!0)}var Zi=function(t,e,i){for(var n in e)Pe(t,n,e[n],i);return t},Wi=function(t,e,i,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(i+": incorrect invocation!");return t},Gi=function(t,e,i,n){try{return n?e(he(i)[0],i[1]):e(i)}catch(e){var o=t.return;throw void 0!==o&&he(o.call(t)),e}},Vi=He("iterator"),Xi=Array.prototype,Yi=function(t){return void 0!==t&&(Ke.Array===t||Xi[Vi]===t)},Ji=He("iterator"),Ki=re.getIteratorMethod=function(t){if(null!=t)return t[Ji]||t["@@iterator"]||Ke[Ge(t)]},Qi=t(function(t){var d={},p={},e=t.exports=function(t,e,i,n,o){var a,s,r,l,h=o?function(){return t}:Ki(t),u=Le(i,n,e?2:1),c=0;if("function"!=typeof h)throw TypeError(t+" is not iterable!");if(Yi(h)){for(a=$e(t.length);c<a;c++)if((l=e?u(he(s=t[c])[0],s[1]):u(t[c]))===d||l===p)return l}else for(r=h.call(t);!(s=r.next()).done;)if((l=Gi(r,u,s.value,e))===d||l===p)return l};e.BREAK=d,e.RETURN=p}),$i=He("species"),tn=t(function(t){var i=xe("meta"),e=ve.f,n=0,o=Object.isExtensible||function(){return!0},a=!ue(function(){return o(Object.preventExtensions({}))}),s=function(t){e(t,i,{value:{i:"O"+ ++n,w:{}}})},r=t.exports={KEY:i,NEED:!1,fastKey:function(t,e){if(!le(t))return"symbol"==(void 0===t?"undefined":m(t))?t:("string"==typeof t?"S":"P")+t;if(!we(t,i)){if(!o(t))return"F";if(!e)return"E";s(t)}return t[i].i},getWeak:function(t,e){if(!we(t,i)){if(!o(t))return!0;if(!e)return!1;s(t)}return t[i].w},onFreeze:function(t){return a&&r.NEED&&o(t)&&!we(t,i)&&s(t),t}}}),en=(tn.KEY,tn.NEED,tn.fastKey,tn.getWeak,tn.onFreeze,function(t,e){if(!le(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}),nn=ve.f,on=tn.fastKey,an=ce?"_s":"size",sn=function(t,e){var i,n=on(e);if("F"!==n)return t._i[n];for(i=t._f;i;i=i.n)if(i.k==e)return i},rn={getConstructor:function(t,a,i,n){var o=t(function(t,e){Wi(t,o,a,"_i"),t._t=a,t._i=fi(null),t._f=void 0,t._l=void 0,t[an]=0,null!=e&&Qi(e,i,t[n],t)});return Zi(o.prototype,{clear:function(){for(var t=en(this,a),e=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete e[i.i];t._f=t._l=void 0,t[an]=0},delete:function(t){var e=en(this,a),i=sn(e,t);if(i){var n=i.n,o=i.p;delete e._i[i.i],i.r=!0,o&&(o.n=n),n&&(n.p=o),e._f==i&&(e._f=n),e._l==i&&(e._l=o),e[an]--}return!!i},forEach:function(t){en(this,a);for(var e,i=Le(t,1<arguments.length?arguments[1]:void 0,3);e=e?e.n:this._f;)for(i(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!sn(en(this,a),t)}}),ce&&nn(o.prototype,"size",{get:function(){return en(this,a)[an]}}),o},def:function(t,e,i){var n,o,a=sn(t,e);return a?a.v=i:(t._l=a={i:o=on(e,!0),k:e,v:i,p:n=t._l,n:void 0,r:!1},t._f||(t._f=a),n&&(n.n=a),t[an]++,"F"!==o&&(t._i[o]=a)),t},getEntry:sn,setStrong:function(t,i,e){var n;Pi(t,i,function(t,e){this._t=en(t,i),this._k=e,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?Ti(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,Ti(1))},e?"entries":"values",!e,!0),n=se[i],ce&&n&&!n[$i]&&ve.f(n,$i,{configurable:!0,get:function(){return this}})}},ln=He("iterator"),hn=!1;try{[7][ln]().return=function(){hn=!0}}catch(a){}var un=function(t,e){if(!e&&!hn)return!1;var i=!1;try{var n=[7],o=n[ln]();o.next=function(){return{done:i=!0}},n[ln]=function(){return o},t(n)}catch(t){}return i},cn=Ue.set,dn=function(r,t,e,i,l,n){var h=se[r],u=h,c=l?"set":"add",o=u&&u.prototype,a={},s=function(t){var i=o[t];Pe(o,t,"delete"==t?function(t){return!(n&&!le(t))&&i.call(this,0===t?0:t)}:"has"==t?function(t){return!(n&&!le(t))&&i.call(this,0===t?0:t)}:"get"==t?function(t){return n&&!le(t)?void 0:i.call(this,0===t?0:t)}:"add"==t?function(t){return i.call(this,0===t?0:t),this}:function(t,e){return i.call(this,0===t?0:t,e),this})};if("function"==typeof u&&(n||o.forEach&&!ue(function(){(new u).entries().next()}))){var d=new u,p=d[c](n?{}:-0,1)!=d,f=ue(function(){d.has(1)}),m=un(function(t){new u(t)}),_=!n&&ue(function(){for(var t=new u,e=5;e--;)t[c](e,e);return!t.has(-0)});m||(((u=t(function(t,e){Wi(t,u,r);var i,n,o,a,s=(i=new h,n=u,(a=t.constructor)!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&le(o)&&cn&&cn(i,o),i);return null!=e&&Qi(e,l,s[c],s),s})).prototype=o).constructor=u),(f||_)&&(s("delete"),s("has"),l&&s("get")),(_||p)&&s(c),n&&o.clear&&delete o.clear}else u=i.getConstructor(t,r,l,c),Zi(u.prototype,e),tn.NEED=!0;return gi(u,r),a[r]=u,Ae(Ae.G+Ae.W+Ae.F*(u!=h),a),n||i.setStrong(u,r,l),u},pn=(dn("Set",function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}},{add:function(t){return rn.def(en(this,"Set"),t=0===t?0:t,t)}},rn),function(e){return function(){if(Ge(this)!=e)throw TypeError(e+"#toJSON isn't generic");return Qi(this,!(t=[]),t.push,t,void 0),t;var t}});Ae(Ae.P+Ae.R,"Set",{toJSON:pn("Set")});var fn=function(t){Ae(Ae.S,t,{of:function(){for(var t=arguments.length,e=Array(t);t--;)e[t]=arguments[t];return new this(e)}})};fn("Set");var mn=function(t){Ae(Ae.S,t,{from:function(t){var e,i,n,o,a=arguments[1];return Ce(this),(e=void 0!==a)&&Ce(a),null==t?new this:(i=[],e?(n=0,o=Le(a,arguments[2],2),Qi(t,!1,function(t){i.push(o(t,n++))})):Qi(t,!1,i.push,i),new this(i))}})};mn("Set"),re.Set,dn("Map",function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}},{get:function(t){var e=rn.getEntry(en(this,"Map"),t);return e&&e.v},set:function(t,e){return rn.def(en(this,"Map"),0===t?0:t,e)}},rn,!0),Ae(Ae.P+Ae.R,"Map",{toJSON:pn("Map")}),fn("Map"),mn("Map"),re.Map;var _n=Array.isArray||function(t){return"Array"==De(t)},gn=He("species"),vn=function(c,t){var d=1==c,p=2==c,f=3==c,m=4==c,_=6==c,g=5==c||_,v=t||function(t,e){return _n(i=t)&&("function"!=typeof(n=i.constructor)||n!==Array&&!_n(n.prototype)||(n=void 0),le(n)&&null===(n=n[gn])&&(n=void 0)),new(void 0===n?Array:n)(e);var i,n};return function(t,e,i){for(var n,o,a=yi(t),s=Ie(a),r=Le(e,i,3),l=$e(s.length),h=0,u=d?v(t,l):p?v(t,0):void 0;h<l;h++)if((g||h in s)&&(o=r(n=s[h],h,a),c))if(d)u[h]=o;else if(o)switch(c){case 3:return!0;case 5:return n;case 6:return h;case 2:u.push(n)}else if(m)return!1;return _?-1:f||m?m:u}},yn={f:Object.getOwnPropertySymbols},bn=Object.assign,kn=!bn||ue(function(){var t={},e={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach(function(t){e[t]=t}),7!=bn({},t)[i]||Object.keys(bn({},e)).join("")!=n})?function(t,e){for(var i=yi(t),n=arguments.length,o=1,a=yn.f,s=Te.f;o<n;)for(var r,l=Ie(arguments[o++]),h=a?ri(l).concat(a(l)):ri(l),u=h.length,c=0;c<u;)s.call(l,r=h[c++])&&(i[r]=l[r]);return i}:bn,wn=tn.getWeak,Mn=vn(5),En=vn(6),xn=0,Pn=function(t){return t._l||(t._l=new Cn)},Cn=function(){this.a=[]},Ln=function(t,e){return Mn(t.a,function(t){return t[0]===e})};Cn.prototype={get:function(t){var e=Ln(this,t);if(e)return e[1]},has:function(t){return!!Ln(this,t)},set:function(t,e){var i=Ln(this,t);i?i[1]=e:this.a.push([t,e])},delete:function(e){var t=En(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}};var Sn={getConstructor:function(t,i,n,o){var a=t(function(t,e){Wi(t,a,i,"_i"),t._t=i,t._i=xn++,t._l=void 0,null!=e&&Qi(e,n,t[o],t)});return Zi(a.prototype,{delete:function(t){if(!le(t))return!1;var e=wn(t);return!0===e?Pn(en(this,i)).delete(t):e&&we(e,this._i)&&delete e[this._i]},has:function(t){if(!le(t))return!1;var e=wn(t);return!0===e?Pn(en(this,i)).has(t):e&&we(e,this._i)}}),a},def:function(t,e,i){var n=wn(he(e),!0);return!0===n?Pn(t).set(e,i):n[t._i]=i,t},ufstore:Pn};t(function(t){var a,e=vn(0),i=tn.getWeak,s=Object.isExtensible,n=Sn.ufstore,o={},r=function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}},l={get:function(t){if(le(t)){var e=i(t);return!0===e?n(en(this,"WeakMap")).get(t):e?e[this._i]:void 0}},set:function(t,e){return Sn.def(en(this,"WeakMap"),t,e)}},h=t.exports=dn("WeakMap",r,l,Sn,!0,!0);ue(function(){return 7!=(new h).set((Object.freeze||Object)(o),7).get(o)})&&(a=Sn.getConstructor(r,"WeakMap"),kn(a.prototype,l),tn.NEED=!0,e(["delete","has","get","set"],function(n){var t=h.prototype,o=t[n];Pe(t,n,function(t,e){if(le(t)&&!s(t)){this._f||(this._f=new a);var i=this._f[n](t,e);return"set"==n?this:i}return o.call(this,t,e)})}))}),fn("WeakMap"),mn("WeakMap"),re.WeakMap;var An=function(t,e,i){e in t?ve.f(t,e,ye(0,i)):t[e]=i};Ae(Ae.S+Ae.F*!un(function(t){}),"Array",{from:function(t){var e,i,n,o,a=yi(t),s="function"==typeof this?this:Array,r=arguments.length,l=1<r?arguments[1]:void 0,h=void 0!==l,u=0,c=Ki(a);if(h&&(l=Le(l,2<r?arguments[2]:void 0,2)),null==c||s==Array&&Yi(c))for(i=new s(e=$e(a.length));u<e;u++)An(i,u,h?l(a[u],u):a[u]);else for(o=c.call(a),i=new s;!(n=o.next()).done;u++)An(i,u,h?Gi(o,l,[n.value,u],!0):n.value);return i.length=u,i}}),re.Array.from;var Tn=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]),On=1,Dn=2,In=function(){function t(){_(this,t),this._localNameToDefinition=new Map,this._constructorToDefinition=new Map,this._patches=[],this._hasPatches=!1}return g(t,[{key:"setDefinition",value:function(t,e){this._localNameToDefinition.set(t,e),this._constructorToDefinition.set(e.constructor,e)}},{key:"localNameToDefinition",value:function(t){return this._localNameToDefinition.get(t)}},{key:"constructorToDefinition",value:function(t){return this._constructorToDefinition.get(t)}},{key:"addPatch",value:function(t){this._hasPatches=!0,this._patches.push(t)}},{key:"patchTree",value:function(t){var e=this;this._hasPatches&&f(t,function(t){return e.patch(t)})}},{key:"patch",value:function(t){if(this._hasPatches&&!t.__CE_patched){t.__CE_patched=!0;for(var e=0;e<this._patches.length;e++)this._patches[e](t)}}},{key:"connectTree",value:function(t){var e=[];f(t,function(t){return e.push(t)});for(var i=0;i<e.length;i++){var n=e[i];n.__CE_state===On?u(n)&&this.connectedCallback(n):this.upgradeElement(n)}}},{key:"disconnectTree",value:function(t){var e=[];f(t,function(t){return e.push(t)});for(var i=0;i<e.length;i++){var n=e[i];n.__CE_state===On&&this.disconnectedCallback(n)}}},{key:"patchAndUpgradeTree",value:function(t){var i=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Set,o=[];if(f(t,function(e){if("link"===e.localName&&"import"===e.getAttribute("rel")){var t=e.import;t instanceof Node&&"complete"===t.readyState?(t.__CE_isImportDocument=!0,t.__CE_hasRegistry=!0):e.addEventListener("load",function(){var t=e.import;t.__CE_documentLoadHandled||(t.__CE_documentLoadHandled=!0,t.__CE_isImportDocument=!0,t.__CE_hasRegistry=!0,n.delete(t),i.patchAndUpgradeTree(t,n))})}else o.push(e)},n),this._hasPatches)for(var e=0;e<o.length;e++)this.patch(o[e]);for(var a=0;a<o.length;a++)this.upgradeElement(o[a])}},{key:"upgradeElement",value:function(t){if(void 0===t.__CE_state){var e=this.localNameToDefinition(t.localName);if(e){e.constructionStack.push(t);var i=e.constructor;try{try{if(new i!==t)throw new Error("The custom element constructor did not produce the element being upgraded.")}finally{e.constructionStack.pop()}}catch(e){throw t.__CE_state=Dn,e}if(t.__CE_state=On,(t.__CE_definition=e).attributeChangedCallback)for(var n=e.observedAttributes,o=0;o<n.length;o++){var a=n[o],s=t.getAttribute(a);null!==s&&this.attributeChangedCallback(t,a,null,s,null)}u(t)&&this.connectedCallback(t)}}}},{key:"connectedCallback",value:function(t){var e=t.__CE_definition;e.connectedCallback&&e.connectedCallback.call(t),t.__CE_isConnectedCallbackCalled=!0}},{key:"disconnectedCallback",value:function(t){t.__CE_isConnectedCallbackCalled||this.connectedCallback(t);var e=t.__CE_definition;e.disconnectedCallback&&e.disconnectedCallback.call(t),t.__CE_isConnectedCallbackCalled=void 0}},{key:"attributeChangedCallback",value:function(t,e,i,n,o){var a=t.__CE_definition;a.attributeChangedCallback&&-1<a.observedAttributes.indexOf(e)&&a.attributeChangedCallback.call(t,e,i,n,o)}}]),t}(),Nn=function(){function i(t,e){_(this,i),this._internals=t,this._document=e,this._observer=void 0,this._internals.patchAndUpgradeTree(this._document),"loading"===this._document.readyState&&(this._observer=new MutationObserver(this._handleMutations.bind(this)),this._observer.observe(this._document,{childList:!0,subtree:!0}))}return g(i,[{key:"disconnect",value:function(){this._observer&&this._observer.disconnect()}},{key:"_handleMutations",value:function(t){var e=this._document.readyState;"interactive"!==e&&"complete"!==e||this.disconnect();for(var i=0;i<t.length;i++)for(var n=t[i].addedNodes,o=0;o<n.length;o++){var a=n[o];this._internals.patchAndUpgradeTree(a)}}}]),i}(),Bn=function(){function t(){var e=this;_(this,t),this._value=void 0,this._resolve=void 0,this._promise=new Promise(function(t){e._resolve=t,e._value&&t(e._value)})}return g(t,[{key:"resolve",value:function(t){if(this._value)throw new Error("Already resolved.");this._value=t,this._resolve&&this._resolve(t)}},{key:"toPromise",value:function(){return this._promise}}]),t}(),jn=function(){function e(t){_(this,e),this._elementDefinitionIsRunning=!1,this._internals=t,this._whenDefinedDeferred=new Map,this._flushCallback=function(t){return t()},this._flushPending=!1,this._unflushedLocalNames=[],this._documentConstructionObserver=new Nn(t,document)}return g(e,[{key:"define",value:function(t,e){var i=this;if(!(e instanceof Function))throw new TypeError("Custom element constructors must be functions.");if(!d(t))throw new SyntaxError("The element name '"+t+"' is not valid.");if(this._internals.localNameToDefinition(t))throw new Error("A custom element with name '"+t+"' has already been defined.");if(this._elementDefinitionIsRunning)throw new Error("A custom element is already being defined.");this._elementDefinitionIsRunning=!0;var n=void 0,o=void 0,a=void 0,s=void 0,r=void 0;try{var l=function(t){var e=h[t];if(void 0!==e&&!(e instanceof Function))throw new Error("The '"+t+"' callback must be a function.");return e},h=e.prototype;if(!(h instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");n=l("connectedCallback"),o=l("disconnectedCallback"),a=l("adoptedCallback"),s=l("attributeChangedCallback"),r=e.observedAttributes||[]}catch(t){return}finally{this._elementDefinitionIsRunning=!1}var u={localName:t,constructor:e,connectedCallback:n,disconnectedCallback:o,adoptedCallback:a,attributeChangedCallback:s,observedAttributes:r,constructionStack:[]};this._internals.setDefinition(t,u),this._unflushedLocalNames.push(t),this._flushPending||(this._flushPending=!0,this._flushCallback(function(){return i._flush()}))}},{key:"_flush",value:function(){if(!1!==this._flushPending)for(this._flushPending=!1,this._internals.patchAndUpgradeTree(document);0<this._unflushedLocalNames.length;){var t=this._unflushedLocalNames.shift(),e=this._whenDefinedDeferred.get(t);e&&e.resolve(void 0)}}},{key:"get",value:function(t){var e=this._internals.localNameToDefinition(t);if(e)return e.constructor}},{key:"whenDefined",value:function(t){if(!d(t))return Promise.reject(new SyntaxError("'"+t+"' is not a valid custom element name."));var e=this._whenDefinedDeferred.get(t);if(e)return e.toPromise();var i=new Bn;return this._whenDefinedDeferred.set(t,i),this._internals.localNameToDefinition(t)&&-1===this._unflushedLocalNames.indexOf(t)&&i.resolve(void 0),i.toPromise()}},{key:"polyfillWrapFlushCallback",value:function(e){this._documentConstructionObserver.disconnect();var i=this._flushCallback;this._flushCallback=function(t){return e(function(){return i(t)})}}}]),e}();(window.CustomElementRegistry=jn).prototype.define=jn.prototype.define,jn.prototype.get=jn.prototype.get,jn.prototype.whenDefined=jn.prototype.whenDefined,jn.prototype.polyfillWrapFlushCallback=jn.prototype.polyfillWrapFlushCallback;var zn,Rn,Un,qn={Document_createElement:window.Document.prototype.createElement,Document_createElementNS:window.Document.prototype.createElementNS,Document_importNode:window.Document.prototype.importNode,Document_prepend:window.Document.prototype.prepend,Document_append:window.Document.prototype.append,Node_cloneNode:window.Node.prototype.cloneNode,Node_appendChild:window.Node.prototype.appendChild,Node_insertBefore:window.Node.prototype.insertBefore,Node_removeChild:window.Node.prototype.removeChild,Node_replaceChild:window.Node.prototype.replaceChild,Node_textContent:Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),Element_attachShadow:window.Element.prototype.attachShadow,Element_innerHTML:Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),Element_getAttribute:window.Element.prototype.getAttribute,Element_setAttribute:window.Element.prototype.setAttribute,Element_removeAttribute:window.Element.prototype.removeAttribute,Element_getAttributeNS:window.Element.prototype.getAttributeNS,Element_setAttributeNS:window.Element.prototype.setAttributeNS,Element_removeAttributeNS:window.Element.prototype.removeAttributeNS,Element_insertAdjacentElement:window.Element.prototype.insertAdjacentElement,Element_prepend:window.Element.prototype.prepend,Element_append:window.Element.prototype.append,Element_before:window.Element.prototype.before,Element_after:window.Element.prototype.after,Element_replaceWith:window.Element.prototype.replaceWith,Element_remove:window.Element.prototype.remove,HTMLElement:window.HTMLElement,HTMLElement_innerHTML:Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),HTMLElement_insertAdjacentElement:window.HTMLElement.prototype.insertAdjacentElement},Fn=new function t(){_(this,t)},Hn=function(r,t,l){t.prepend=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=e.filter(function(t){return t instanceof Node&&u(t)});l.prepend.apply(this,e);for(var o=0;o<n.length;o++)r.disconnectTree(n[o]);if(u(this))for(var a=0;a<e.length;a++){var s=e[a];s instanceof Element&&r.connectTree(s)}},t.append=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=e.filter(function(t){return t instanceof Node&&u(t)});l.append.apply(this,e);for(var o=0;o<n.length;o++)r.disconnectTree(n[o]);if(u(this))for(var a=0;a<e.length;a++){var s=e[a];s instanceof Element&&r.connectTree(s)}}},Zn=window.customElements;if(!Zn||Zn.forcePolyfill||"function"!=typeof Zn.define||"function"!=typeof Zn.get){var Wn=new In;Rn=Wn,window.HTMLElement=function(){function t(){var t=this.constructor,e=Rn.constructorToDefinition(t);if(!e)throw new Error("The custom element being constructed was not registered with `customElements`.");var i=e.constructionStack;if(0===i.length){var n=qn.Document_createElement.call(document,e.localName);return Object.setPrototypeOf(n,t.prototype),n.__CE_state=On,n.__CE_definition=e,Rn.patch(n),n}var o=i.length-1,a=i[o];if(a===Fn)throw new Error("The HTMLElement constructor was either called reentrantly for this constructor or called multiple times.");return i[o]=Fn,Object.setPrototypeOf(a,t.prototype),Rn.patch(a),a}return t.prototype=qn.HTMLElement.prototype,t}(),zn=Wn,r(Document.prototype,"createElement",function(t){if(this.__CE_hasRegistry){var e=zn.localNameToDefinition(t);if(e)return new e.constructor}var i=qn.Document_createElement.call(this,t);return zn.patch(i),i}),r(Document.prototype,"importNode",function(t,e){var i=qn.Document_importNode.call(this,t,e);return this.__CE_hasRegistry?zn.patchAndUpgradeTree(i):zn.patchTree(i),i}),r(Document.prototype,"createElementNS",function(t,e){if(this.__CE_hasRegistry&&(null===t||"http://www.w3.org/1999/xhtml"===t)){var i=zn.localNameToDefinition(e);if(i)return new i.constructor}var n=qn.Document_createElementNS.call(this,t,e);return zn.patch(n),n}),Hn(zn,Document.prototype,{prepend:qn.Document_prepend,append:qn.Document_append}),function(l){function e(t,s){Object.defineProperty(t,"textContent",{enumerable:s.enumerable,configurable:!0,get:s.get,set:function(t){if(this.nodeType!==Node.TEXT_NODE){var e=void 0;if(this.firstChild){var i=this.childNodes,n=i.length;if(0<n&&u(this)){e=new Array(n);for(var o=0;o<n;o++)e[o]=i[o]}}if(s.set.call(this,t),e)for(var a=0;a<e.length;a++)l.disconnectTree(e[a])}else s.set.call(this,t)}})}r(Node.prototype,"insertBefore",function(t,e){if(t instanceof DocumentFragment){var i=Array.prototype.slice.apply(t.childNodes),n=qn.Node_insertBefore.call(this,t,e);if(u(this))for(var o=0;o<i.length;o++)l.connectTree(i[o]);return n}var a=u(t),s=qn.Node_insertBefore.call(this,t,e);return a&&l.disconnectTree(t),u(this)&&l.connectTree(t),s}),r(Node.prototype,"appendChild",function(t){if(t instanceof DocumentFragment){var e=Array.prototype.slice.apply(t.childNodes),i=qn.Node_appendChild.call(this,t);if(u(this))for(var n=0;n<e.length;n++)l.connectTree(e[n]);return i}var o=u(t),a=qn.Node_appendChild.call(this,t);return o&&l.disconnectTree(t),u(this)&&l.connectTree(t),a}),r(Node.prototype,"cloneNode",function(t){var e=qn.Node_cloneNode.call(this,t);return this.ownerDocument.__CE_hasRegistry?l.patchAndUpgradeTree(e):l.patchTree(e),e}),r(Node.prototype,"removeChild",function(t){var e=u(t),i=qn.Node_removeChild.call(this,t);return e&&l.disconnectTree(t),i}),r(Node.prototype,"replaceChild",function(t,e){if(t instanceof DocumentFragment){var i=Array.prototype.slice.apply(t.childNodes),n=qn.Node_replaceChild.call(this,t,e);if(u(this)){l.disconnectTree(e);for(var o=0;o<i.length;o++)l.connectTree(i[o])}return n}var a=u(t),s=qn.Node_replaceChild.call(this,t,e),r=u(this);return r&&l.disconnectTree(e),a&&l.disconnectTree(t),r&&l.connectTree(t),s}),qn.Node_textContent&&qn.Node_textContent.get?e(Node.prototype,qn.Node_textContent):l.addPatch(function(t){e(t,{enumerable:!0,configurable:!0,get:function(){for(var t=[],e=0;e<this.childNodes.length;e++)t.push(this.childNodes[e].textContent);return t.join("")},set:function(t){for(;this.firstChild;)qn.Node_removeChild.call(this,this.firstChild);qn.Node_appendChild.call(this,document.createTextNode(t))}})})}(Wn),function(s){function e(t,a){Object.defineProperty(t,"innerHTML",{enumerable:a.enumerable,configurable:!0,get:a.get,set:function(t){var e=this,i=void 0;if(u(this)&&(i=[],f(this,function(t){t!==e&&i.push(t)})),a.set.call(this,t),i)for(var n=0;n<i.length;n++){var o=i[n];o.__CE_state===On&&s.disconnectedCallback(o)}return this.ownerDocument.__CE_hasRegistry?s.patchAndUpgradeTree(this):s.patchTree(this),t}})}function t(t,o){r(t,"insertAdjacentElement",function(t,e){var i=u(e),n=o.call(this,t,e);return i&&s.disconnectTree(e),u(n)&&s.connectTree(e),n})}if(qn.Element_attachShadow?r(Element.prototype,"attachShadow",function(t){var e=qn.Element_attachShadow.call(this,t);return this.__CE_shadowRoot=e}):console.warn("Custom Elements: `Element#attachShadow` was not patched."),qn.Element_innerHTML&&qn.Element_innerHTML.get)e(Element.prototype,qn.Element_innerHTML);else if(qn.HTMLElement_innerHTML&&qn.HTMLElement_innerHTML.get)e(HTMLElement.prototype,qn.HTMLElement_innerHTML);else{var i=qn.Document_createElement.call(document,"div");s.addPatch(function(t){e(t,{enumerable:!0,configurable:!0,get:function(){return qn.Node_cloneNode.call(this,!0).innerHTML},set:function(t){var e="template"===this.localName?this.content:this;for(i.innerHTML=t;0<e.childNodes.length;)qn.Node_removeChild.call(e,e.childNodes[0]);for(;0<i.childNodes.length;)qn.Node_appendChild.call(e,i.childNodes[0])}})})}var l,n,h;r(Element.prototype,"setAttribute",function(t,e){if(this.__CE_state!==On)return qn.Element_setAttribute.call(this,t,e);var i=qn.Element_getAttribute.call(this,t);qn.Element_setAttribute.call(this,t,e),e=qn.Element_getAttribute.call(this,t),s.attributeChangedCallback(this,t,i,e,null)}),r(Element.prototype,"setAttributeNS",function(t,e,i){if(this.__CE_state!==On)return qn.Element_setAttributeNS.call(this,t,e,i);var n=qn.Element_getAttributeNS.call(this,t,e);qn.Element_setAttributeNS.call(this,t,e,i),i=qn.Element_getAttributeNS.call(this,t,e),s.attributeChangedCallback(this,e,n,i,t)}),r(Element.prototype,"removeAttribute",function(t){if(this.__CE_state!==On)return qn.Element_removeAttribute.call(this,t);var e=qn.Element_getAttribute.call(this,t);qn.Element_removeAttribute.call(this,t),null!==e&&s.attributeChangedCallback(this,t,e,null,null)}),r(Element.prototype,"removeAttributeNS",function(t,e){if(this.__CE_state!==On)return qn.Element_removeAttributeNS.call(this,t,e);var i=qn.Element_getAttributeNS.call(this,t,e);qn.Element_removeAttributeNS.call(this,t,e);var n=qn.Element_getAttributeNS.call(this,t,e);i!==n&&s.attributeChangedCallback(this,e,i,n,t)}),qn.HTMLElement_insertAdjacentElement?t(HTMLElement.prototype,qn.HTMLElement_insertAdjacentElement):qn.Element_insertAdjacentElement?t(Element.prototype,qn.Element_insertAdjacentElement):console.warn("Custom Elements: `Element#insertAdjacentElement` was not patched."),Hn(s,Element.prototype,{prepend:qn.Element_prepend,append:qn.Element_append}),l=s,n=Element.prototype,h={before:qn.Element_before,after:qn.Element_after,replaceWith:qn.Element_replaceWith,remove:qn.Element_remove},n.before=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=e.filter(function(t){return t instanceof Node&&u(t)});h.before.apply(this,e);for(var o=0;o<n.length;o++)l.disconnectTree(n[o]);if(u(this))for(var a=0;a<e.length;a++){var s=e[a];s instanceof Element&&l.connectTree(s)}},n.after=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=e.filter(function(t){return t instanceof Node&&u(t)});h.after.apply(this,e);for(var o=0;o<n.length;o++)l.disconnectTree(n[o]);if(u(this))for(var a=0;a<e.length;a++){var s=e[a];s instanceof Element&&l.connectTree(s)}},n.replaceWith=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=e.filter(function(t){return t instanceof Node&&u(t)}),o=u(this);h.replaceWith.apply(this,e);for(var a=0;a<n.length;a++)l.disconnectTree(n[a]);if(o){l.disconnectTree(this);for(var s=0;s<e.length;s++){var r=e[s];r instanceof Element&&l.connectTree(r)}}},n.remove=function(){var t=u(this);h.remove.call(this),t&&l.disconnectTree(this)}}(Wn),document.__CE_hasRegistry=!0;var Gn=new jn(Wn);Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:Gn})}!function(t){function s(){u=!1;var t=_;_=[],t.sort(function(t,e){return t.uid_-e.uid_});var n=!1;t.forEach(function(t){var i,e=t.takeRecords();(i=t).nodes_.forEach(function(t){var e=h.get(t);e&&e.forEach(function(t){t.observer===i&&t.removeTransientObservers()})}),e.length&&(t.callback_(e,t),n=!0)}),n&&s()}function c(t,e){for(var i=t;i;i=i.parentNode){var n=h.get(i);if(n)for(var o=0;o<n.length;o++){var a=n[o],s=a.options;if(i===t||s.subtree){var r=e(s);r&&a.enqueue(r)}}}}function e(t){this.callback_=t,this.nodes_=[],this.records_=[],this.uid_=++a}function n(t,e){this.type=t,this.target=e,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function d(t,e){return f=new n(t,e)}function p(t){return m||((i=new n((e=f).type,e.target)).addedNodes=e.addedNodes.slice(),i.removedNodes=e.removedNodes.slice(),i.previousSibling=e.previousSibling,i.nextSibling=e.nextSibling,i.attributeName=e.attributeName,i.attributeNamespace=e.attributeNamespace,i.oldValue=e.oldValue,(m=i).oldValue=t,m);var e,i}function r(t,e,i){this.observer=t,this.target=e,this.options=i,this.transientObservedNodes=[]}if(!t.JsMutationObserver){var l,h=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))l=setTimeout;else if(window.setImmediate)l=window.setImmediate;else{var i=[],o=String(Math.random());window.addEventListener("message",function(t){if(t.data===o){var e=i;i=[],e.forEach(function(t){t()})}}),l=function(t){i.push(t),window.postMessage(o,"*")}}var f,m,u=!1,_=[],a=0;e.prototype={observe:function(t,e){if(i=t,t=window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(i)||i,!e.childList&&!e.attributes&&!e.characterData||e.attributeOldValue&&!e.attributes||e.attributeFilter&&e.attributeFilter.length&&!e.attributes||e.characterDataOldValue&&!e.characterData)throw new SyntaxError;var i,n=h.get(t);n||h.set(t,n=[]);for(var o,a=0;a<n.length;a++)if(n[a].observer===this){(o=n[a]).removeListeners(),o.options=e;break}o||(o=new r(this,t,e),n.push(o),this.nodes_.push(t)),o.addListeners()},disconnect:function(){this.nodes_.forEach(function(t){for(var e=h.get(t),i=0;i<e.length;i++){var n=e[i];if(n.observer===this){n.removeListeners(),e.splice(i,1);break}}},this),this.records_=[]},takeRecords:function(){var t=this.records_;return this.records_=[],t}},r.prototype={enqueue:function(t){var e,i,n=this.observer.records_,o=n.length;if(0<n.length){var a=(i=n[o-1])===t?i:!m||i!==m&&i!==f?null:m;if(a)return void(n[o-1]=a)}else e=this.observer,_.push(e),u||(u=!0,l(s));n[o]=t},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(t){var e=this.options;e.attributes&&t.addEventListener("DOMAttrModified",this,!0),e.characterData&&t.addEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.addEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(t){var e=this.options;e.attributes&&t.removeEventListener("DOMAttrModified",this,!0),e.characterData&&t.removeEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.removeEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(t){if(t!==this.target){this.addListeners_(t),this.transientObservedNodes.push(t);var e=h.get(t);e||h.set(t,e=[]),e.push(this)}},removeTransientObservers:function(){var t=this.transientObservedNodes;this.transientObservedNodes=[],t.forEach(function(t){this.removeListeners_(t);for(var e=h.get(t),i=0;i<e.length;i++)if(e[i]===this){e.splice(i,1);break}},this)},handleEvent:function(t){switch(t.stopImmediatePropagation(),t.type){case"DOMAttrModified":var e=t.attrName,i=t.relatedNode.namespaceURI,n=t.target;(o=new d("attributes",n)).attributeName=e,o.attributeNamespace=i,a=t.attrChange===MutationEvent.ADDITION?null:t.prevValue,c(n,function(t){if(t.attributes&&(!t.attributeFilter||!t.attributeFilter.length||-1!==t.attributeFilter.indexOf(e)||-1!==t.attributeFilter.indexOf(i)))return t.attributeOldValue?p(a):o});break;case"DOMCharacterDataModified":var o=d("characterData",n=t.target),a=t.prevValue;c(n,function(t){if(t.characterData)return t.characterDataOldValue?p(a):o});break;case"DOMNodeRemoved":this.addTransientObserver(t.target);case"DOMNodeInserted":var s,r,l=t.target;"DOMNodeInserted"===t.type?(s=[l],r=[]):(s=[],r=[l]);var h=l.previousSibling,u=l.nextSibling;(o=d("childList",t.target.parentNode)).addedNodes=s,o.removedNodes=r,o.previousSibling=h,o.nextSibling=u,c(t.relatedNode,function(t){if(t.childList)return o})}f=m=void 0}},t.JsMutationObserver=e,t.MutationObserver||((t.MutationObserver=e)._isPolyfilled=!0)}}(self),function(i,n){function o(t){return l[e]=a.apply(n,t),e++}function a(t){var e=[].slice.call(arguments,1);return function(){"function"==typeof t?t.apply(n,e):new Function(""+t)()}}function s(t){if(h)setTimeout(a(s,t),0);else{var e=l[t];if(e){h=!0;try{e()}finally{r(t),h=!1}}}}function r(t){delete l[t]}if(!i.setImmediate){var t,e=1,l={},h=!1,u=i.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(i);c=c&&c.setTimeout?c:i,"[object process]"==={}.toString.call(i.process)?t=function(){var t=o(arguments);return process.nextTick(a(s,t)),t}:function(){if(i.postMessage&&!i.importScripts){var t=!0,e=i.onmessage;return i.onmessage=function(){t=!1},i.postMessage("","*"),i.onmessage=e,t}}()?(f="setImmediate$"+Math.random()+"$",m=function(t){t.source===i&&"string"==typeof t.data&&0===t.data.indexOf(f)&&s(+t.data.slice(f.length))},i.addEventListener?i.addEventListener("message",m,!1):i.attachEvent("onmessage",m),t=function(){var t=o(arguments);return i.postMessage(f+t,"*"),t}):i.MessageChannel?((p=new MessageChannel).port1.onmessage=function(t){s(t.data)},t=function(){var t=o(arguments);return p.port2.postMessage(t),t}):u&&"onreadystatechange"in u.createElement("script")?(d=u.documentElement,t=function(){var t=o(arguments),e=u.createElement("script");return e.onreadystatechange=function(){s(t),e.onreadystatechange=null,d.removeChild(e),e=null},d.appendChild(e),t}):t=function(){var t=o(arguments);return setTimeout(a(s,t),0),t},c.setImmediate=t,c.clearImmediate=r}var d,p,f,m}(self),Un={ensureViewportElement:function(){var t=document.querySelector("meta[name=viewport]");return t||((t=document.createElement("meta")).name="viewport",document.head.appendChild(t)),t},setup:function(){var t=Un.ensureViewportElement();t&&(t.hasAttribute("content")||t.setAttribute("content","width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no"))}},window.Viewport=Un;var Vn=function(t){function e(){return _(this,e),M(this,(e.__proto__||Object.getPrototypeOf(e)).call(this))}return k(e,t),e}(function(){if("function"!=typeof HTMLElement){var t=function(){};return t.prototype=document.createElement("div"),t}return HTMLElement}()),Xn=function(t){function e(){_(this,e);var t=M(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));for(t.template=t.innerHTML;t.firstChild;)t.removeChild(t.firstChild);return t}return k(e,Vn),g(e,[{key:"connectedCallback",value:function(){this.parentNode&&this.parentNode!==document.body&&tt.warn("ons-template (id = "+this.getAttribute("id")+") must be located just under document.body"+(this.parentNode.outerHTML?":\n\n"+this.parentNode.outerHTML:"."));var t=new CustomEvent("_templateloaded",{bubbles:!0,cancelable:!0});t.template=this.template,t.templateId=this.getAttribute("id"),this.dispatchEvent(t)}}]),e}();o.Template=Xn,customElements.define("ons-template",Xn);var Yn=function(t){function e(){_(this,e);var t=M(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return c(t,function(){if(null!==P._getSelectedPlatform())t._platformUpdate();else if(!t._isAllowedPlatform()){for(;t.childNodes[0];)t.childNodes[0].remove();t._platformUpdate()}}),t._onOrientationChange(),t}return k(e,Vn),g(e,[{key:"connectedCallback",value:function(){Ht.on("change",this._onOrientationChange.bind(this))}},{key:"attributeChangedCallback",value:function(t){"orientation"===t&&this._onOrientationChange()}},{key:"disconnectedCallback",value:function(){Ht.off("change",this._onOrientationChange)}},{key:"_platformUpdate",value:function(){this.style.display=this._isAllowedPlatform()?"":"none"}},{key:"_isAllowedPlatform",value:function(){return!this.getAttribute("platform")||0<=this.getAttribute("platform").split(/\s+/).indexOf(P.getMobileOS())}},{key:"_onOrientationChange",value:function(){if(this.hasAttribute("orientation")&&this._isAllowedPlatform()){var t=this.getAttribute("orientation").toLowerCase(),e=Ht.isPortrait()?"portrait":"landscape";this.style.display=t===e?"":"none"}}}],[{key:"observedAttributes",get:function(){return["orientation"]}}]),e}();o.If=Yn,customElements.define("ons-if",Yn);var Jn=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};_(this,e),this.timing=t.timing||"linear",this.duration=t.duration||0,this.delay=t.delay||0,this.def={timing:this.timing,duration:this.duration,delay:this.delay}}return g(e,null,[{key:"extend",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=this,i=function(){e.apply(this,arguments),tt.extend(this,t)};return i.prototype=this.prototype,i}}]),e}(),Kn={isIPhoneXPortraitPatchActive:function(){return null!=document.documentElement.getAttribute("onsflag-iphonex-portrait")&&window.innerWidth<window.innerHeight},isIPhoneXLandscapePatchActive:function(){return null!=document.documentElement.getAttribute("onsflag-iphonex-landscape")&&window.innerWidth>=window.innerHeight},getSafeAreaLengths:function(){return Kn.isIPhoneXPortraitPatchActive()?{top:44,right:0,bottom:34,left:0}:Kn.isIPhoneXLandscapePatchActive()?{top:0,right:44,bottom:21,left:44}:{top:0,right:0,bottom:0,left:0}},getSafeAreaDOMRect:function(){var t;return t=Kn.isIPhoneXPortraitPatchActive()?{x:0,y:44,width:window.innerWidth,height:window.innerHeight-78}:Kn.isIPhoneXLandscapePatchActive()?{x:44,y:0,width:window.innerWidth-88,height:window.innerHeight-21}:{x:0,y:0,width:window.innerWidth,height:window.innerHeight},y({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}},Qn=function(t){function r(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"linear":e,n=t.delay,o=void 0===n?0:n,a=t.duration,s=void 0===a?.2:a;return _(this,r),M(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,{timing:i,delay:o,duration:s}))}return k(r,Jn),g(r,[{key:"show",value:function(t,e){e()}},{key:"hide",value:function(t,e){e()}}]),r}(),$n=function(t){function l(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"ease":e,n=t.delay,o=void 0===n?0:n,a=t.duration,s=void 0===a?.4:a;_(this,l);var r=M(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,{timing:i,delay:o,duration:s}));return r.maskTiming="linear",r.maskDuration=.2,r}return k(l,Qn),g(l,[{key:"show",value:function(t,e){ht.runAll(ht(t._mask).queue({opacity:0}).wait(this.delay).queue({opacity:1},{duration:this.maskDuration,timing:this.maskTiming}),ht(t._sheet,this.def).default({transform:"translate3d(0, 80%, 0)",opacity:0},{transform:"translate3d(0, 0, 0)",opacity:1}).queue(function(t){e&&e(),t()}))}},{key:"hide",value:function(t,e){ht.runAll(ht(t._mask).queue({opacity:1}).wait(this.delay).queue({opacity:0},{duration:this.maskDuration,timing:this.maskTiming}),ht(t._sheet,this.def).default({transform:"translate3d(0, 0, 0)",opacity:1},{transform:"translate3d(0, 80%, 0)",opacity:0}).queue(function(t){e&&e(),t()}))}}]),l}(),to=function(t){function l(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"ease":e,n=t.delay,o=void 0===n?0:n,a=t.duration,s=void 0===a?.3:a;_(this,l);var r=M(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,{timing:i,delay:o,duration:s}));return r.maskTiming="linear",r.maskDuration=.2,Kn.isIPhoneXPortraitPatchActive()?r.liftAmount="calc(100% + 48px)":Kn.isIPhoneXLandscapePatchActive()?r.liftAmount="calc(100% + 33px)":r.liftAmount=document.body.clientHeight/2-1+"px",r}return k(l,Qn),g(l,[{key:"show",value:function(t,e){ht.runAll(ht(t._mask).queue({opacity:0}).wait(this.delay).queue({opacity:1},{duration:this.maskDuration,timing:this.maskTiming}),ht(t._sheet,this.def).default({transform:"translate3d(0, "+this.liftAmount+", 0)"},{transform:"translate3d(0, 0, 0)"}).queue(function(t){e&&e(),t()}))}},{key:"hide",value:function(t,e){ht.runAll(ht(t._mask).queue({opacity:1}).wait(this.delay).queue({opacity:0},{duration:this.maskDuration,timing:this.maskTiming}),ht(t._sheet,this.def).default({transform:"translate3d(0, 0, 0)"},{transform:"translate3d(0, "+this.liftAmount+", 0)"}).queue(function(t){e&&e(),t()}))}}]),l}(),eo=function(t){function i(){_(this,i);var e=M(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return e.constructor===i&&tt.throwAbstract(),e._visible=!1,e._doorLock=new Qt,e._cancel=e._cancel.bind(e),e._selfCamelName=tt.camelize(e.tagName.slice(4)),e._defaultDBB=function(t){return e.cancelable?e._cancel():t.callParentHandler()},e._animatorFactory=e._updateAnimatorFactory(),e}return k(i,Vn),g(i,[{key:"_updateAnimatorFactory",value:function(){tt.throwMember()}},{key:"_toggleStyle",value:function(t){this.style.display=t?"block":"none"}},{key:"_scheme",get:function(){tt.throwMember()}}]),g(i,[{key:"_cancel",value:function(){var t=this;this.cancelable&&!this._running&&(this._running=!0,this.hide().then(function(){t._running=!1,tt.triggerElementEvent(t,"dialog-cancel")},function(){return t._running=!1}))}},{key:"show",value:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return this._setVisible.apply(this,[!0].concat(e))}},{key:"hide",value:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return this._setVisible.apply(this,[!1].concat(e))}},{key:"toggle",value:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return this._setVisible.apply(this,[!this.visible].concat(e))}},{key:"_setVisible",value:function(n){var t,o=this,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},s=n?"show":"hide";(a=y({},a)).animationOptions=tt.extend(a.animationOptions||{},A.parseAnimationOptionsString(this.getAttribute("animation-options")));var e=!1;return tt.triggerElementEvent(this,"pre"+s,(v(t={},this._selfCamelName,this),v(t,"cancel",function(){return e=!0}),t)),e?Promise.reject("Canceled in pre"+s+" event."):new Promise(function(i){o._doorLock.waitUnlock(function(){var t=o._doorLock.lock(),e=o._animatorFactory.newAnimator(a);n&&o._toggleStyle(!0,a),o._visible=n,tt.iosPageScrollFix(n),c(o,function(){e[s](o,function(){!n&&o._toggleStyle(!1,a),t(),tt.propagateAction(o,"_"+s),tt.triggerElementEvent(o,"post"+s,v({},o._selfCamelName,o)),a.callback instanceof Function&&a.callback(o),i(o)})})})})}},{key:"_updateMask",value:function(){var t=this;c(this,function(){t._mask&&t.getAttribute("mask-color")&&(t._mask.style.backgroundColor=t.getAttribute("mask-color"))})}},{key:"connectedCallback",value:function(){var t=this;this.onDeviceBackButton=this._defaultDBB.bind(this),c(this,function(){t._mask&&(t._mask.addEventListener("click",t._cancel,!1),tt.iosMaskScrollFix(t._mask,!0))})}},{key:"disconnectedCallback",value:function(){this._backButtonHandler.destroy(),this._backButtonHandler=null,this._mask&&(this._mask.removeEventListener("click",this._cancel,!1),tt.iosMaskScrollFix(this._mask,!1))}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"modifier":z.onModifierChanged(e,i,this,this._scheme);break;case"animation":this._animatorFactory=this._updateAnimatorFactory();break;case"mask-color":this._updateMask()}}},{key:"onDeviceBackButton",get:function(){return this._backButtonHandler},set:function(t){this._backButtonHandler&&this._backButtonHandler.destroy(),this._backButtonHandler=F.createHandler(this,t)}},{key:"visible",get:function(){return this._visible}},{key:"disabled",set:function(t){return tt.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}},{key:"cancelable",set:function(t){return tt.toggleAttribute(this,"cancelable",t)},get:function(){return this.hasAttribute("cancelable")}}],[{key:"observedAttributes",get:function(){return["modifier","animation","mask-color"]}},{key:"events",get:function(){return["preshow","postshow","prehide","posthide","dialog-cancel"]}}]),i}(),io={".action-sheet":"action-sheet--*",".action-sheet-mask":"action-sheet-mask--*",".action-sheet-title":"action-sheet-title--*"},no={default:function(){return P.isAndroid()?$n:to},none:Qn},oo=function(t){function n(){_(this,n);var t=M(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return c(t,function(){return t._compile()}),t}return k(n,eo),g(n,[{key:"_updateAnimatorFactory",value:function(){return new A({animators:no,baseClass:Qn,baseClassName:"ActionSheetAnimator",defaultAnimation:this.getAttribute("animation")})}},{key:"_compile",value:function(){if(j.prepare(this),this.style.display="none",this.style.zIndex=10001,!this._sheet){var t=document.createElement("div");for(t.classList.add("action-sheet");this.firstChild;)t.appendChild(this.firstChild);this.appendChild(t)}if(!this._title&&this.hasAttribute("title")){var e=document.createElement("div");e.innerHTML=this.getAttribute("title"),e.classList.add("action-sheet-title"),this._sheet.insertBefore(e,this._sheet.firstChild)}if(!this._mask){var i=document.createElement("div");i.classList.add("action-sheet-mask"),this.insertBefore(i,this.firstChild)}this._sheet.style.zIndex=20001,this._mask.style.zIndex=2e4,z.initModifier(this,this._scheme)}},{key:"_updateTitle",value:function(){this._title&&(this._title.innerHTML=this.getAttribute("title"))}},{key:"attributeChangedCallback",value:function(t,e,i){"title"===t?this._updateTitle():b(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"attributeChangedCallback",this).call(this,t,e,i)}},{key:"_scheme",get:function(){return io}},{key:"_mask",get:function(){return tt.findChild(this,".action-sheet-mask")}},{key:"_sheet",get:function(){return tt.findChild(this,".action-sheet")}},{key:"_title",get:function(){return this.querySelector(".action-sheet-title")}}],[{key:"registerAnimator",value:function(t,e){e.prototype instanceof Qn||tt.throwAnimator("ActionSheet"),no[t]=e}},{key:"observedAttributes",get:function(){return[].concat(E(b(n.__proto__||Object.getPrototypeOf(n),"observedAttributes",this)),["title"])}},{key:"animators",get:function(){return no}},{key:"ActionSheetAnimator",get:function(){return Qn}}]),n}();o.ActionSheet=oo,customElements.define("ons-action-sheet",oo);var ao=function(t){function e(){_(this,e);var t=M(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.constructor===e&&tt.throwAbstract(),c(t,function(){return t._compile()}),t}return k(e,Vn),g(e,[{key:"_scheme",get:function(){tt.throwMember()}},{key:"_defaultClassName",get:function(){tt.throwMember()}},{key:"_rippleOpt",get:function(){return[this]}}]),g(e,[{key:"_compile",value:function(){if(j.prepare(this),this.classList.add(this._defaultClassName),!this._icon&&this.hasAttribute("icon")){tt.checkMissingImport("Icon");var t=tt.createElement('<ons-icon icon="'+this.getAttribute("icon")+'"></ons-icon>');t.classList.add(this._defaultClassName.replace("button","icon")),this.insertBefore(t,this.firstChild)}this._updateRipple(),z.initModifier(this,this._scheme)}},{key:"_updateIcon",value:function(){this._icon&&this._icon.setAttribute("icon",this.getAttribute("icon"))}},{key:"_updateRipple",value:function(){this._rippleOpt&&tt.updateRipple.apply(tt,E(this._rippleOpt))}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"class":tt.restoreClass(this,this._defaultClassName,this._scheme);break;case"modifier":z.onModifierChanged(e,i,this,this._scheme);break;case"icon":this._updateIcon();break;case"ripple":this.classList.contains(this._defaultClassName)&&this._updateRipple()}}},{key:"disabled",set:function(t){return tt.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}},{key:"_icon",get:function(){return tt.findChild(this,"ons-icon")}}],[{key:"observedAttributes",get:function(){return["modifier","class","icon","ripple"]}}]),e}(),so=function(t){function e(){return _(this,e),M(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return k(e,ao),g(e,[{key:"_scheme",get:function(){return{"":"action-sheet-button--*",".action-sheet-icon":"action-sheet-icon--*"}}},{key:"_defaultClassName",get:function(){return"action-sheet-button"}},{key:"_rippleOpt",get:function(){}}]),e}();o.ActionSheetButton=so,customElements.define("ons-action-sheet-button",so);var ro=function(t){function r(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"linear":e,n=t.delay,o=void 0===n?0:n,a=t.duration,s=void 0===a?.2:a;return _(this,r),M(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,{timing:i,delay:o,duration:s}))}return k(r,Jn),g(r,[{key:"show",value:function(t,e){e()}},{key:"hide",value:function(t,e){e()}}]),r}(),lo=function(t){function r(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"cubic-bezier(.1, .7, .4, 1)":e,n=t.duration,o=void 0===n?.2:n,a=t.delay,s=void 0===a?0:a;return _(this,r),M(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,{duration:o,timing:i,delay:s}))}return k(r,ro),g(r,[{key:"show",value:function(t,e){e=e||function(){},ht.runAll(ht(t._mask,this.def).default({opacity:0},{opacity:1}),ht(t._dialog,this.def).default({transform:"translate3d(-50%, -50%, 0) scale3d(.9, .9, 1)",opacity:0},{transform:"translate3d(-50%, -50%, 0) scale3d(1, 1, 1)",opacity:1}).queue(function(t){e(),t()}))}},{key:"hide",value:function(t,e){e=e||function(){},ht.runAll(ht(t._mask,this.def).default({opacity:1},{opacity:0}),ht(t._dialog,this.def).default({transform:"translate3d(-50%, -50%, 0) scale3d(1, 1, 1)",opacity:1},{transform:"translate3d(-50%, -50%, 0) scale3d(.9, .9, 1)",opacity:0}).queue(function(t){e(),t()}))}}]),r}(),ho=function(t){function r(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"cubic-bezier(.1, .7, .4, 1)":e,n=t.duration,o=void 0===n?.2:n,a=t.delay,s=void 0===a?0:a;return _(this,r),M(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,{duration:o,timing:i,delay:s}))}return k(r,ro),g(r,[{key:"show",value:function(t,e){e=e||function(){},ht.runAll(ht(t._mask,this.def).default({opacity:0},{opacity:1}),ht(t._dialog,this.def).default({transform:"translate3d(-50%, -50%, 0) scale3d(1.3, 1.3, 1)",opacity:0},{transform:"translate3d(-50%, -50%, 0) scale3d(1, 1, 1)",opacity:1}).queue(function(t){e(),t()}))}},{key:"hide",value:function(t,e){e=e||function(){},ht.runAll(ht(t._mask,this.def).default({opacity:1},{opacity:0}),ht(t._dialog,this.def).default({opacity:1},{opacity:0}).queue(function(t){e(),t()}))}}]),r}(),uo={".alert-dialog":"alert-dialog--*",".alert-dialog-container":"alert-dialog-container--*",".alert-dialog-title":"alert-dialog-title--*",".alert-dialog-content":"alert-dialog-content--*",".alert-dialog-footer":"alert-dialog-footer--*",".alert-dialog-footer--rowfooter":"alert-dialog-footer--rowfooter--*",".alert-dialog-button--rowfooter":"alert-dialog-button--rowfooter--*",".alert-dialog-button--primal":"alert-dialog-button--primal--*",".alert-dialog-button":"alert-dialog-button--*","ons-alert-dialog-button":"alert-dialog-button--*",".alert-dialog-mask":"alert-dialog-mask--*",".text-input":"text-input--*"},co={none:ro,default:function(){return P.isAndroid()?lo:ho},fade:function(){return P.isAndroid()?lo:ho}},po=function(t){function e(){_(this,e);var t=M(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return c(t,function(){return t._compile()}),t}return k(e,eo),g(e,[{key:"_updateAnimatorFactory",value:function(){return new A({animators:co,baseClass:ro,baseClassName:"AlertDialogAnimator",defaultAnimation:this.getAttribute("animation")})}},{key:"_compile",value:function(){j.prepare(this),this.style.display="none",this.style.zIndex=10001;var t=document.createDocumentFragment();if(!this._mask&&!this._dialog)for(;this.firstChild;)t.appendChild(this.firstChild);if(!this._mask){var e=document.createElement("div");e.classList.add("alert-dialog-mask"),this.insertBefore(e,this.children[0])}if(!this._dialog){var i=document.createElement("div");i.classList.add("alert-dialog"),this.insertBefore(i,null)}if(!tt.findChild(this._dialog,".alert-dialog-container")){var n=document.createElement("div");n.classList.add("alert-dialog-container"),this._dialog.appendChild(n)}this._dialog.children[0].appendChild(t),this._dialog.style.zIndex=20001,this._mask.style.zIndex=2e4,z.initModifier(this,this._scheme)}},{key:"_scheme",get:function(){return uo}},{key:"_mask",get:function(){return tt.findChild(this,".alert-dialog-mask")}},{key:"_dialog",get:function(){return tt.findChild(this,".alert-dialog")}},{key:"_titleElement",get:function(){return tt.findChild(this._dialog.children[0],".alert-dialog-title")}},{key:"_contentElement",get:function(){return tt.findChild(this._dialog.children[0],".alert-dialog-content")}}],[{key:"registerAnimator",value:function(t,e){e.prototype instanceof ro||tt.throwAnimator("AlertDialog"),co[t]=e}},{key:"animators",get:function(){return co}},{key:"AlertDialogAnimator",get:function(){return ro}}]),e}();o.AlertDialog=po,customElements.define("ons-alert-dialog",po);var fo=function(t){function e(){return _(this,e),M(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return k(e,ao),g(e,[{key:"_scheme",get:function(){return{"":"alert-dialog-button--*"}}},{key:"_defaultClassName",get:function(){return"alert-dialog-button"}},{key:"_rippleOpt",get:function(){return[this,void 0,{modifier:"light-gray"}]}}]),e}();o.AlertDialogButton=fo,customElements.define("ons-alert-dialog-button",fo);var mo={"":"back-button--*",".back-button__icon":"back-button--*__icon",".back-button__label":"back-button--*__label"},_o=function(t){function e(){_(this,e);var t=M(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return c(t,function(){t._compile()}),t._options={},t._boundOnClick=t._onClick.bind(t),t}return k(e,Vn),g(e,[{key:"_updateIcon",value:function(){(0<arguments.length&&void 0!==arguments[0]?arguments[0]:tt.findChild(this,".back-button__icon")).innerHTML="android"===j.getPlatform(this)||tt.hasModifier(this,"material")?'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>md-back-button-icon</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="toolbar-back-button" stroke="none" stroke-width="1" fill-rule="evenodd">\n        <g id="android" transform="translate(-32.000000, -32.000000)" fill-rule="nonzero">\n            <polygon id="md-back-button-icon" points="48 39 35.83 39 41.42 33.41 40 32 32 40 40 48 41.41 46.59 35.83 41 48 41"></polygon>\n        </g>\n    </g>\n</svg>\n':'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="13px" height="21px" viewBox="0 0 13 21" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>ios-back-button-icon</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="toolbar-back-button" stroke="none" stroke-width="1" fill-rule="evenodd">\n        <g id="ios" transform="translate(-34.000000, -30.000000)">\n            <polygon id="ios-back-button-icon" points="34 40.5 44.5 30 46.5 32 38 40.5 46.5 49 44.5 51"></polygon>\n        </g>\n    </g>\n</svg>\n'}},{key:"_compile",value:function(){if(j.prepare(this),this.classList.add("back-button"),!tt.findChild(this,".back-button__label")){for(var t=tt.create("span.back-button__label");this.childNodes[0];)t.appendChild(this.childNodes[0]);this.appendChild(t)}if(!tt.findChild(this,".back-button__icon")){var e=tt.create("span.back-button__icon");this._updateIcon(e),this.insertBefore(e,this.children[0])}tt.updateRipple(this,void 0,{center:"",size:"contain",background:"transparent"}),z.initModifier(this,mo)}},{key:"_onClick",value:function(){if(this.onClick)this.onClick.apply(this);else{var t=tt.findParent(this,"ons-navigator");t&&t.popPage(this.options)}}},{key:"connectedCallback",value:function(){this.addEventListener("click",this._boundOnClick,!1)}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"class":tt.restoreClass(this,"back-button",mo);break;case"modifier":z.onModifierChanged(e,i,this,mo)&&this._updateIcon()}}},{key:"disconnectedCallback",value:function(){this.removeEventListener("click",this._boundOnClick,!1)}},{key:"show",value:function(){this.style.display="inline-block"}},{key:"hide",value:function(){this.style.display="none"}},{key:"options",get:function(){return this._options},set:function(t){this._options=t}}],[{key:"observedAttributes",get:function(){return["modifier","class"]}}]),e}();o.BackButton=_o,customElements.define("ons-back-button",_o);var go="bottom-bar",vo={"":"bottom-bar--*"},yo=function(t){function e(){_(this,e);var t=M(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.classList.add(go),z.initModifier(t,vo),t}return k(e,Vn),g(e,[{key:"connectedCallback",value:function(){tt.match(this.parentNode,"ons-page")&&this.parentNode.classList.add("page-with-bottom-toolbar")}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"class":tt.restoreClass(this,go,vo);break;case"modifier":z.onModifierChanged(e,i,this,vo)}}}],[{key:"observedAttributes",get:function(){return["modifier","class"]}}]),e}();o.BottomToolbar=yo,customElements.define("ons-bottom-toolbar",yo);var bo=function(t){function e(){return _(this,e),M(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return k(e,ao),g(e,[{key:"_scheme",get:function(){return{"":"button--*"}}},{key:"_defaultClassName",get:function(){return"button"}}]),e}();o.Button=bo,customElements.define("ons-button",bo);var ko={"":"card--*",".card__title":"card--*__title",".card__content":"card--*__content"},wo=function(t){function e(){_(this,e);var t=M(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return c(t,function(){t._compile()}),t}return k(e,Vn),g(e,[{key:"_compile",value:function(){for(var t=0;t<this.children.length;t++){var e=this.children[t];e.classList.contains("title")?e.classList.add("card__title"):e.classList.contains("content")&&e.classList.add("card__content")}j.prepare(this),this.classList.add("card"),z.initModifier(this,ko)}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"class":tt.restoreClass(this,"card",ko);break;case"modifier":z.onModifierChanged(e,i,this,ko)}}}],[{key:"observedAttributes",get:function(){return["modifier","class"]}}]),e}();o.Card=wo,customElements.define("ons-card",wo);var Mo={"":"carousel-item--*"},Eo=function(t){function e(){_(this,e);var t=M(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.style.width="100%",z.initModifier(t,Mo),t}return k(e,Vn),g(e,[{key:"attributeChangedCallback",value:function(t,e,i){if("modifier"===t)return z.onModifierChanged(e,i,this,Mo)}}],[{key:"observedAttributes",get:function(){return["modifier"]}}]),e}();o.CarouselItem=Eo,customElements.define("ons-carousel-item",Eo);var xo={vertical:{axis:"Y",size:"Height",dir:["up","down"],t3d:["0px, ","px, 0px"]},horizontal:{axis:"X",size:"Width",dir:["left","right"],t3d:["","px, 0px, 0px"]}},Po=function(){function t(e){var i=this;_(this,t),"getInitialIndex getBubbleWidth isVertical isOverScrollable isCentered\n    isAutoScrollable refreshHook preChangeHook postChangeHook overScrollHook".split(/\s+/).forEach(function(t){return i[t]=e[t]||function(){return!1}}),this.getElement=e.getElement,this.scrollHook=e.scrollHook,this.itemSize=e.itemSize||"100%",this.getAutoScrollRatio=function(){var t=e.getAutoScrollRatio&&e.getAutoScrollRatio.apply(e,arguments);return((t="number"==typeof t&&t==t?t:.5)<0||1<t)&&tt.throw("Invalid auto-scroll-ratio "+t+". Must be between 0 and 1"),t},this.shouldBlock="other"===tt.globals.actualMobileOS,this.onDragStart=this.onDragStart.bind(this),this.onDrag=this.onDrag.bind(this),this.onDragEnd=this.onDragEnd.bind(this),this.onResize=this.onResize.bind(this),this._shouldFixScroll="ios"===tt.globals.actualMobileOS}return g(t,[{key:"init",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=e.swipeable,n=e.autoRefresh;this.initialized=!0,this.target=this.getElement().children[0],this.blocker=this.getElement().children[1],this.target&&this.blocker||tt.throw('Expected "target" and "blocker" elements to exist before initializing Swiper'),this.shouldBlock||(this.blocker.style.display="none"),this.getElement().classList.add("ons-swiper"),this.target.classList.add("ons-swiper-target"),this.blocker.classList.add("ons-swiper-blocker"),this._gestureDetector=new ft(this.getElement(),{dragMinDistance:1,dragLockToAxis:!0,passive:!this._shouldFixScroll}),this._mutationObserver=new MutationObserver(function(){return t.refresh()}),this.updateSwipeable(i),this.updateAutoRefresh(n),this._scroll=this._offset=this._lastActiveIndex=0,this._updateLayout(),this._setupInitialIndex(),setImmediate(function(){return t.initialized&&t._setupInitialIndex()}),window===window.parent&&0!==this.offsetHeight||window.requestAnimationFrame(function(){return t.initialized&&t.onResize()})}},{key:"dispose",value:function(){this.initialized=!1,this.updateSwipeable(!1),this.updateAutoRefresh(!1),this._gestureDetector&&this._gestureDetector.dispose(),this.target=this.blocker=this._gestureDetector=this._mutationObserver=null,this.setupResize(!1)}},{key:"onResize",value:function(){var t=this._scroll/this.targetSize;this._reset(),this.setActiveIndex(t),this.refresh()}},{key:"_calculateItemSize",value:function(){var t=this.itemSize.match(/^(\d+)(px|%)/);t||tt.throw("Invalid state: swiper's size unit must be '%' or 'px'");var e=parseInt(t[1],10);return"%"===t[2]?Math.round(e/100*this.targetSize):e}},{key:"_setupInitialIndex",value:function(){this._reset(),this._lastActiveIndex=Math.max(Math.min(Number(this.getInitialIndex()),this.itemCount),0),this._scroll=this._offset+this.itemNumSize*this._lastActiveIndex,this._scrollTo(this._scroll)}},{key:"_setSwiping",value:function(t){this.target.classList.toggle("swiping",t)}},{key:"setActiveIndex",value:function(t){var e=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this._setSwiping(!0),t=Math.max(0,Math.min(t,this.itemCount-1));var n,o=Math.max(0,Math.min(this.maxScroll,this._offset+this.itemNumSize*t));if(P.isUIWebView()){var a=(n=tt.arrayFrom(this.target.children).map(function(t){return tt.arrayFrom(t.children).filter(function(t){return t.classList.contains("page__content")})}),Array.prototype.concat.apply([],n)),s=new Map;return new Promise(function(t){a.forEach(function(t){s.set(t,t.getAttribute("class")),t.classList.add("page__content--suppress-layer-creation")}),requestAnimationFrame(t)}).then(function(){return e._changeTo(o,i)}).then(function(){return new Promise(function(t){a.forEach(function(t){t.setAttribute("class",s.get(t))}),requestAnimationFrame(t)})})}return this._changeTo(o,i)}},{key:"getActiveIndex",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._scroll;t-=this._offset;var e=this.itemCount,i=this.itemNumSize;if(0===this.itemNumSize||!tt.isInteger(t))return this._lastActiveIndex;if(t<=0)return 0;for(var n=0;n<e;n++)if(i*n<=t&&t<i*(n+1))return n;return e-1}},{key:"setupResize",value:function(t){window[(t?"add":"remove")+"EventListener"]("resize",this.onResize,!0)}},{key:"show",value:function(){var t=this;this.setupResize(!0),this.onResize(),setTimeout(function(){return t.target&&t.target.classList.add("active")},1e3/60)}},{key:"hide",value:function(){this.setupResize(!1),this.target.classList.remove("active")}},{key:"updateSwipeable",value:function(t){if(this._gestureDetector){var e=t?"on":"off";this._gestureDetector[e]("drag",this.onDrag),this._gestureDetector[e]("dragstart",this.onDragStart),this._gestureDetector[e]("dragend",this.onDragEnd)}}},{key:"updateAutoRefresh",value:function(t){this._mutationObserver&&(t?this._mutationObserver.observe(this.target,{childList:!0}):this._mutationObserver.disconnect())}},{key:"updateItemSize",value:function(t){this.itemSize=t||"100%",this.refresh()}},{key:"toggleBlocker",value:function(t){this.blocker.style.pointerEvents=t?"auto":"none"}},{key:"_canConsumeGesture",value:function(t){var e=t.direction,i=0===this._scroll&&!this.isOverScrollable(),n=this._scroll===this.maxScroll&&!this.isOverScrollable();return this.isVertical()?"down"===e&&!i||"up"===e&&!n:"right"===e&&!i||"left"===e&&!n}},{key:"onDragStart",value:function(t){var e=this;if(this._ignoreDrag=t.consumed||!tt.isValidGesture(t),!this._ignoreDrag){var i=t.consume;if(t.consume=function(){i&&i(),e._ignoreDrag=!0},this._canConsumeGesture(t.gesture)){var n=t.gesture.center&&t.gesture.center.clientX||0,o=this.getBubbleWidth()||0,a=function(){i&&i(),t.consumed=!0,e._started=!0,e.shouldBlock&&e.toggleBlocker(!0),e._setSwiping(!0),tt.iosPreventScroll(e._gestureDetector)};n<o||n>this.targetSize-o?setImmediate(function(){return!e._ignoreDrag&&a()}):a()}}}},{key:"onDrag",value:function(t){t.gesture&&!this._ignoreDrag&&this._started&&(this._continued=!0,t.stopPropagation(),this._scrollTo(this._scroll-this._getDelta(t),{throttle:!0}))}},{key:"onDragEnd",value:function(t){if(this._started=!1,t.gesture&&!this._ignoreDrag&&this._continued){this._continued=!1,t.stopPropagation();var e=this._scroll-this._getDelta(t),i=this._normalizeScroll(e);e===i?this._startMomentumScroll(e,t):this._killOverScroll(i),this.shouldBlock&&this.toggleBlocker(!1)}else this._ignoreDrag=!0}},{key:"_startMomentumScroll",value:function(t,e){var i=this._getVelocity(e),n=e.gesture.interimDirection===this.dM.dir[this._getDelta(e)<0?0:1],o=this._getAutoScroll(t,i,n),a=Math.abs(o-t)/(i+.01)/1e3;a=Math.min(.25,Math.max(.1,a)),this._changeTo(o,{swipe:!0,animationOptions:{duration:a,timing:"cubic-bezier(.4, .7, .5, 1)"}})}},{key:"_killOverScroll",value:function(t){var e=this;this._scroll=t;var i=this.dM.dir[Number(0<t)],n=function(){return e._changeTo(t,{animationOptions:{duration:.4,timing:"cubic-bezier(.1, .4, .1, 1)"}})};this.overScrollHook({direction:i,killOverScroll:n})||n()}},{key:"_changeTo",value:function(t){var e=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n={activeIndex:this.getActiveIndex(t),lastActiveIndex:this._lastActiveIndex,swipe:i.swipe||!1},o=n.activeIndex!==n.lastActiveIndex,a=!!o&&this.preChangeHook(n);return this._scroll=a?this._offset+n.lastActiveIndex*this.itemNumSize:t,this._lastActiveIndex=a?n.lastActiveIndex:n.activeIndex,this._scrollTo(this._scroll,i).then(function(){if(t!==e._scroll||a){if(i.reject)return e._setSwiping(!1),Promise.reject("Canceled")}else e._setSwiping(!1),o&&e.postChangeHook(n)})}},{key:"_scrollTo",value:function(e){var i=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(t.throttle)if(e<0)e=this.isOverScrollable()?Math.round(.35*e):0;else{var n=this.maxScroll;n<e&&(e=this.isOverScrollable()?n+Math.round(.35*(e-n)):n)}var o="none"===t.animation?{}:t.animationOptions;return this.scrollHook&&0<this.itemNumSize&&this.scrollHook((e/this.itemNumSize).toFixed(2),t.animationOptions||{}),new Promise(function(t){return ht(i.target).queue({transform:i._getTransform(e)},o).play(t)})}},{key:"_getAutoScroll",value:function(i,t,e){var n=this.maxScroll,o=this._offset,a=this.itemNumSize;if(!this.isAutoScrollable())return Math.max(0,Math.min(n,i));for(var s=[],r=o;r<n;r+=a)s.push(r);s.push(n);var l=(s=s.sort(function(t,e){return Math.abs(t-i)-Math.abs(e-i)}).filter(function(t,e){return!e||t!==s[e-1]}))[0],h=this._lastActiveIndex*a+o,u=Math.abs(i-h)/a;return u<=this.getAutoScrollRatio(e,t,a)?l=h:u<1&&s[0]===h&&1<s.length&&(l=s[1]),Math.max(0,Math.min(n,l))}},{key:"_reset",value:function(){this._targetSize=this._itemNumSize=void 0}},{key:"_normalizeScroll",value:function(t){return Math.max(Math.min(t,this.maxScroll),0)}},{key:"refresh",value:function(){if(this._reset(),this._updateLayout(),tt.isInteger(this._scroll)){var t=this._normalizeScroll(this._scroll);t!==this._scroll?this._killOverScroll(t):this._changeTo(t)}else this._setupInitialIndex();this.refreshHook()}},{key:"_getDelta",value:function(t){return t.gesture["delta"+this.dM.axis]}},{key:"_getVelocity",value:function(t){return t.gesture["velocity"+this.dM.axis]}},{key:"_getTransform",value:function(t){return"translate3d("+this.dM.t3d[0]+-t+this.dM.t3d[1]+")"}},{key:"_updateLayout",value:function(){this.dM=xo[this.isVertical()?"vertical":"horizontal"],this.target.classList.toggle("ons-swiper-target--vertical",this.isVertical());for(var t=this.target.children[0];t;t=t.nextElementSibling)t.style[this.dM.size.toLowerCase()]=this.itemSize;this.isCentered()&&(this._offset=(this.targetSize-this.itemNumSize)/-2||0)}},{key:"itemCount",get:function(){return this.target.children.length}},{key:"itemNumSize",get:function(){return"number"==typeof this._itemNumSize&&this._itemNumSize==this._itemNumSize||(this._itemNumSize=this._calculateItemSize()),this._itemNumSize}},{key:"maxScroll",get:function(){var t=this.itemCount*this.itemNumSize-this.targetSize;return Math.ceil(t<0?0:t)}},{key:"targetSize",get:function(){return this._targetSize||(this._targetSize=this.target["offset"+this.dM.size]),this._targetSize}}]),t}(),Co=function(t){function e(){_(this,e);var t=M(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return c(t,function(){return t._compile()}),t}return k(e,Vn),g(e,[{key:"_compile",value:function(){var t=this.children[0]&&"ONS-CAROUSEL-ITEM"!==this.children[0].tagName&&this.children[0]||document.createElement("div");if(!t.parentNode){for(;this.firstChild;)t.appendChild(this.firstChild);this.appendChild(t)}!this.children[1]&&this.appendChild(document.createElement("div")),this.appendChild=this.appendChild.bind(t),this.insertBefore=this.insertBefore.bind(t)}},{key:"connectedCallback",value:function(){var t=this;this._swiper||(this._swiper=new Po({getElement:function(){return t},getInitialIndex:function(){return t.getAttribute("initial-index")},getAutoScrollRatio:function(){return t.autoScrollRatio},isVertical:function(){return t.vertical},isOverScrollable:function(){return t.overscrollable},isCentered:function(){return t.centered},isAutoScrollable:function(){return t.autoScroll},itemSize:this.itemSize,overScrollHook:this._onOverScroll.bind(this),preChangeHook:this._onChange.bind(this,"prechange"),postChangeHook:this._onChange.bind(this,"postchange"),refreshHook:this._onRefresh.bind(this),scrollHook:function(){return t._onSwipe&&t._onSwipe.apply(t,arguments)}}),c(this,function(){return t._swiper.init({swipeable:t.hasAttribute("swipeable"),autoRefresh:t.hasAttribute("auto-refresh")})}))}},{key:"disconnectedCallback",value:function(){this._swiper&&this._swiper.initialized&&(this._swiper.dispose(),this._swiper=null)}},{key:"attributeChangedCallback",value:function(t,e,i){if(this._swiper)switch(t){case"swipeable":this._swiper.updateSwipeable(this.hasAttribute("swipeable"));break;case"auto-refresh":this._swiper.updateAutoRefresh(this.hasAttribute("auto-refresh"));break;case"item-height":this.vertical&&this._swiper.updateItemSize(this.itemSize);break;case"item-width":this.vertical||this._swiper.updateItemSize(this.itemSize);break;case"direction":this._swiper.refresh()}}},{key:"_show",value:function(){this._swiper.show()}},{key:"_hide",value:function(){this._swiper.hide()}},{key:"_onOverScroll",value:function(t){var e=t.direction,i=t.killOverScroll,n=!1;return tt.triggerElementEvent(this,"overscroll",{carousel:this,activeIndex:this.getActiveIndex(),direction:e,waitToReturn:function(t){n=!0,t.then(i)}}),n}},{key:"_onChange",value:function(t,e){var i=e.activeIndex,n=e.lastActiveIndex;tt.triggerElementEvent(this,t,{carousel:this,activeIndex:i,lastActiveIndex:n})}},{key:"_onRefresh",value:function(){tt.triggerElementEvent(this,"refresh",{carousel:this})}},{key:"setActiveIndex",value:function(t){var e=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return i=y({animation:this.getAttribute("animation"),animationOptions:this.hasAttribute("animation-options")?tt.animationOptionsParse(this.getAttribute("animation-options")):{duration:.3,timing:"cubic-bezier(.4, .7, .5, 1)"}},i),this._swiper.setActiveIndex(t,i).then(function(){return i.callback instanceof Function&&i.callback(e),Promise.resolve(e)})}},{key:"getActiveIndex",value:function(){return this._swiper.getActiveIndex()}},{key:"next",value:function(t){return this.setActiveIndex(this.getActiveIndex()+1,t)}},{key:"prev",value:function(t){return this.setActiveIndex(this.getActiveIndex()-1,t)}},{key:"first",value:function(t){return this.setActiveIndex(0,t)}},{key:"last",value:function(t){this.setActiveIndex(Math.max(this.itemCount-1,0),t)}},{key:"refresh",value:function(){this._swiper.refresh()}},{key:"itemCount",get:function(){return this._swiper.itemCount}},{key:"swipeable",get:function(){return this.hasAttribute("swipeable")},set:function(t){return tt.toggleAttribute(this,"swipeable",t)}},{key:"onSwipe",get:function(){return this._onSwipe},set:function(t){!t||t instanceof Function||tt.throw('"onSwipe" must be a function'),this._onSwipe=t}},{key:"autoScroll",get:function(){return this.hasAttribute("auto-scroll")},set:function(t){return tt.toggleAttribute(this,"auto-scroll",t)}},{key:"vertical",get:function(){return"vertical"===this.getAttribute("direction")}},{key:"itemSize",get:function(){var t=(this.getAttribute("item-"+(this.vertical?"height":"width"))||"").trim();return t.match(/^\d+(px|%)$/)?t:"100%"}},{key:"autoScrollRatio",get:function(){return parseFloat(this.getAttribute("auto-scroll-ratio"))},set:function(t){this.setAttribute("auto-scroll-ratio",t)}},{key:"disabled",get:function(){return this.hasAttribute("disabled")},set:function(t){return tt.toggleAttribute(this,"disabled",t)}},{key:"overscrollable",get:function(){return this.hasAttribute("overscrollable")},set:function(t){return tt.toggleAttribute(this,"overscrollable",t)}},{key:"centered",get:function(){return this.hasAttribute("centered")},set:function(t){return tt.toggleAttribute(this,"centered",t)}}],[{key:"observedAttributes",get:function(){return["swipeable","auto-refresh","direction","item-height","item-width"]}},{key:"events",get:function(){return["postchange","refresh","overscroll"]}}]),e}();o.Carousel=Co,customElements.define("ons-carousel",Co);var Lo=function(t){function e(){_(this,e);var t=M(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.getAttribute("width")&&t._updateWidth(),t}return k(e,Vn),g(e,[{key:"attributeChangedCallback",value:function(t,e,i){"width"===t&&this._updateWidth()}},{key:"_updateWidth",value:function(){var t=this.getAttribute("width");t?(t=t.trim().match(/^\d+$/)?t+"%":t,h(this,{flex:"0 0 "+t,maxWidth:t})):h.clear(this,"flex maxWidth")}}],[{key:"observedAttributes",get:function(){return["width"]}}]),e}();o.Col=Lo,customElements.define("ons-col",Lo);var So=function(t){function r(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"linear":e,n=t.delay,o=void 0===n?0:n,a=t.duration,s=void 0===a?.2:a;return _(this,r),M(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,{timing:i,delay:o,duration:s}))}return k(r,Jn),g(r,[{key:"show",value:function(t,e){e()}},{key:"hide",value:function(t,e){e()}}]),r}(),Ao=function(t){function r(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"ease-in-out":e,n=t.delay,o=void 0===n?0:n,a=t.duration,s=void 0===a?.3:a;return _(this,r),M(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,{timing:i,delay:o,duration:s}))}return k(r,So),g(r,[{key:"show",value:function(t,e){e=e||function(){},ht.runAll(ht(t._mask,this.def).default({opacity:0},{opacity:1}),ht(t._dialog,this.def).default({transform:"translate3d(-50%, -60%, 0)",opacity:0},{transform:"translate3d(-50%, -50%, 0)",opacity:1}).queue(function(t){e(),t()}))}},{key:"hide",value:function(t,e){e=e||function(){},ht.runAll(ht(t._mask,this.def).default({opacity:1},{opacity:0}),ht(t._dialog,this.def).default({transform:"translate3d(-50%, -50%, 0)",opacity:1},{transform:"translate3d(-50%, -60%, 0)",opacity:0}).queue(function(t){e(),t()}))}}]),r}(),To=function(t){function l(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"ease-in-out":e,n=t.delay,o=void 0===n?0:n,a=t.duration,s=void 0===a?.2:a;_(this,l);var r=M(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,{timing:i,delay:o,duration:s}));return r.bodyHeight=document.body.clientHeight,r}return k(l,So),g(l,[{key:"show",value:function(t,e){e=e||function(){},ht.runAll(ht(t._mask,this.def).default({opacity:0},{opacity:1}),ht(t._dialog,this.def).default({transform:"translate3d(-50%, "+(this.bodyHeight/2-1)+"px, 0)"},{transform:"translate3d(-50%, -50%, 0)"}).queue(function(t){e(),t()}))}},{key:"hide",value:function(t,e){e=e||function(){},ht.runAll(ht(t._mask,this.def).default({opacity:1},{opacity:0}),ht(t._dialog,this.def).default({transform:"translate3d(-50%, -50%, 0)"},{transform:"translate3d(-50%, "+(this.bodyHeight/2-1)+"px, 0)"}).queue(function(t){e(),t()}))}}]),l}(),Oo={".dialog":"dialog--*",".dialog-container":"dialog-container--*",".dialog-mask":"dialog-mask--*"},Do={default:function(){return P.isAndroid()?Ao:To},slide:function(t){function l(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"cubic-bezier(.1, .7, .4, 1)":e,n=t.delay,o=void 0===n?0:n,a=t.duration,s=void 0===a?.2:a;_(this,l);var r=M(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,{timing:i,delay:o,duration:s}));return r.bodyHeight=document.body.clientHeight,r}return k(l,So),g(l,[{key:"show",value:function(t,e){e=e||function(){},ht.runAll(ht(t._mask,this.def).default({opacity:0},{opacity:1}),ht(t._dialog,this.def).default({transform:"translate3d(-50%, "+(-this.bodyHeight/2+1-t._dialog.clientHeight)+"px, 0)"},{transform:"translate3d(-50%, -50%, 0)"}).queue(function(t){e(),t()}))}},{key:"hide",value:function(t,e){e=e||function(){},ht.runAll(ht(t._mask,this.def).default({opacity:1},{opacity:0}),ht(t._dialog,this.def).default({transform:"translate3d(-50%, -50%, 0)"},{transform:"translate3d(-50%, "+(-this.bodyHeight/2+1-t._dialog.clientHeight)+"px, 0)"}).queue(function(t){e(),t()}))}}]),l}(),none:So},Io=function(t){function e(){_(this,e);var t=M(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return c(t,function(){return t._compile()}),t}return k(e,eo),g(e,[{key:"_updateAnimatorFactory",value:function(){return new A({animators:Do,baseClass:So,baseClassName:"DialogAnimator",defaultAnimation:this.getAttribute("animation")})}},{key:"_compile",value:function(){if(j.prepare(this),this.style.display="none",this.style.zIndex=10001,!this._dialog){var t=document.createElement("div");t.classList.add("dialog");var e=document.createElement("div");for(e.classList.add("dialog-container");this.firstChild;)e.appendChild(this.firstChild);t.appendChild(e),this.appendChild(t)}if(!this._mask){var i=document.createElement("div");i.classList.add("dialog-mask"),this.insertBefore(i,this.firstChild)}this._dialog.style.zIndex=20001,this._mask.style.zIndex=2e4,this.setAttribute("status-bar-fill",""),z.initModifier(this,this._scheme)}},{key:"_scheme",get:function(){return Oo}},{key:"_mask",get:function(){return tt.findChild(this,".dialog-mask")}},{key:"_dialog",get:function(){return tt.findChild(this,".dialog")}}],[{key:"registerAnimator",value:function(t,e){e.prototype instanceof So||tt.throwAnimator("Dialog"),Do[t]=e}},{key:"animators",get:function(){return Do}},{key:"DialogAnimator",get:function(){return So}}]),e}();o.Dialog=Io,customElements.define("ons-dialog",Io);var No={"":"fab--*",".fab__icon":"fab--*__icon"},Bo=function(t){function e(){_(this,e);var t=M(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.hide(),t.classList.add("fab"),c(t,function(){t._compile()}),t}return k(e,Vn),g(e,[{key:"_compile",value:function(){if(j.prepare(this),!tt.findChild(this,".fab__icon")){var e=document.createElement("span");e.classList.add("fab__icon"),tt.arrayFrom(this.childNodes).forEach(function(t){t.tagName&&"ons-ripple"===t.tagName.toLowerCase()||e.appendChild(t)}),this.appendChild(e)}this._updateRipple(),z.initModifier(this,No),this._updatePosition()}},{key:"connectedCallback",value:function(){var t=this;setImmediate(function(){return t.show()})}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"class":tt.restoreClass(this,"fab",No);break;case"modifier":z.onModifierChanged(e,i,this,No);break;case"ripple":this._updateRipple();break;case"position":this._updatePosition()}}},{key:"_show",value:function(){this.show()}},{key:"_hide",value:function(){var t=this;setImmediate(function(){return t.hide()})}},{key:"_updateRipple",value:function(){tt.updateRipple(this)}},{key:"_updatePosition",value:function(){var t=this.getAttribute("position");switch(this.classList.remove("fab--top__left","fab--bottom__right","fab--bottom__left","fab--top__right","fab--top__center","fab--bottom__center"),t){case"top right":case"right top":this.classList.add("fab--top__right");break;case"top left":case"left top":this.classList.add("fab--top__left");break;case"bottom right":case"right bottom":this.classList.add("fab--bottom__right");break;case"bottom left":case"left bottom":this.classList.add("fab--bottom__left");break;case"center top":case"top center":this.classList.add("fab--top__center");break;case"center bottom":case"bottom center":this.classList.add("fab--bottom__center")}}},{key:"show",value:function(){this.toggle(!0)}},{key:"hide",value:function(){this.toggle(!1)}},{key:"toggle",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!this.visible,e=0<=(this.getAttribute("position")||"").indexOf("bottom")?"translate3d(0px, -"+(tt.globals.fabOffset||0)+"px, 0px)":"";h(this,{transform:e+" scale("+Number(t)+")"})}},{key:"disabled",set:function(t){return tt.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}},{key:"visible",get:function(){return-1===this.style.transform.indexOf("scale(0)")&&"none"!==this.style.display}}],[{key:"observedAttributes",get:function(){return["modifier","ripple","position","class"]}}]),e}();o.Fab=Bo,customElements.define("ons-fab",Bo);var jo=function(t){function e(){_(this,e);var t=M(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._gestureDetector=new ft(t,{passive:!0}),t}return k(e,Vn),e}();o.GestureDetector=jo,customElements.define("ons-gesture-detector",jo);var zo="fa",Ro=function(t){function e(){_(this,e);var t=M(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._compile(),t}return k(e,Vn),g(e,[{key:"attributeChangedCallback",value:function(t,e,i){this._cleanClassAttribute("icon"===t?e:this.getAttribute("icon"),"modifier"===t?e:void 0),this._update()}},{key:"_compile",value:function(){j.prepare(this),this._update()}},{key:"_update",value:function(){var e=this,t=this._buildClassAndStyle(this._parseAttr("icon"),this._parseAttr("size")),i=t.classList,n=t.style;tt.extend(this.style,n),i.forEach(function(t){return e.classList.add(t)})}},{key:"_parseAttr",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.getAttribute("modifier")||"",i=(this.getAttribute(t)||t||"").split(/\s*,\s*/),n=i[0],o=i[1];return o=(o||"").split(/\s*:\s*/),(e&&RegExp("(^|\\s+)"+o[0]+"($|\\s+)","i").test(e)?o[1]:n)||""}},{key:"_cleanClassAttribute",value:function(t,e){var i=this,n=this._prefixIcon(this._parseAttr(t,e)),o=n.className,a=n.prefix,s=new RegExp("^(fa$|fa-|ion-|zmdi$|zmdi-|ons-icon--"+(o!==a?"|"+a+"$|"+a+"-":"|"+o+"$"||"")+")");tt.arrayFrom(this.classList).filter(function(t){return s.test(t)}).forEach(function(t){return i.classList.remove(t)})}},{key:"_prefixIcon",value:function(t){var e=zo+(zo?"-":"")+t;return{className:e,prefix:e.split("-")[0]}}},{key:"_buildClassAndStyle",value:function(t,e){var i=["ons-icon"],n={};if(0===t.indexOf("ion-"))i.push(t),i.push("ons-icon--ion");else if(0===t.indexOf("fa-"))i.push(t),i.push("fa");else if(0===t.indexOf("md-"))i.push("zmdi"),i.push("zmdi-"+t.split(/-(.+)?/)[1]);else{var o=this._prefixIcon(t),a=o.className,s=o.prefix;s&&i.push(s),a&&i.push(a)}return e.match(/^[1-5]x|lg$/)?(i.push("ons-icon--"+e),this.style.removeProperty("font-size")):n.fontSize=e,{classList:i,style:n}}}],[{key:"setAutoPrefix",value:function(t){zo=t?"string"==typeof t&&t||"fa":""}},{key:"observedAttributes",get:function(){return["icon","size","modifier","class"]}}]),e}();o.Icon=Ro,customElements.define("ons-icon",Ro);var Uo=function(){function i(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;_(this,i),"object"===(void 0===t?"undefined":m(t))&&null!==t||tt.throw('"delegate" parameter must be an object'),this._userDelegate=t,e instanceof Element||null===e||tt.throw('"templateElement" parameter must be an instance of Element or null'),this._templateElement=e}return g(i,[{key:"hasRenderFunction",value:function(){return this._userDelegate._render instanceof Function}},{key:"_render",value:function(){this._userDelegate._render.apply(this._userDelegate,arguments)}},{key:"loadItemElement",value:function(t,e){if(this._userDelegate.loadItemElement instanceof Function)this._userDelegate.loadItemElement(t,e);else{var i=this._userDelegate.createItemContent(t,this._templateElement);i instanceof Element||tt.throw('"createItemContent" must return an instance of Element'),e({element:i})}}},{key:"countItems",value:function(){var t=this._userDelegate.countItems();return"number"!=typeof t&&tt.throw('"countItems" must return a number'),t}},{key:"updateItem",value:function(t,e){this._userDelegate.updateItemContent instanceof Function&&this._userDelegate.updateItemContent(t,e)}},{key:"calculateItemHeight",value:function(t){if(this._userDelegate.calculateItemHeight instanceof Function){var e=this._userDelegate.calculateItemHeight(t);return"number"!=typeof e&&tt.throw('"calculateItemHeight" must return a number'),e}return 0}},{key:"destroyItem",value:function(t,e){this._userDelegate.destroyItem instanceof Function&&this._userDelegate.destroyItem(t,e)}},{key:"destroy",value:function(){this._userDelegate.destroy instanceof Function&&this._userDelegate.destroy(),this._userDelegate=this._templateElement=null}},{key:"itemHeight",get:function(){return this._userDelegate.itemHeight}}]),i}(),qo=function(){function i(t,e){_(this,i),e instanceof Uo||tt.throw('"delegate" parameter must be an instance of LazyRepeatDelegate'),this._wrapperElement=t,this._delegate=e,this._insertIndex=this._wrapperElement.children[0]&&"ONS-LAZY-REPEAT"===this._wrapperElement.children[0].tagName?1:0,"ons-list"===t.tagName.toLowerCase()&&t.classList.add("lazy-list"),this._pageContent=this._findPageContentElement(t),this._pageContent||tt.throw("LazyRepeat must be descendant of a Page element"),this.lastScrollTop=this._pageContent.scrollTop,this.padding=0,this._topPositions=[0],this._renderedItems={},this._delegate.itemHeight||this._delegate.calculateItemHeight(0)||(this._unknownItemHeight=!0),this._addEventListeners(),this._onChange()}return g(i,[{key:"_findPageContentElement",value:function(t){var e=tt.findParent(t,".page__content");if(e)return e;var i=tt.findParent(t,"ons-page");if(i){var n=tt.findChild(i,".content");if(n)return n}return null}},{key:"_checkItemHeight",value:function(i){var n=this;this._delegate.loadItemElement(0,function(t){n._unknownItemHeight||tt.throw("Invalid state"),n._wrapperElement.appendChild(t.element);var e=function(){n._delegate.destroyItem(0,t),t.element&&t.element.remove(),delete n._unknownItemHeight,i()};n._itemHeight=t.element.offsetHeight,0<n._itemHeight?e():(n._wrapperElement.style.visibility="hidden",t.element.style.visibility="hidden",setImmediate(function(){n._itemHeight=t.element.offsetHeight,0==n._itemHeight&&tt.throw('Invalid state: "itemHeight" must be greater than zero'),n._wrapperElement.style.visibility="",e()}))})}},{key:"_countItems",value:function(){return this._delegate.countItems()}},{key:"_getItemHeight",value:function(t){return this._renderedItems.hasOwnProperty(t)?(this._renderedItems[t].hasOwnProperty("height")||(this._renderedItems[t].height=this._renderedItems[t].element.offsetHeight),this._renderedItems[t].height):this._topPositions[t+1]&&this._topPositions[t]?this._topPositions[t+1]-this._topPositions[t]:this.staticItemHeight||this._delegate.calculateItemHeight(t)}},{key:"_calculateRenderedHeight",value:function(){var i=this;return Object.keys(this._renderedItems).reduce(function(t,e){return t+i._getItemHeight(+e)},0)}},{key:"_onChange",value:function(){this._render()}},{key:"_lastItemRendered",value:function(){return Math.max.apply(Math,E(Object.keys(this._renderedItems)))}},{key:"_firstItemRendered",value:function(){return Math.min.apply(Math,E(Object.keys(this._renderedItems)))}},{key:"refresh",value:function(){var t={forceScrollDown:!0},e=Math.min(this._lastItemRendered(),this._countItems()-1),i=this._firstItemRendered();tt.isInteger(e)&&(t.forceLastIndex=e),tt.isInteger(i)&&(this._wrapperElement.style.height=this._topPositions[i]+this._calculateRenderedHeight()+"px",this.padding=this._topPositions[i],t.forceFirstIndex=i),this._removeAllElements(),this._render(t),this._wrapperElement.style.height="inherit"}},{key:"_render",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=t.forceScrollDown,n=void 0!==i&&i,o=t.forceFirstIndex,a=t.forceLastIndex;if(this._unknownItemHeight)return this._checkItemHeight(this._render.bind(this,arguments[0]));var s=!n&&this.lastScrollTop>this._pageContent.scrollTop;this.lastScrollTop=this._pageContent.scrollTop;for(var r={},l=this._wrapperElement.getBoundingClientRect().top,h=4*window.innerHeight-l,u=this._countItems(),c=o||Math.max(0,this._calculateStartIndex(l)-30),d=c,p=this._topPositions[d];d<u&&p<h;d++)d>=this._topPositions.length&&(this._topPositions.length+=100),this._topPositions[d]=p,p+=this._getItemHeight(d);if(this._delegate.hasRenderFunction&&this._delegate.hasRenderFunction())return this._delegate._render(c,d,function(){e.padding=e._topPositions[c]});if(s)for(var f=d-1;c<=f;f--)r[f]=!0,this._renderElement(f,s);else for(var m=a||Math.max.apply(Math,[d-1].concat(E(Object.keys(this._renderedItems)))),_=c;_<=m;_++)r[_]=!0,this._renderElement(_,s);Object.keys(this._renderedItems).forEach(function(t){return r[t]||e._removeElement(t,s)})}},{key:"_renderElement",value:function(e,i){var n=this,t=this._renderedItems[e];t?this._delegate.updateItem(e,t):this._delegate.loadItemElement(e,function(t){i?(n._wrapperElement.insertBefore(t.element,n._wrapperElement.children[n._insertIndex]),n.padding=n._topPositions[e],t.height=n._topPositions[e+1]-n._topPositions[e]):n._wrapperElement.appendChild(t.element),n._renderedItems[e]=t})}},{key:"_removeElement",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];t=+t;var i=this._renderedItems[t];this._delegate.destroyItem(t,i),e?this._topPositions[t+1]=void 0:this.padding=this.padding+this._getItemHeight(t),i.element.parentElement&&i.element.parentElement.removeChild(i.element),delete this._renderedItems[t]}},{key:"_removeAllElements",value:function(){var e=this;Object.keys(this._renderedItems).forEach(function(t){return e._removeElement(t)})}},{key:"_recalculateTopPositions",value:function(t,e){for(var i=t;i<=e;i++)this._topPositions[i+1]=this._topPositions[i]+this._getItemHeight(i)}},{key:"_calculateStartIndex",value:function(t){var e=this._firstItemRendered(),i=this._lastItemRendered();this._recalculateTopPositions(e,i);for(var n=0,o=this._countItems()-1;;){var a=Math.floor((n+o)/2),s=t+this._topPositions[a];if(o<n)return 0;if(s<=0&&0<s+this._getItemHeight(a))return a;isNaN(s)||0<=s?o=a-1:n=a+1}}},{key:"_debounce",value:function(n,o,a){var s=void 0;return function(){var t=this,e=arguments,i=a&&!s;clearTimeout(s),i?n.apply(this,arguments):s=setTimeout(function(){s=null,n.apply(t,e)},o)}}},{key:"_doubleFireOnTouchend",value:function(){this._render(),this._debounce(this._render.bind(this),100)}},{key:"_addEventListeners",value:function(){tt.bindListeners(this,["_onChange","_doubleFireOnTouchend"]),P.isIOS()&&(this._boundOnChange=this._debounce(this._boundOnChange,30)),this._pageContent.addEventListener("scroll",this._boundOnChange,!0),P.isIOS()&&(tt.addEventListener(this._pageContent,"touchmove",this._boundOnChange,{capture:!0,passive:!0}),this._pageContent.addEventListener("touchend",this._boundDoubleFireOnTouchend,!0)),window.document.addEventListener("resize",this._boundOnChange,!0)}},{key:"_removeEventListeners",value:function(){this._pageContent.removeEventListener("scroll",this._boundOnChange,!0),P.isIOS()&&(tt.removeEventListener(this._pageContent,"touchmove",this._boundOnChange,{capture:!0,passive:!0}),this._pageContent.removeEventListener("touchend",this._boundDoubleFireOnTouchend,!0)),window.document.removeEventListener("resize",this._boundOnChange,!0)}},{key:"destroy",value:function(){this._removeAllElements(),this._delegate.destroy(),this._parentElement=this._delegate=this._renderedItems=null,this._removeEventListeners()}},{key:"padding",get:function(){return parseInt(this._wrapperElement.style.paddingTop,10)},set:function(t){this._wrapperElement.style.paddingTop=t+"px"}},{key:"staticItemHeight",get:function(){return this._delegate.itemHeight||this._itemHeight}}]),i}(),Fo=function(t){function e(){return _(this,e),M(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return k(e,Vn),g(e,[{key:"connectedCallback",value:function(){this.hasAttribute("delegate")&&(this.delegate=window[this.getAttribute("delegate")])}},{key:"refresh",value:function(){this._lazyRepeatProvider&&this._lazyRepeatProvider.refresh()}},{key:"attributeChangedCallback",value:function(t,e,i){}},{key:"disconnectedCallback",value:function(){this._lazyRepeatProvider&&(this._lazyRepeatProvider.destroy(),this._lazyRepeatProvider=null)}},{key:"delegate",set:function(t){this._lazyRepeatProvider&&this._lazyRepeatProvider.destroy(),!this._templateElement&&this.children[0]&&(this._templateElement=this.removeChild(this.children[0]));var e=new Uo(t,this._templateElement||null);this._lazyRepeatProvider=new qo(this.parentElement,e)},get:function(){tt.throw("No delegate getter")}}]),e}();S.LazyRepeatDelegate=Uo,S.LazyRepeatProvider=qo,o.LazyRepeat=Fo,customElements.define("ons-lazy-repeat",Fo);var Ho={"":"list-header--*"},Zo=function(t){function e(){_(this,e);var t=M(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._compile(),t}return k(e,Vn),g(e,[{key:"_compile",value:function(){j.prepare(this),this.classList.add("list-header"),z.initModifier(this,Ho)}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"class":tt.restoreClass(this,"list-header",Ho);break;case"modifier":z.onModifierChanged(e,i,this,Ho)}}}],[{key:"observedAttributes",get:function(){return["modifier","class"]}}]),e}();o.ListHeader=Zo,customElements.define("ons-list-header",Zo);var Wo={"":"list-title--*"},Go=function(t){function e(){_(this,e);var t=M(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._compile(),t}return k(e,Vn),g(e,[{key:"_compile",value:function(){j.prepare(this),this.classList.add("list-title"),z.initModifier(this,Wo)}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"class":tt.restoreClass(this,"list-title",Wo);break;case"modifier":z.onModifierChanged(e,i,this,Wo)}}}],[{key:"observedAttributes",get:function(){return["modifier","class"]}}]),e}();o.ListTitle=Go,customElements.define("ons-list-title",Go);var Vo=function(t){function r(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"linear":e,n=t.delay,o=void 0===n?0:n,a=t.duration,s=void 0===a?.2:a;return _(this,r),M(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,{timing:i,delay:o,duration:s}))}return k(r,Jn),g(r,[{key:"showExpansion",value:function(t,e){e()}},{key:"hideExpansion",value:function(t,e){e()}}]),r}(),Xo={".list-item":"list-item--*",".list-item__left":"list-item--*__left",".list-item__center":"list-item--*__center",".list-item__right":"list-item--*__right",".list-item__label":"list-item--*__label",".list-item__title":"list-item--*__title",".list-item__subtitle":"list-item--*__subtitle",".list-item__thumbnail":"list-item--*__thumbnail",".list-item__icon":"list-item--*__icon"},Yo={default:function(t){function e(){return _(this,e),M(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return k(e,Vo),g(e,[{key:"showExpansion",value:function(t,e){this._animateExpansion(t,!0,e)}},{key:"hideExpansion",value:function(t,e){this._animateExpansion(t,!1,e)}},{key:"_animateExpansion",value:function(t,e,i){var n,o=t.expandableContent.style.height,a=t.expandableContent.style.display;t.expandableContent.style.height="auto",t.expandableContent.style.display="block";var s,r=window.getComputedStyle(t.expandableContent),l=[{height:0,paddingTop:0,paddingBottom:0},{height:r.height,paddingTop:r.paddingTop,paddingBottom:r.paddingBottom}],h=[{transform:"rotate(45deg)"},{transform:"rotate(225deg)"}];(t.expandableContent.style.height=o,(n=ht(t.expandableContent,{duration:this.duration,property:"height padding-top padding-bottom"})).default.apply(n,E(e?l:l.reverse())).play(function(){t.expandableContent.style.display=a,i&&i()}),t.expandChevron)&&(s=ht(t.expandChevron,{duration:this.duration,property:"transform"})).default.apply(s,E(e?h:h.reverse())).play()}}]),e}(),none:Vo},Jo=function(t){function i(){_(this,i);var t=M(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));t._animatorFactory=t._updateAnimatorFactory(),t.toggleExpansion=t.toggleExpansion.bind(t);var e=/^ons-(?!col$|row$|if$)/i;return t._shouldIgnoreTap=function(t){return t.hasAttribute("prevent-tap")||e.test(t.tagName)},t.show=t.showExpansion,t.hide=t.hideExpansion,c(t,function(){t._compile()}),t}return k(i,Vn),g(i,[{key:"_compile",value:function(){j.prepare(this),this.classList.add("list-item"),this.hasAttribute("expandable")&&this.classList.add("list-item--expandable");for(var t=void 0,e=void 0,i=void 0,n=void 0,o=void 0,a=tt.getAllChildNodes(this),s=0;s<a.length;s++){var r=a[s];r.classList.contains("left")?(r.classList.add("list-item__left"),t=r):r.classList.contains("center")?e=r:r.classList.contains("right")?(r.classList.add("list-item__right"),i=r):r.classList.contains("top")?(r.classList.add("list-item__top"),n=r):r.classList.contains("expandable-content")&&(r.classList.add("list-item__expandable-content"),o=r)}if(!i&&this.hasAttribute("expandable")){(i=document.createElement("div")).classList.add("list-item__right","right");var l=document.createElement("span");l.classList.add("list-item__expand-chevron"),i.appendChild(l)}if(!e){if(e=document.createElement("div"),t||i||o)for(var h=this.childNodes.length-1;0<=h;h--){var u=this.childNodes[h];u!==t&&u!==i&&u!==o&&"ONS-RIPPLE"!==u.tagName&&e.insertBefore(u,e.firstChild)}else for(;this.childNodes[0];)e.appendChild(this.childNodes[0]);o||this.insertBefore(e,i||null)}e.classList.add("center","list-item__center"),o&&(this._top=n||document.createElement("div"),this._top.classList.add("top","list-item__top"),this.appendChild(this._top),this._top.appendChild(e),t&&this._top.appendChild(t),i&&this._top.appendChild(i)),tt.updateRipple(this),z.initModifier(this,Xo)}},{key:"showExpansion",value:function(){var t=this;this.hasAttribute("expandable")&&!this._expanding&&(this.expanded=!0,this._expanding=!0,this._animatorFactory.newAnimator().showExpansion(this,function(){t.classList.add("expanded"),t._expanding=!1}))}},{key:"hideExpansion",value:function(){var t=this;this.hasAttribute("expandable")&&!this._expanding&&(this.expanded=!1,this._expanding=!0,this._animatorFactory.newAnimator().hideExpansion(this,function(){t.classList.remove("expanded"),t._expanding=!1}))}},{key:"toggleExpansion",value:function(){this.classList.contains("expanded")?this.hideExpansion():this.showExpansion()}},{key:"_updateAnimatorFactory",value:function(){return new A({animators:Yo,baseClass:Vo,baseClassName:"ListItemAnimator",defaultAnimation:this.getAttribute("animation")||"default"})}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"class":tt.restoreClass(this,"list-item",Xo);break;case"modifier":z.onModifierChanged(e,i,this,Xo);break;case"ripple":tt.updateRipple(this);break;case"animation":this._animatorFactory=this._updateAnimatorFactory()}}},{key:"connectedCallback",value:function(){var t=this;c(this,function(){t._setupListeners(!0),t._originalBackgroundColor=t.style.backgroundColor,t.tapped=!1})}},{key:"disconnectedCallback",value:function(){this._setupListeners(!1)}},{key:"_setupListeners",value:function(t){var e=(t?"add":"remove")+"EventListener";tt[e](this,"touchstart",this._onTouch,{passive:!0}),tt[e](this,"touchmove",this._onRelease,{passive:!0}),this[e]("touchcancel",this._onRelease),this[e]("touchend",this._onRelease),this[e]("touchleave",this._onRelease),this[e]("drag",this._onDrag),this[e]("mousedown",this._onTouch),this[e]("mouseup",this._onRelease),this[e]("mouseout",this._onRelease),this._top&&this._top[e]("click",this.toggleExpansion)}},{key:"_onDrag",value:function(t){var e=t.gesture;this.hasAttribute("lock-on-drag")&&-1<["left","right"].indexOf(e.direction)&&e.preventDefault()}},{key:"_onTouch",value:function(t){var e=this;if(!(this.tapped||this!==t.target&&(this._shouldIgnoreTap(t.target)||tt.findParent(t.target,this._shouldIgnoreTap,function(t){return t===e})))){this.tapped=!0;var i={transition:"background-color 0.0s linear 0.02s, box-shadow 0.0s linear 0.02s"};this.hasAttribute("tappable")&&(this.style.backgroundColor&&(this._originalBackgroundColor=this.style.backgroundColor),i.backgroundColor=this.getAttribute("tap-background-color")||"#d9d9d9",i.boxShadow="0px -1px 0px 0px "+i.backgroundColor),h(this,i)}}},{key:"_onRelease",value:function(){this.tapped=!1,this.style.backgroundColor=this._originalBackgroundColor||"",h.clear(this,"transition boxShadow")}},{key:"expandableContent",get:function(){return this.querySelector(".list-item__expandable-content")}},{key:"expandChevron",get:function(){return this.querySelector(".list-item__expand-chevron")}}],[{key:"observedAttributes",get:function(){return["modifier","class","ripple","animation"]}}]),i}();o.ListItem=Jo,customElements.define("ons-list-item",Jo);var Ko={"":"list--*"},Qo=function(t){function e(){_(this,e);var t=M(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._compile(),t}return k(e,Vn),g(e,[{key:"_compile",value:function(){j.prepare(this),this.classList.add("list"),z.initModifier(this,Ko)}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"class":tt.restoreClass(this,"list",Ko);break;case"modifier":z.onModifierChanged(e,i,this,Ko)}}}],[{key:"observedAttributes",get:function(){return["modifier","class"]}}]),e}();o.List=Qo,customElements.define("ons-list",Qo);var $o=["autocapitalize","autocomplete","autocorrect","autofocus","disabled","inputmode","max","maxlength","min","minlength","name","pattern","placeholder","readonly","required","size","step","validator","value"],ta=function(t){function e(){_(this,e);var t=M(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.constructor===e&&tt.throwAbstract(),c(t,function(){return t._compile()}),t._boundDelegateEvent=t._delegateEvent.bind(t),t}return k(e,Vn),g(e,[{key:"_update",value:function(){}},{key:"_scheme",get:function(){tt.throwMember()}},{key:"_template",get:function(){tt.throwMember()}},{key:"type",get:function(){tt.throwMember()}}]),g(e,[{key:"_compile",value:function(){j.prepare(this),this._defaultClassName&&this.classList.add(this._defaultClassName),0===this.children.length&&(this.appendChild(tt.createFragment(this._template)),this._setInputId(),this._updateBoundAttributes(),z.initModifier(this,this._scheme))}},{key:"_updateBoundAttributes",value:function(){var e=this;$o.forEach(function(t){e.hasAttribute(t)?e._input.setAttribute(t,e.getAttribute(t)):e._input.removeAttribute(t)}),this._update()}},{key:"_delegateEvent",value:function(t){var e=new CustomEvent(t.type,{bubbles:!1,cancelable:!0});return this.dispatchEvent(e)}},{key:"_setInputId",value:function(){this.hasAttribute("input-id")&&(this._input.id=this.getAttribute("input-id"))}},{key:"connectedCallback",value:function(){var t=this;c(this,function(){t._input.addEventListener("focus",t._boundDelegateEvent),t._input.addEventListener("blur",t._boundDelegateEvent)})}},{key:"disconnectedCallback",value:function(){var t=this;c(this,function(){t._input.removeEventListener("focus",t._boundDelegateEvent),t._input.removeEventListener("blur",t._boundDelegateEvent)})}},{key:"attributeChangedCallback",value:function(t,e,i){var n=this;switch(t){case"modifier":c(this,function(){return z.onModifierChanged(e,i,n,n._scheme)});break;case"input-id":c(this,function(){return n._setInputId()});break;case"class":tt.restoreClass(this,this._defaultClassName,this._scheme)}0<=$o.indexOf(t)&&c(this,function(){return n._updateBoundAttributes()})}},{key:"_defaultClassName",get:function(){return""}},{key:"_input",get:function(){return this.querySelector("input")}},{key:"value",get:function(){return null===this._input?this.getAttribute("value"):this._input.value},set:function(t){var e=this;c(this,function(){t instanceof Date&&(t=t.toISOString().substring(0,10)),e._input.value=t,e._update()})}},{key:"disabled",set:function(t){return tt.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}}],[{key:"observedAttributes",get:function(){return["modifier","input-id","class"].concat($o)}}]),e}(),ea={".text-input":"text-input--*",".text-input__label":"text-input--*__label"},ia=function(t){function o(){_(this,o);var t=M(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return t._boundOnInput=t._update.bind(t),t._boundOnFocusin=t._update.bind(t),t}return k(o,ta),g(o,[{key:"_update",value:function(){this._updateLabel(),this._updateLabelClass()}},{key:"_updateLabel",value:function(){var t=this.getAttribute("placeholder")||"";void 0!==this._helper.textContent?this._helper.textContent=t:this._helper.innerText=t}},{key:"_updateLabelClass",value:function(){""===this.value?this._helper.classList.remove("text-input--material__label--active"):this._helper.classList.add("text-input--material__label--active")}},{key:"connectedCallback",value:function(){var t=this;b(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"connectedCallback",this).call(this),c(this,function(){t._input.addEventListener("input",t._boundOnInput),t._input.addEventListener("focusin",t._boundOnFocusin)});var e=this.getAttribute("type");0<=["checkbox","radio"].indexOf(e)&&tt.warn('Warn: <ons-input type="'+e+'"> is deprecated since v2.4.0. Use <ons-'+e+"> instead.")}},{key:"disconnectedCallback",value:function(){var t=this;b(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"disconnectedCallback",this).call(this),c(this,function(){t._input.removeEventListener("input",t._boundOnInput),t._input.removeEventListener("focusin",t._boundOnFocusin)})}},{key:"attributeChangedCallback",value:function(t,e,i){var n=this;switch(t){case"type":c(this,function(){return n._input.setAttribute("type",n.type)});break;default:b(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"attributeChangedCallback",this).call(this,t,e,i)}}},{key:"_scheme",get:function(){return ea}},{key:"_template",get:function(){return'\n      <input type="'+this.type+'" class="text-input">\n      <span class="text-input__label"></span>\n    '}},{key:"type",get:function(){var t=this.getAttribute("type");return["checkbox","radio"].indexOf(t)<0&&t||"text"}},{key:"_helper",get:function(){return this.querySelector("span")}}],[{key:"observedAttributes",get:function(){return[].concat(E(b(o.__proto__||Object.getPrototypeOf(o),"observedAttributes",this)),["type"])}}]),o}();o.Input=ia,customElements.define("ons-input",ia);var na=function(t){function n(){_(this,n);var t=M(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.constructor===n&&util.throwAbstract(),c(t,function(){t.attributeChangedCallback("checked",null,t.getAttribute("checked"))}),t}return k(n,ta),g(n,[{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"checked":this.checked=null!==i;break;default:b(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"attributeChangedCallback",this).call(this,t,e,i)}}},{key:"_template",get:function(){return'\n      <input type="'+this.type+'" class="'+this._defaultClassName+'__input">\n      <span class="'+this._defaultClassName+'__checkmark"></span>\n    '}},{key:"_helper",get:function(){return this.querySelector("span")}},{key:"checked",get:function(){return this._input.checked},set:function(t){var e=this;c(this,function(){e._input.checked=t})}}],[{key:"observedAttributes",get:function(){return[].concat(E(b(n.__proto__||Object.getPrototypeOf(n),"observedAttributes",this)),["checked"])}}]),n}(),oa={".checkbox":"checkbox--*",".checkbox__input":"checkbox--*__input",".checkbox__checkmark":"checkbox--*__checkmark"},aa=function(t){function e(){return _(this,e),M(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return k(e,na),g(e,[{key:"_scheme",get:function(){return oa}},{key:"_defaultClassName",get:function(){return"checkbox"}},{key:"type",get:function(){return"checkbox"}}]),e}();o.Checkbox=aa,customElements.define("ons-checkbox",aa);var sa={".radio-button":"radio-button--*",".radio-button__input":"radio-button--*__input",".radio-button__checkmark":"radio-button--*__checkmark"},ra=function(t){function e(){return _(this,e),M(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return k(e,na),g(e,[{key:"_scheme",get:function(){return sa}},{key:"_defaultClassName",get:function(){return"radio-button"}},{key:"type",get:function(){return"radio"}}]),e}();o.Radio=ra,customElements.define("ons-radio",ra);var la={".search-input":"search-input--*"},ha=function(t){function e(){return _(this,e),M(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return k(e,ta),g(e,[{key:"_scheme",get:function(){return la}},{key:"_template",get:function(){return'\n      <input type="'+this.type+'" class="search-input">\n    '}},{key:"type",get:function(){return"search"}}]),e}();o.SearchInput=ha,customElements.define("ons-search-input",ha);var ua=function(t){function r(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"linear":e,n=t.delay,o=void 0===n?0:n,a=t.duration,s=void 0===a?.2:a;return _(this,r),M(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,{timing:i,delay:o,duration:s}))}return k(r,Jn),g(r,[{key:"show",value:function(t,e){e()}},{key:"hide",value:function(t,e){e()}}]),r}(),ca=function(t){function r(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"linear":e,n=t.delay,o=void 0===n?0:n,a=t.duration,s=void 0===a?.3:a;return _(this,r),M(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,{timing:i,delay:o,duration:s}))}return k(r,ua),g(r,[{key:"show",value:function(t,e){e=e||function(){},ht(t,this.def).default({opacity:0},{opacity:1}).queue(function(t){e(),t()}).play()}},{key:"hide",value:function(t,e){e=e||function(){},ht(t,this.def).default({opacity:1},{opacity:0}).queue(function(t){e(),t()}).play()}}]),r}(),da=function(t){function r(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"cubic-bezier( .1, .7, .1, 1)":e,n=t.delay,o=void 0===n?0:n,a=t.duration,s=void 0===a?.4:a;return _(this,r),M(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,{timing:i,delay:o,duration:s}))}return k(r,ua),g(r,[{key:"show",value:function(t,e){e=e||function(){},ht(t,this.def).default({transform:"translate3d(0, 100%, 0)"},{transform:"translate3d(0, 0, 0)"}).queue(function(t){e(),t()}).play()}},{key:"hide",value:function(t,e){e=e||function(){},ht(t,this.def).default({transform:"translate3d(0, 0, 0)"},{transform:"translate3d(0, 100%, 0)"}).queue(function(t){e(),t()}).play()}}]),r}(),pa={"":"modal--*",modal__content:"modal--*__content"},fa={default:ua,fade:ca,lift:da,none:ua},ma=function(t){function n(){_(this,n);var t=M(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t._defaultDBB=function(){},c(t,function(){return t._compile()}),t}return k(n,eo),g(n,[{key:"_updateAnimatorFactory",value:function(){return new A({animators:fa,baseClass:ua,baseClassName:"ModalAnimator",defaultAnimation:this.getAttribute("animation")})}},{key:"_compile",value:function(){if(this.style.display="none",this.style.zIndex=10001,this.classList.add("modal"),!tt.findChild(this,".modal__content")){var t=document.createElement("div");for(t.classList.add("modal__content");this.childNodes[0];){var e=this.childNodes[0];this.removeChild(e),t.insertBefore(e,null)}this.appendChild(t)}z.initModifier(this,this._scheme)}},{key:"_toggleStyle",value:function(t){this.style.display=t?"table":"none"}},{key:"connectedCallback",value:function(){b(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"connectedCallback",this).call(this)}},{key:"disconnectedCallback",value:function(){b(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"disconnectedCallback",this).call(this)}},{key:"attributeChangedCallback",value:function(t,e,i){"class"===t?tt.restoreClass(this,"modal",pa):b(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"attributeChangedCallback",this).call(this,t,e,i)}},{key:"_scheme",get:function(){return pa}}],[{key:"registerAnimator",value:function(t,e){e.prototype instanceof ua||tt.throwAnimator("Modal"),fa[t]=e}},{key:"observedAttributes",get:function(){return[].concat(E(b(n.__proto__||Object.getPrototypeOf(n),"observedAttributes",this)),["class"])}},{key:"animators",get:function(){return fa}},{key:"ModalAnimator",get:function(){return ua}}]),n}();o.Modal=ma,customElements.define("ons-modal",ma);var _a=function(){function t(e){var i=this;_(this,t),"element ignoreSwipe isInitialState onDragCallback swipeMax swipeMin swipeMid".split(/\s+/).forEach(function(t){return i[t]=e[t]}),this.elementHandler=e.elementHandler||e.element,this.getThreshold=e.getThreshold||function(){return.5},this.getSide=e.getSide||function(){return"left"},this.handleGesture=this.handleGesture.bind(this),this._shouldFixScroll="ios"===tt.globals.actualMobileOS}return g(t,[{key:"update",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.element.hasAttribute("swipeable");this.gestureDetector||(this.gestureDetector=new ft(this.elementHandler,{dragMinDistance:1,passive:!this._shouldFixScroll}));var e=t?"on":"off";this.gestureDetector[e]("drag dragstart dragend",this.handleGesture)}},{key:"handleGesture",value:function(t){t.gesture&&("dragstart"===t.type?this.onDragStart(t):this._ignoreDrag||("dragend"===t.type?this.onDragEnd(t):this.onDrag(t)))}},{key:"onDragStart",value:function(t){var e,i,n;this._ignoreDrag=t.consumed||!tt.isValidGesture(t)||this.ignoreSwipe(t,"left"===this.getSide()?t.gesture.center.clientX:window.innerWidth-t.gesture.center.clientX),this._ignoreDrag||(t.consume&&t.consume(),t.consumed=!0,this._width=(e=this.element.style.width||"100%",i=[parseInt(e,10),/px/.test(e)],n=i[0],i[1]?n:Math.round(document.body.offsetWidth*n/100)),this._startDistance=this._distance=this.isInitialState instanceof Function&&!this.isInitialState()?this._width:0,tt.iosPreventScroll(this.gestureDetector))}},{key:"onDrag",value:function(t){t.stopPropagation();var e="left"===this.getSide()?t.gesture.deltaX:-t.gesture.deltaX,i=Math.max(0,Math.min(this._width,this._startDistance+e));i!==this._distance&&(this._distance=i,this.swipeMid(this._distance,this._width))}},{key:"onDragEnd",value:function(t){t.stopPropagation();var e=t.gesture.interimDirection;this.getSide()!==e&&this._distance>this._width*this.getThreshold()?this.swipeMax():this.swipeMin()}},{key:"dispose",value:function(){this.gestureDetector&&this.gestureDetector.dispose(),this.gestureDetector=this.element=this.elementHandler=null}}]),t}(),ga=function(t){function e(t){return _(this,e),t=tt.extend({timing:"linear",duration:"0.4",delay:"0"},t||{}),M(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return k(e,Jn),g(e,[{key:"push",value:function(t,e,i){i()}},{key:"pop",value:function(t,e,i){i()}},{key:"block",value:function(t){var e=tt.createElement('\n      <div style="position: absolute; background-color: transparent; width: 100%; height: 100%; z-index: 100000"></div>\n    ');return t.parentNode.appendChild(e),function(){return e.remove()}}}]),e}(),va=function(t){function h(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.durationRestore,i=void 0===e?.1:e,n=t.durationSwipe,o=void 0===n?.15:n,a=t.timingSwipe,s=void 0===a?"linear":a,r=w(t,["durationRestore","durationSwipe","timingSwipe"]);_(this,h);var l=M(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,y({},r)));return l.constructor===h&&tt.throwAbstract(),l.durationRestore=i,l.durationSwipe=o,l.timingSwipe=s,l.optSwipe={timing:s,duration:o},l.optRestore={timing:s,duration:i},l.swipeShadow=tt.createElement('<div style="position: absolute; height: 100%; width: 12px; right: 100%; top: 0; bottom: 0; z-index: -1;background: linear-gradient(to right, transparent 0, rgba(0,0,0,.04) 40%, rgba(0,0,0,.12) 80%, rgba(0,0,0,.16) 100%);"></div>'),l.isDragStart=!0,l}return k(h,ga),g(h,null,[{key:"swipeable",get:function(){return!0}}]),g(h,[{key:"_decompose",value:function(){tt.throwMember()}},{key:"_shouldAnimateToolbar",value:function(){tt.throwMember()}},{key:"_calculateDelta",value:function(){tt.throwMember()}},{key:"_dragStartSetup",value:function(t,e){this.isDragStart=!1,this.unblock=b(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"block",this).call(this,e),t.parentElement.insertBefore(this.backgroundMask,t),this.target={enter:tt.findToolbarPage(t)||t,leave:tt.findToolbarPage(e)||e},this.decomp={enter:this._decompose(this.target.enter),leave:this._decompose(this.target.leave)},this.delta=this._calculateDelta(e,this.decomp.leave),this.shouldAnimateToolbar=this._shouldAnimateToolbar(this.target.enter,this.target.leave),this.shouldAnimateToolbar?(this.swipeShadow.style.top=this.decomp.leave.toolbar.offsetHeight+"px",this.target.leave.appendChild(this.swipeShadow),this._saveStyle(this.target.enter,this.target.leave)):(e.appendChild(this.swipeShadow),this._saveStyle(t,e)),e.classList.add("overflow-visible"),this.overflowElement=e,this.decomp.leave.content.classList.add("content-swiping")}},{key:"translate",value:function(t,e,i,n){this.isSwiping=!0,"none"===i.style.display&&(i.style.display=""),this.isDragStart&&(this.maxWidth=e,this._dragStartSetup(i,n));var o=(t-e)/e;this.shouldAnimateToolbar?ht.runAll(ht([this.decomp.enter.content,this.decomp.enter.bottomToolbar,this.decomp.enter.background]).queue({transform:"translate3d("+25*o+"%, 0, 0)",opacity:1+10*o/100}),ht(this.decomp.enter.toolbarCenter).queue({transform:"translate3d("+this.delta.title*o+"px, 0, 0)",opacity:1+o}),ht(this.decomp.enter.backButtonLabel).queue({opacity:1+10*o/100,transform:"translate3d("+this.delta.label*o+"px, 0, 0)"}),ht(this.decomp.enter.other).queue({opacity:1+o}),ht([this.decomp.leave.content,this.decomp.leave.bottomToolbar,this.decomp.leave.background,this.swipeShadow]).queue({transform:"translate3d("+t+"px, 0, 0)"}),ht(this.decomp.leave.toolbar).queue({opacity:-1*o}),ht(this.decomp.leave.toolbarCenter).queue({transform:"translate3d("+125*(1+o)+"%, 0, 0)"}),ht(this.decomp.leave.backButtonLabel).queue({opacity:-1*o,transform:"translate3d("+this.delta.title*(1+o)+"px, 0, 0)"}),ht(this.swipeShadow).queue({opacity:-1*o})):ht.runAll(ht(n).queue({transform:"translate3d("+t+"px, 0, 0)"}),ht(i).queue({transform:"translate3d("+25*o+"%, 0, 0)",opacity:1+10*o/100}),ht(this.swipeShadow).queue({opacity:-1*o}))}},{key:"restore",value:function(e,i,n){var o=this;this.isDragStart||(this.shouldAnimateToolbar?ht.runAll(ht([this.decomp.enter.content,this.decomp.enter.bottomToolbar,this.decomp.enter.background]).queue({transform:"translate3d(-25%, 0, 0)",opacity:.9},this.optRestore),ht(this.decomp.enter.toolbarCenter).queue({transform:"translate3d(-"+this.delta.title+"px, 0, 0)",transition:"opacity "+this.durationRestore+"s linear, transform "+this.durationRestore+"s "+this.timingSwipe,opacity:0}),ht(this.decomp.enter.backButtonLabel).queue({transform:"translate3d(-"+this.delta.label+"px, 0, 0)"},this.optRestore),ht(this.decomp.enter.other).queue({opacity:0},this.optRestore),ht([this.decomp.leave.content,this.decomp.leave.bottomToolbar,this.decomp.leave.background,this.swipeShadow]).queue({transform:"translate3d(0, 0, 0)"},this.optRestore),ht(this.decomp.leave.toolbar).queue({opacity:1},this.optRestore),ht(this.decomp.leave.toolbarCenter).queue({transform:"translate3d(0, 0, 0)"},this.optRestore),ht(this.decomp.leave.backButtonLabel).queue({opacity:1,transform:"translate3d(0, 0, 0)",transition:"opacity "+this.durationRestore+"s linear, transform "+this.durationRestore+"s "+this.timingSwipe}),ht(this.swipeShadow).queue({opacity:0},this.optRestore).queue(function(t){o._reset(o.target.enter,o.target.leave),e.style.display="none",n&&n(),t()})):ht.runAll(ht(e).queue({transform:"translate3D(-25%, 0, 0)",opacity:.9},this.optRestore),ht(i).queue({transform:"translate3D(0, 0, 0)"},this.optRestore).queue(function(t){o._reset(e,i),e.style.display="none",n&&n(),t()})))}},{key:"popSwipe",value:function(e,i,n){var o=this;this.isDragStart||(this.shouldAnimateToolbar?ht.runAll(ht([this.decomp.enter.content,this.decomp.enter.bottomToolbar,this.decomp.enter.background]).queue({transform:"translate3d(0, 0, 0)",opacity:1},this.optSwipe),ht(this.decomp.enter.toolbarCenter).queue({transform:"translate3d(0, 0, 0)",transition:"opacity "+this.durationSwipe+"s linear, transform "+this.durationSwipe+"s "+this.timingSwipe,opacity:1}),ht(this.decomp.enter.backButtonLabel).queue({transform:"translate3d(0, 0, 0)"},this.optSwipe),ht(this.decomp.enter.other).queue({opacity:1},this.optSwipe),ht([this.decomp.leave.content,this.decomp.leave.bottomToolbar,this.decomp.leave.background]).queue({transform:"translate3d(100%, 0, 0)"},this.optSwipe),ht(this.decomp.leave.toolbar).queue({opacity:0},this.optSwipe),ht(this.decomp.leave.toolbarCenter).queue({transform:"translate3d(125%, 0, 0)"},this.optSwipe),ht(this.decomp.leave.backButtonLabel).queue({opacity:0,transform:"translate3d("+this.delta.title+"px, 0, 0)",transition:"opacity "+this.durationSwipe+"s linear, transform "+this.durationSwipe+"s "+this.timingSwipe}),ht(this.swipeShadow).queue({opacity:0,transform:"translate3d("+this.maxWidth+"px, 0, 0)"},this.optSwipe).queue(function(t){o._reset(o.target.enter,o.target.leave),n&&n(),t()})):ht.runAll(ht(e).queue({transform:"translate3D(0, 0, 0)",opacity:1},this.optSwipe),ht(i).queue({transform:"translate3D(100%, 0, 0)"},this.optSwipe).queue(function(t){o._reset(e,i),n&&n(),t()})))}},{key:"_saveStyle",value:function(){var i=this;this._savedStyle=new WeakMap;for(var n=function(t){return i._savedStyle.set(t,t.getAttribute("style"))},t=arguments.length,e=Array(t),o=0;o<t;o++)e[o]=arguments[o];e.forEach(n),Object.keys(this.decomp).forEach(function(e){Object.keys(i.decomp[e]).forEach(function(t){(i.decomp[e][t]instanceof Array?i.decomp[e][t]:[i.decomp[e][t]]).forEach(n)})})}},{key:"_restoreStyle",value:function(){for(var i=this,n=function(t){null===i._savedStyle.get(t)?t.removeAttribute("style"):t.setAttribute("style",i._savedStyle.get(t)),i._savedStyle.delete(t)},t=arguments.length,e=Array(t),o=0;o<t;o++)e[o]=arguments[o];e.forEach(n),Object.keys(this.decomp).forEach(function(e){Object.keys(i.decomp[e]).forEach(function(t){(i.decomp[e][t]instanceof Array?i.decomp[e][t]:[i.decomp[e][t]]).forEach(n)})})}},{key:"_reset",value:function(){this.isSwiping=!1,this._savedStyle&&this._restoreStyle.apply(this,arguments),this.unblock&&this.unblock(),this.swipeShadow.remove(),this.backgroundMask.remove(),this.overflowElement.classList.remove("overflow-visible"),this.decomp.leave.content.classList.remove("content-swiping"),this.decomp=this.target=this.overflowElement=this._savedStyle=null,this.isDragStart=!0}}]),h}(),ya=function(){return"translate3d("+(0<arguments.length&&void 0!==arguments[0]?arguments[0]:0)+", "+(1<arguments.length&&void 0!==arguments[1]?arguments[1]:0)+", "+(2<arguments.length&&void 0!==arguments[2]?arguments[2]:0)+")"},ba=function(t){function u(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"cubic-bezier(0.3, .4, 0, .9)":e,n=t.delay,o=void 0===n?0:n,a=t.duration,s=void 0===a?.4:a,r=w(t,["timing","delay","duration"]);_(this,u);var l=M(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,y({timing:i,delay:o,duration:s},r)));return l.backgroundMask=tt.createElement('<div style="position: absolute; width: 100%; height: 100%;background-color: black; z-index: 2"></div>'),l}return k(u,va),g(u,[{key:"_decompose",value:function(t){var e=t._getToolbarElement(),i=e._getToolbarLeftItemsElement(),n=e._getToolbarRightItemsElement(),o=function(t){for(var e=[],i=0;i<t.length;i++)"ons-back-button"!==t[i].nodeName.toLowerCase()&&e.push(t[i]);return e},a=[].concat(0===i.children.length?i:o(i.children)).concat(0===n.children.length?n:o(n.children));return{toolbarCenter:e._getToolbarCenterItemsElement(),backButtonIcon:e._getToolbarBackButtonIconElement(),backButtonLabel:e._getToolbarBackButtonLabelElement(),other:a,content:t._getContentElement(),background:t._getBackgroundElement(),toolbar:e,bottomToolbar:t._getBottomToolbarElement()}}},{key:"_shouldAnimateToolbar",value:function(t,e){var i=t._canAnimateToolbar()&&e._canAnimateToolbar(),n=t._getToolbarElement(),o=e._getToolbarElement(),a=n.hasAttribute("static")||o.hasAttribute("static"),s=tt.hasModifier(n,"material")||tt.hasModifier(o,"material"),r=tt.hasModifier(n,"transparent")||tt.hasModifier(o,"transparent");return i&&!a&&!s&&!r}},{key:"_calculateDelta",value:function(t,e){var i=void 0,n=void 0,o=t.getBoundingClientRect();if(e.backButtonLabel.classList.contains("back-button__label")){var a=e.backButtonLabel.getBoundingClientRect();i=Math.round(o.width/2-a.width/2-a.left)}else i=Math.round(o.width/2*.6);return e.backButtonIcon.classList.contains("back-button__icon")&&(n=e.backButtonIcon.getBoundingClientRect().right-2),{title:i,label:n}}},{key:"push",value:function(a,s,r){var l=this;this.backgroundMask.remove(),s.parentNode.insertBefore(this.backgroundMask,s);var h=b(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"block",this).call(this,a);c(a,function(){var t=tt.findToolbarPage(a)||a,e=tt.findToolbarPage(s)||s,i=l._decompose(t),n=l._decompose(e),o=l._calculateDelta(s,i);l._shouldAnimateToolbar(t,e)?ht.runAll(ht([i.content,i.bottomToolbar,i.background],l.def).default({transform:ya("100%")},{transform:ya()}),ht(i.toolbar,l.def).default({opacity:0},{opacity:1}),ht(i.toolbarCenter,l.def).default({transform:ya("125%"),opacity:1},{transform:ya(),opacity:1}),ht(i.backButtonLabel,l.def).default({transform:ya(o.title+"px"),opacity:0},{transform:ya(),opacity:1,transition:"opacity "+l.duration+"s linear, transform "+l.duration+"s "+l.timing}),ht(i.other,l.def).default({opacity:0},{css:{opacity:1},timing:"linear"}),ht([n.content,n.bottomToolbar,n.background],l.def).default({transform:ya(),opacity:1},{transform:ya("-25%"),opacity:.9}).queue(function(t){l.backgroundMask.remove(),h(),r(),t()}),ht(n.toolbarCenter,l.def).default({transform:ya(),opacity:1},{transform:ya("-"+o.title+"px"),opacity:0,transition:"opacity "+l.duration+"s linear, transform "+l.duration+"s "+l.timing}),ht(n.backButtonLabel,l.def).default({transform:ya(),opacity:1},{transform:ya("-"+o.label+"px"),opacity:0}),ht(n.other,l.def).default({opacity:1},{css:{opacity:0},timing:"linear"})):ht.runAll(ht(a,l.def).default({transform:ya("100%")},{transform:ya()}),ht(s,l.def).default({transform:ya(),opacity:1},{transform:ya("-25%"),opacity:.9}).queue(function(t){l.backgroundMask.remove(),h(),r(),t()}))})}},{key:"pop",value:function(t,e,i){var n=this;if(this.isSwiping)return this.popSwipe(t,e,i);this.backgroundMask.remove(),t.parentNode.insertBefore(this.backgroundMask,t);var o=b(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"block",this).call(this,t),a=tt.findToolbarPage(t)||t,s=tt.findToolbarPage(e)||e,r=this._decompose(a),l=this._decompose(s),h=this._calculateDelta(e,l);this._shouldAnimateToolbar(a,s)?ht.runAll(ht([r.content,r.bottomToolbar,r.background],this.def).default({transform:ya("-25%"),opacity:.9},{transform:ya(),opacity:1}),ht(r.toolbarCenter,this.def).default({transform:ya("-"+h.title+"px"),opacity:0},{transform:ya(),opacity:1,transition:"opacity "+this.duration+"s linear, transform "+this.duration+"s "+this.timing}),ht(r.backButtonLabel,this.def).default({transform:ya("-"+h.label+"px")},{transform:ya()}),ht(r.other,this.def).default({opacity:0},{css:{opacity:1},timing:"linear"}),ht([l.content,l.bottomToolbar,l.background],this.def).default({transform:ya()},{transform:ya("100%")}).wait(0).queue(function(t){n.backgroundMask.remove(),o(),i(),t()}),ht(l.toolbar,this.def).default({opacity:1},{opacity:0}),ht(l.toolbarCenter,this.def).default({transform:ya()},{transform:ya("125%")}),ht(l.backButtonLabel,this.def).default({transform:ya(),opacity:1},{transform:ya(h.title+"px"),opacity:0,transition:"opacity "+this.duration+"s linear, transform "+this.duration+"s "+this.timing})):ht.runAll(ht(t,this.def).default({transform:ya("-25%"),opacity:.9},{transform:ya(),opacity:1}),ht(e,this.def).default({transform:ya()},{transform:ya("100%")}).queue(function(t){n.backgroundMask.remove(),o(),i(),t()}))}}]),u}(),ka=function(t){function l(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"cubic-bezier(.1, .7, .1, 1)":e,n=t.delay,o=void 0===n?0:n,a=t.duration,s=void 0===a?.4:a;_(this,l);var r=M(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,{timing:i,delay:o,duration:s}));return r.backgroundMask=tt.createElement('<div style="position: absolute; width: 100%; height: 100%;background: linear-gradient(black, white);"></div>'),r}return k(l,ga),g(l,[{key:"push",value:function(t,e,i){var n=this;this.backgroundMask.remove(),e.parentNode.insertBefore(this.backgroundMask,e);var o=b(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"block",this).call(this,t);ht.runAll(ht(t,this.def).default({transform:"translate3D(0, 100%, 0)"},{transform:"translate3D(0, 0, 0)"}),ht(e,this.def).default({transform:"translate3D(0, 0, 0)",opacity:1},{transform:"translate3D(0, -10%, 0)",opacity:.9}).queue(function(t){n.backgroundMask.remove(),o(),i(),t()}))}},{key:"pop",value:function(t,e,i){var n=this;this.backgroundMask.remove(),t.parentNode.insertBefore(this.backgroundMask,t);var o=b(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"block",this).call(this,t);ht.runAll(ht(t,this.def).default({transform:"translate3D(0, -43px, 0)",opacity:.9},{transform:"translate3D(0, 0, 0)",opacity:1}).queue(function(t){n.backgroundMask.remove(),o(),i(),t()}),ht(e,this.def).default({transform:"translate3D(0, 0, 0)"},{transform:"translate3D(0, 100%, 0)"}))}}]),l}(),wa="translate3d(0, 0, 0)",Ma=function(t){function r(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"linear":e,n=t.delay,o=void 0===n?0:n,a=t.duration,s=void 0===a?.4:a;return _(this,r),M(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,{timing:i,delay:o,duration:s}))}return k(r,ga),g(r,[{key:"push",value:function(t,e,i){var n=b(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"block",this).call(this,t);ht.runAll(ht(t,this.def).default({transform:wa,opacity:0},{transform:wa,opacity:1}).queue(function(t){n(),i(),t()}))}},{key:"pop",value:function(t,e,i){var n=b(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"block",this).call(this,t);ht.runAll(ht(e,this.def).default({transform:wa,opacity:1},{transform:wa,opacity:0}).queue(function(t){n(),i(),t()}))}}]),r}(),Ea=function(t){function l(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"cubic-bezier(.1, .7, .4, 1)":e,n=t.delay,o=void 0===n?0:n,a=t.duration,s=void 0===a?.3:a;_(this,l);var r=M(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,{timing:i,delay:o,duration:s}));return r.blackMaskOpacity=.4,r.backgroundMask=tt.createElement('<div style="position: absolute; width: 100%; height: 100%; z-index: 2;background-color: black; opacity: 0;"></div>'),r}return k(l,ga),g(l,[{key:"push",value:function(t,e,i){var n=this;this.backgroundMask.remove(),e.parentElement.insertBefore(this.backgroundMask,e.nextSibling);var o=b(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"block",this).call(this,t);ht.runAll(ht(this.backgroundMask,this.def).default({transform:"translate3d(0, 0, 0)",opacity:0},{opacity:this.blackMaskOpacity}).queue(function(t){n.backgroundMask.remove(),t()}),ht(t,this.def).default({transform:"translate3d(100%, 0, 0)"},{transform:"translate3d(0, 0, 0)"}),ht(e,this.def).default({transform:"translate3d(0, 0, 0)"},{transform:"translate3d(-45%, 0, 0)"}).queue(function(t){o(),i(),t()}))}},{key:"pop",value:function(t,e,i){var n=this;this.backgroundMask.remove(),t.parentNode.insertBefore(this.backgroundMask,t.nextSibling);var o=b(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"block",this).call(this,t);ht.runAll(ht(this.backgroundMask,this.def).default({transform:"translate3d(0, 0, 0)",opacity:this.blackMaskOpacity},{opacity:0}).queue(function(t){n.backgroundMask.remove(),t()}),ht(t,this.def).default({transform:"translate3d(-45%, 0, 0)",opacity:.9},{transform:"translate3d(0, 0, 0)",opacity:1}),ht(e,this.def).default({transform:"translate3d(0, 0, 0)"},{transform:"translate3d(100%, 0, 0)"}).queue(function(t){o(),i(),t()}))}}]),l}(),xa=function(t){function l(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"cubic-bezier(.1, .7, .1, 1)":e,n=t.delay,o=void 0===n?.05:n,a=t.duration,s=void 0===a?.4:a;_(this,l);var r=M(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,{timing:i,delay:o,duration:s}));return r.backgroundMask=tt.createElement('<div style="position: absolute; width: 100%; height: 100%;background-color: black;"></div>'),r}return k(l,ga),g(l,[{key:"push",value:function(t,e,i){var n=this;this.backgroundMask.remove(),e.parentNode.insertBefore(this.backgroundMask,e);var o=b(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"block",this).call(this,t),a=ht(this.backgroundMask).wait(this.delay+this.duration).queue(function(t){n.backgroundMask.remove(),t()});ht.runAll(a,ht(t,this.def).default({transform:"translate3d(0, 100%, 0)"},{transform:"translate3d(0, 0, 0)"}),ht(e,this.def).default({opacity:1},{opacity:.4}).queue(function(t){o(),i(),t()}))}},{key:"pop",value:function(t,e,i){var n=this;this.backgroundMask.remove(),t.parentNode.insertBefore(this.backgroundMask,t);var o=b(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"block",this).call(this,t);ht.runAll(ht(this.backgroundMask).wait(this.delay+this.duration).queue(function(t){n.backgroundMask.remove(),t()}),ht(t,this.def).default({opacity:.4},{opacity:1}).queue(function(t){o(),i(),t()}),ht(e,this.def).default({transform:"translate3d(0, 0, 0)"},{transform:"translate3d(0, 100%, 0)"}))}}]),l}(),Pa=function(t){function u(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"cubic-bezier(0.4, 0, 0.2, 1)":e,n=t.timingPop,o=void 0===n?"cubic-bezier(0.4, 0, 1, 1)":n,a=t.delay,s=void 0===a?0:a,r=t.duration,l=void 0===r?.2:r;_(this,u);var h=M(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,{timing:i,delay:s,duration:l}));return h.timingPop=o,h}return k(u,ga),g(u,[{key:"push",value:function(t,e,i){var n=b(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"block",this).call(this,t);ht.runAll(ht(t,this.def).default({transform:"translate3D(0, 42px, 0)",opacity:0},{transform:"translate3D(0, 0, 0)",opacity:1}).queue(function(t){n(),i(),t()}))}},{key:"pop",value:function(t,e,i){var n=b(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"block",this).call(this,t);ht.runAll(ht(e,this.def).default({transform:"translate3D(0, 0, 0)",opacity:1},{css:{transform:"translate3D(0, 38px, 0)",opacity:0},timing:this.timingPop}).queue(function(t){n(),i(),t()}))}}]),u}(),Ca=function(t){function e(t){return _(this,e),M(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return k(e,ga),g(e,[{key:"push",value:function(t,e,i){i()}},{key:"pop",value:function(t,e,i){i()}}]),e}(),La={default:function(){return P.isAndroid()?Pa:ba},slide:function(){return P.isAndroid()?Ea:ba},lift:function(){return P.isAndroid()?xa:ka},fade:function(){return P.isAndroid()?Pa:Ma},"slide-ios":ba,"slide-md":Ea,"lift-ios":ka,"lift-md":xa,"fade-ios":Ma,"fade-md":Pa,none:Ca},Sa={ready:function(t,e){e()}},Aa=function(t){return"ONS-PAGE"!==t.nodeName&&tt.throw("Only page elements can be children of navigator")},Ta=function(t){function e(){_(this,e);var t=M(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._isRunning=!1,t._initialized=!1,t._pageLoader=te,t._pageMap=new WeakMap,t._updateAnimatorFactory(),t}return k(e,Vn),g(e,[{key:"animatorFactory",get:function(){return this._animatorFactory}}]),g(e,[{key:"_getPageTarget",value:function(){return this._page||this.getAttribute("page")}},{key:"connectedCallback",value:function(){var s=this;if(this.onDeviceBackButton=this._onDeviceBackButton.bind(this),!P.isAndroid()||"force"===this.getAttribute("swipeable")){var r=void 0;this._swipe=new _a({element:this,getThreshold:function(){return Math.max(.2,parseFloat(s.getAttribute("swipe-threshold"))||0)},swipeMax:function(){s._onSwipe&&s._onSwipe(1,{duration:r.durationSwipe,timing:r.timingSwipe}),s[s.swipeMax?"swipeMax":"popPage"]({animator:r}),r=null},swipeMid:function(t,e){s._onSwipe&&s._onSwipe(t/e),r.translate(t,e,s.topPage.previousElementSibling,s.topPage)},swipeMin:function(){s._onSwipe&&s._onSwipe(0,{duration:r.durationRestore,timing:r.timingSwipe}),r.restore(s.topPage.previousElementSibling,s.topPage),r=null},ignoreSwipe:function(t,e){if(!s._isRunning&&1<s.children.length){var i=parseInt(s.getAttribute("swipe-target-width")||25,10);if("right"===t.gesture.direction&&e<i){var n=function(t){return/ons-back-button/i.test(t.tagName)};if(!n(t.target)&&!tt.findParent(t.target,n,function(t){return/ons-page/i.test(t.tagName)})){var o=(s.topPage.pushedOptions||{}).animation||s.animatorFactory._animation,a=La[o]instanceof Function?La[o].call():La[o];if(void 0!==a&&a.swipeable)return r=new a,!1}}}return!0}}),this.attributeChangedCallback("swipeable")}if(!this._initialized){this._initialized=!0;var n=tt.defer();this.loaded=n.promise,Sa.ready(this,function(){var t=!tt.hasAnyComponentAsParent(s),e={animation:"none",show:t};if(0===s.pages.length&&s._getPageTarget())s.pushPage(s._getPageTarget(),e).then(function(){return n.resolve()});else if(0<s.pages.length){for(var i=0;i<s.pages.length;i++)Aa(s.pages[i]);s.topPage&&c(s.topPage,function(){return setTimeout(function(){n.resolve(),t&&s.topPage._show(),s._updateLastPageBackButton()},0)})}else c(s,function(){0===s.pages.length&&s._getPageTarget()?s.pushPage(s._getPageTarget(),e).then(function(){return n.resolve()}):n.resolve()})})}}},{key:"_updateAnimatorFactory",value:function(){this._animatorFactory=new A({animators:La,baseClass:ga,baseClassName:"NavigatorAnimator",defaultAnimation:this.getAttribute("animation")})}},{key:"disconnectedCallback",value:function(){this._backButtonHandler.destroy(),this._backButtonHandler=null,this._swipe&&this._swipe.dispose(),this._swipe=null}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"animation":this._updateAnimatorFactory();break;case"swipeable":this._swipe&&this._swipe.update()}}},{key:"popPage",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t=this._preparePageAndOptions(null,t).options,tt.isInteger(t.times)&&1<t.times&&this._removePages(t.times),this._popPage(t,function(){return new Promise(function(t){e._pageLoader.unload(e.pages[e.pages.length-1]),t()})})}},{key:"_popPage",value:function(n){var o=this,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){return Promise.resolve()};if(this._isRunning)return Promise.reject("popPage is already running.");if(this.pages.length<=1)return Promise.reject("ons-navigator's page stack is empty.");if(this._emitPrePopEvent())return Promise.reject("Canceled in prepop event.");var s=this.pages.length;return this._isRunning=!0,this.pages[s-2].updateBackButton(0<s-2),new Promise(function(t){var e=o.pages[s-1],i=o.pages[s-2];(n=tt.extend({},o.options||{},e.pushedOptions||{},n)).data&&(i.data=tt.extend({},i.data||{},n.data||{})),e._hide(),i.style.display="",(n.animator||o._animatorFactory.newAnimator(n)).pop(o.pages[s-2],o.pages[s-1],function(){a().then(function(){o._isRunning=!1,i._show(),tt.triggerElementEvent(o,"postpop",{leavePage:e,enterPage:i,navigator:o}),n.callback&&n.callback(i),t(i)})})}).catch(function(){return o._isRunning=!1})}},{key:"pushPage",value:function(i){var n=this,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=this._preparePageAndOptions(i,o);i=t.page;var a=function(t){Aa(t),n._pageMap.set(t,i),(t=tt.extend(t,{data:o.data})).style.visibility="hidden"};return(o=t.options).pageHTML?this._pushPage(o,function(){return new Promise(function(e){ee.load({page:o.pageHTML,parent:n,params:o.data},function(t){a(t),e()})})}):this._pushPage(o,function(){return new Promise(function(e){n._pageLoader.load({page:i,parent:n,params:o.data},function(t){a(t),e()})})})}},{key:"_pushPage",value:function(){var o=this,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){return Promise.resolve()};if(this._isRunning)return Promise.reject("pushPage is already running.");if(this._emitPrePushEvent())return Promise.reject("Canceled in prepush event.");this._isRunning=!0;var e=A.parseAnimationOptionsString(this.getAttribute("animation-options"));a=tt.extend({},this.options||{},{animationOptions:e},a);var s=this._animatorFactory.newAnimator(a);return t().then(function(){var t=o.pages.length,i=o.pages[t-1],n=a.leavePage||o.pages[t-2];return Aa(i),i.updateBackButton(t>(a._replacePage?2:1)),i.pushedOptions=tt.extend({},i.pushedOptions||{},a||{}),i.data=tt.extend({},i.data||{},a.data||{}),i.unload=i.unload||a.unload,new Promise(function(t){var e=function(){(o._isRunning=!1)!==a.show&&setImmediate(function(){return i._show()}),tt.triggerElementEvent(o,"postpush",{leavePage:n,enterPage:i,navigator:o}),n&&(n.style.display="none"),a.callback&&a.callback(i),t(i)};i.style.visibility="",n?(n._hide(),s.push(i,n,e)):e()})}).catch(function(t){throw o._isRunning=!1,t})}},{key:"replacePage",value:function(t){var e=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this.pushPage(t,i).then(function(t){return 1<e.pages.length&&e._pageLoader.unload(e.pages[e.pages.length-2]),e._updateLastPageBackButton(),Promise.resolve(t)})}},{key:"insertPage",value:function(i,n){var o=this,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},t=this._preparePageAndOptions(n,a);if(n=t.page,a=t.options,(i=this._normalizeIndex(i))>=this.pages.length)return this.pushPage(n,a);n="string"==typeof a.pageHTML?a.pageHTML:n;var s="string"==typeof a.pageHTML?ee:this._pageLoader;return new Promise(function(e){s.load({page:n,parent:o},function(t){Aa(t),o._pageMap.set(t,n),t=tt.extend(t,{data:a.data,pushedOptions:a}),a.animationOptions=tt.extend({},A.parseAnimationOptionsString(o.getAttribute("animation-options")),a.animationOptions||{}),t.style.display="none",o.insertBefore(t,o.pages[i]),o.topPage.updateBackButton(!0),setTimeout(function(){t=null,e(o.pages[i])},1e3/60)})})}},{key:"removePage",value:function(n){var o=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return(n=this._normalizeIndex(n))<this.pages.length-1?new Promise(function(t){var e=o.pages[n],i=o.topPage;o._pageMap.delete(e),o._pageLoader.unload(e),1===o.pages.length&&o.topPage.updateBackButton(!1),t(i)}):this.popPage(t)}},{key:"resetToPage",value:function(t){var e=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=this._preparePageAndOptions(t,i);if(t=n.page,(i=n.options).animator||i.animation||i.pop||(i.animation="none"),i.page||i.pageHTML||!this._getPageTarget()||(t=i.page=this._getPageTarget()),i.pop)return this._removePages(),this.insertPage(0,t,{data:i.data}).then(function(){return e.popPage(i)});var o=i.callback;return i.callback=function(t){e._removePages(),t.updateBackButton(!1),o&&o(t)},this.pushPage(t,i)}},{key:"bringPageTop",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};-1===["number","string"].indexOf(void 0===t?"undefined":m(t))&&tt.throw("First argument must be a page name or the index of an existing page. You supplied "+t);var i="number"==typeof t?this._normalizeIndex(t):this._lastIndexOfPage(t),n=this.pages[i];return i<0?this.pushPage(t,e):(e=this._preparePageAndOptions(n,e).options,i===this.pages.length-1?Promise.resolve(n):(n||tt.throw("Failed to find item "+t),this._isRunning?Promise.reject("pushPage is already running."):this._emitPrePushEvent()?Promise.reject("Canceled in prepush event."):(n.style.display="",n.style.visibility="hidden",n.parentNode.appendChild(n),this._pushPage(e))))}},{key:"_preparePageAndOptions",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return"object"!=(void 0===e?"undefined":m(e))&&tt.throw("options must be an object. You supplied "+e),null!=t||!e.page||(t=e.page),{page:t,options:e=tt.extend({},this.options||{},e,{page:t})}}},{key:"_removePages",value:function(t){var e=this.pages,i=void 0===t?0:e.length-t;i=i<0?1:i;for(var n=e.length-2;i<=n;n--)this._pageMap.delete(e[n]),this._pageLoader.unload(e[n])}},{key:"_updateLastPageBackButton",value:function(){var t=this.pages.length-1;0<=t&&this.pages[t].updateBackButton(0<t)}},{key:"_normalizeIndex",value:function(t){return 0<=t?t:Math.abs(this.pages.length+t)%this.pages.length}},{key:"_onDeviceBackButton",value:function(t){1<this.pages.length?this.popPage():t.callParentHandler()}},{key:"_lastIndexOfPage",value:function(t){var e=void 0;for(e=this.pages.length-1;0<=e&&(this._pageMap.has(this.pages[e])||tt.throw("Incorrect state of pageMap"),t!==this._pageMap.get(this.pages[e]));e--);return e}},{key:"_emitPreEvent",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=!1;return tt.triggerElementEvent(this,"pre"+t,tt.extend({navigator:this,currentPage:this.pages[this.pages.length-1],cancel:function(){return i=!0}},e)),i}},{key:"_emitPrePushEvent",value:function(){return this._emitPreEvent("push")}},{key:"_emitPrePopEvent",value:function(){var t=this.pages.length;return this._emitPreEvent("pop",{leavePage:this.pages[t-1],enterPage:this.pages[t-2]})}},{key:"_createPageElement",value:function(t){var e=tt.createElement(S.normalizePageHTML(t));return Aa(e),e}},{key:"_show",value:function(){var t=this;this.loaded.then(function(){return t.topPage&&t.topPage._show()})}},{key:"_hide",value:function(){this.topPage&&this.topPage._hide()}},{key:"_destroy",value:function(){for(var t=this.pages.length-1;0<=t;t--)this._pageLoader.unload(this.pages[t]);this.remove()}},{key:"pageLoader",get:function(){return this._pageLoader},set:function(t){t instanceof $t||tt.throwPageLoader(),this._pageLoader=t}},{key:"page",get:function(){return this._page},set:function(t){this._page=t}},{key:"onDeviceBackButton",get:function(){return this._backButtonHandler},set:function(t){this._backButtonHandler&&this._backButtonHandler.destroy(),this._backButtonHandler=F.createHandler(this,t)}},{key:"topPage",get:function(){for(var t=this.lastElementChild;t&&"ONS-PAGE"!==t.tagName;)t=t.previousElementSibling;return t}},{key:"pages",get:function(){return tt.arrayFrom(this.children).filter(function(t){return"ONS-PAGE"===t.tagName})}},{key:"onSwipe",get:function(){return this._onSwipe},set:function(t){!t||t instanceof Function||tt.throw('"onSwipe" must be a function'),this._onSwipe=t}},{key:"options",get:function(){return this._options},set:function(t){this._options=t}},{key:"_isRunning",set:function(t){this.setAttribute("_is-running",t?"true":"false")},get:function(){return JSON.parse(this.getAttribute("_is-running"))}}],[{key:"registerAnimator",value:function(t,e){e.prototype instanceof ga||tt.throwAnimator("Navigator"),La[t]=e}},{key:"observedAttributes",get:function(){return["animation","swipeable"]}},{key:"animators",get:function(){return La}},{key:"NavigatorAnimator",get:function(){return ga}},{key:"events",get:function(){return["prepush","postpush","prepop","postpop"]}},{key:"rewritables",get:function(){return Sa}}]),e}();o.Navigator=Ta,customElements.define("ons-navigator",Ta);var Oa={"":"toolbar--*",".toolbar__left":"toolbar--*__left",".toolbar__center":"toolbar--*__center",".toolbar__right":"toolbar--*__right"},Da=function(t){function e(){_(this,e);var t=M(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return c(t,function(){t._compile()}),t}return k(e,Vn),g(e,[{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"class":tt.restoreClass(this,"toolbar",Oa);break;case"modifier":z.onModifierChanged(e,i,this,Oa)}}},{key:"_getToolbarLeftItemsElement",value:function(){return this.querySelector(".left")||S.nullElement}},{key:"_getToolbarCenterItemsElement",value:function(){return this.querySelector(".center")||S.nullElement}},{key:"_getToolbarRightItemsElement",value:function(){return this.querySelector(".right")||S.nullElement}},{key:"_getToolbarBackButtonLabelElement",value:function(){return this.querySelector("ons-back-button .back-button__label")||S.nullElement}},{key:"_getToolbarBackButtonIconElement",value:function(){return this.querySelector("ons-back-button .back-button__icon")||S.nullElement}},{key:"_compile",value:function(){j.prepare(this),this.classList.add("toolbar"),this._ensureToolbarItemElements(),z.initModifier(this,Oa)}},{key:"_ensureToolbarItemElements",value:function(){for(var t=this.childNodes.length-1;0<=t;t--)1!=this.childNodes[t].nodeType&&this.removeChild(this.childNodes[t]);var e=this._ensureToolbarElement("center");if(e.classList.add("toolbar__title"),1!==this.children.length||!this.children[0].classList.contains("center")){var i=this._ensureToolbarElement("left"),n=this._ensureToolbarElement("right");this.children[0]===i&&this.children[1]===e&&this.children[2]===n||(this.appendChild(i),this.appendChild(e),this.appendChild(n))}}},{key:"_ensureToolbarElement",value:function(t){if(tt.findChild(this,".toolbar__"+t)){var e=tt.findChild(this,".toolbar__"+t);return e.classList.add(t),e}var i=tt.findChild(this,"."+t)||tt.create("."+t);return i.classList.add("toolbar__"+t),i}}],[{key:"observedAttributes",get:function(){return["modifier","class"]}}]),e}();o.Toolbar=Da,customElements.define("ons-toolbar",Da);var Ia={"":"page--*",".page__content":"page--*__content",".page__background":"page--*__background"},Na=function(t){function e(){_(this,e);var t=M(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._deriveHooks(),t._defaultClassName="page",t.classList.add("page"),t._initialized=!1,c(t,function(){t._compile(),t._isShown=!1,t._contentElement=t._getContentElement(),t._backgroundElement=t._getBackgroundElement()}),t}return k(e,Vn),g(e,[{key:"_compile",value:function(){var e=this;j.prepare(this);var t=tt.findChild(this,"ons-toolbar"),i=tt.findChild(this,".page__background")||tt.findChild(this,".background")||document.createElement("div");i.classList.add("page__background"),this.insertBefore(i,!t&&this.firstChild||t&&t.nextSibling);var n=tt.findChild(this,".page__content")||tt.findChild(this,".content")||document.createElement("div");n.classList.add("page__content"),n.parentElement||tt.arrayFrom(this.childNodes).forEach(function(t){(1!==t.nodeType||e._elementShouldBeMoved(t))&&n.appendChild(t)}),this._tryToFillStatusBar(n),this.insertBefore(n,i.nextSibling),t&&tt.hasModifier(t,"transparent")||1!==n.children.length||!tt.isPageControl(n.children[0])||(this._defaultClassName+=" page--wrapper",this.attributeChangedCallback("class")),z.initModifier(this,Ia)}},{key:"_elementShouldBeMoved",value:function(t){if(t.classList.contains("page__background"))return!1;var e=t.tagName.toLowerCase();return"ons-fab"===e?!t.hasAttribute("position"):t.hasAttribute("inline")||-1===["script","ons-toolbar","ons-bottom-toolbar","ons-modal","ons-speed-dial","ons-dialog","ons-alert-dialog","ons-popover","ons-action-sheet"].indexOf(e)}},{key:"_tryToFillStatusBar",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._contentElement;S.autoStatusBarFill(function(){tt.toggleAttribute(t,"status-bar-fill",!tt.findParent(t,function(t){return t.hasAttribute("status-bar-fill")})&&(t._canAnimateToolbar(e)||!tt.findChild(e,tt.isPageControl)))})}},{key:"_canAnimateToolbar",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._contentElement;return!!tt.findChild(this,"ons-toolbar")||!!tt.findChild(t,function(t){return tt.match(t,"ons-toolbar")&&!t.hasAttribute("inline")})}},{key:"connectedCallback",value:function(){var t=this;tt.isAttached(this)&&c(this,function(){t._tryToFillStatusBar(),t.hasAttribute("on-infinite-scroll")&&t.attributeChangedCallback("on-infinite-scroll",null,t.getAttribute("on-infinite-scroll")),t._initialized||(t._initialized=!0,setImmediate(function(){t.onInit&&t.onInit(),tt.triggerElementEvent(t,"init")}),tt.hasAnyComponentAsParent(t)||setImmediate(function(){return t._show()}))})}},{key:"updateBackButton",value:function(t){this.backButton&&(t?this.backButton.show():this.backButton.hide())}},{key:"_onScroll",value:function(){var t=this,e=this._contentElement,i=(e.scrollTop+e.clientHeight)/e.scrollHeight>=this._infiniteScrollLimit;this._onInfiniteScroll&&!this._loadingContent&&i&&(this._loadingContent=!0,this._onInfiniteScroll(function(){return t._loadingContent=!1}))}},{key:"_getContentElement",value:function(){var t=tt.findChild(this,".page__content");if(t)return t;tt.throw('Fail to get ".page__content" element')}},{key:"_getBackgroundElement",value:function(){var t=tt.findChild(this,".page__background");if(t)return t;tt.throw('Fail to get ".page__background" element')}},{key:"_getBottomToolbarElement",value:function(){return tt.findChild(this,"ons-bottom-toolbar")||S.nullElement}},{key:"_getToolbarElement",value:function(){return tt.findChild(this,"ons-toolbar")||document.createElement("ons-toolbar")}},{key:"attributeChangedCallback",value:function(t,e,i){var n=this;switch(t){case"class":tt.restoreClass(this,this._defaultClassName,Ia);break;case"modifier":z.onModifierChanged(e,i,this,Ia);break;case"on-infinite-scroll":this.onInfiniteScroll=null===i?null:function(t){var e=tt.findFromPath(i);(n.onInfiniteScroll=e)(t)}}}},{key:"_show",value:function(){!this._isShown&&tt.isAttached(this)&&(this._isShown=!0,this.setAttribute("shown",""),this.onShow&&this.onShow(),tt.triggerElementEvent(this,"show"),tt.propagateAction(this,"_show"))}},{key:"_hide",value:function(){this._isShown&&(this._isShown=!1,this.removeAttribute("shown"),this.onHide&&this.onHide(),tt.triggerElementEvent(this,"hide"),tt.propagateAction(this,"_hide"))}},{key:"_destroy",value:function(){this._hide(),this.onDestroy&&this.onDestroy(),tt.triggerElementEvent(this,"destroy"),this.onDeviceBackButton&&this.onDeviceBackButton.destroy(),tt.propagateAction(this,"_destroy"),this.remove()}},{key:"_deriveHooks",value:function(){var i=this;this.constructor.events.forEach(function(t){var e="on"+t.charAt(0).toUpperCase()+t.slice(1);Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){return i["_"+e]},set:function(t){t instanceof Function||tt.throw('"'+e+'" hook must be a function'),i["_"+e]=t.bind(i)}})})}},{key:"name",set:function(t){this.setAttribute("name",t)},get:function(){return this.getAttribute("name")}},{key:"backButton",get:function(){return this.querySelector("ons-back-button")}},{key:"onInfiniteScroll",set:function(t){var e=this;!t||t instanceof Function||tt.throw('"onInfiniteScroll" must be function or null'),c(this,function(){t?e._onInfiniteScroll||(e._infiniteScrollLimit=.9,e._boundOnScroll=e._onScroll.bind(e),setImmediate(function(){return e._contentElement.addEventListener("scroll",e._boundOnScroll)})):e._contentElement.removeEventListener("scroll",e._boundOnScroll),e._onInfiniteScroll=t})},get:function(){return this._onInfiniteScroll}},{key:"onDeviceBackButton",get:function(){return this._backButtonHandler},set:function(t){this._backButtonHandler&&this._backButtonHandler.destroy(),this._backButtonHandler=F.createHandler(this,t)}},{key:"scrollTop",get:function(){return this._contentElement.scrollTop},set:function(t){this._contentElement.scrollTop=t}}],[{key:"observedAttributes",get:function(){return["modifier","on-infinite-scroll","class"]}},{key:"events",get:function(){return["init","show","hide","destroy"]}}]),e}();o.Page=Na,customElements.define("ons-page",Na);var Ba=function(t){function r(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"cubic-bezier(.1, .7, .4, 1)":e,n=t.delay,o=void 0===n?0:n,a=t.duration,s=void 0===a?.2:a;return _(this,r),M(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,{timing:i,delay:o,duration:s}))}return k(r,Jn),g(r,[{key:"show",value:function(t,e){e()}},{key:"hide",value:function(t,e){e()}},{key:"_animate",value:function(t,e){var i=e.from,n=e.to,o=e.options,a=e.callback,s=e.restore,r=void 0!==s&&s,l=e.animation;return o=tt.extend({},this.options,o),l&&(i=l.from,n=l.to),l=ht(t),r&&(l=l.saveStyle()),l=l.queue(i).wait(this.delay).queue({css:n,duration:this.duration,timing:this.timing}),r&&(l=l.restoreStyle()),a&&(l=l.queue(function(t){a(),t()})),l}},{key:"_animateAll",value:function(e,i){var n=this;Object.keys(i).forEach(function(t){return n._animate(e[t],i[t]).play()})}}]),r}(),ja={out:{from:{opacity:1},to:{opacity:0}},in:{from:{opacity:0},to:{opacity:1}}},za=function(t){function e(){return _(this,e),M(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return k(e,Ba),g(e,[{key:"show",value:function(t,e){this._animateAll(t,{_mask:ja.in,_popover:{animation:ja.in,restore:!0,callback:e}})}},{key:"hide",value:function(t,e){this._animateAll(t,{_mask:ja.out,_popover:{animation:ja.out,restore:!0,callback:e}})}}]),e}(),Ra=function(t){function e(){return _(this,e),M(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return k(e,za),g(e,[{key:"show",value:function(t,e){this._animateAll(t,{_mask:ja.in,_popover:{from:{transform:"scale3d(1.3, 1.3, 1.0)",opacity:0},to:{transform:"scale3d(1.0, 1.0,  1.0)",opacity:1},restore:!0,callback:e}})}}]),e}(),Ua={".popover":"popover--*",".popover-mask":"popover-mask--*",".popover__content":"popover--*__content",".popover__arrow":"popover--*__arrow"},qa={default:function(){return P.isAndroid()?za:Ra},none:Ba,"fade-ios":Ra,"fade-md":za},Fa={up:"bottom",left:"right",down:"top",right:"left"},Ha=function(t){function n(){_(this,n);var t=M(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t._boundOnChange=t._onChange.bind(t),c(t,function(){t._compile(),t.style.display="none"}),t}return k(n,eo),g(n,[{key:"_updateAnimatorFactory",value:function(){return new A({animators:qa,baseClass:Ba,baseClassName:"PopoverAnimator",defaultAnimation:this.getAttribute("animation")||"default"})}},{key:"_toggleStyle",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};t?(this.style.display="block",this._currentTarget=e.target,this._positionPopover(e.target)):(this.style.display="none",this._clearStyles())}},{key:"_positionPopover",value:function(t){var e=this._radius,i=this._content,n=this._margin,o=Kn.getSafeAreaLengths(),a=Kn.getSafeAreaDOMRect(),s=t.getBoundingClientRect(),r=tt.hasModifier(this,"material"),l=r&&this.hasAttribute("cover-target"),h=(tt.findParent(this,"ons-page")||document.body).getBoundingClientRect(),u=Math.max(h.top,a.top),c=Math.max(h.left,a.left),d=Math.min(h.bottom,a.bottom),p=Math.min(h.right,a.right),f={top:s.top-(u+n),left:s.left-(c+n),bottom:d-n-s.bottom,right:p-n-s.right},m={top:s.top+Math.round(s.height/2)-(u+n),left:s.left+Math.round(s.width/2)-(c+n),bottom:d-n-s.bottom+Math.round(s.height/2),right:p-n-s.right+Math.round(s.width/2)},_=this._calculateDirections(f),g=_.vertical,v=_.primary,y=_.secondary;this._currentDirection=v,tt.addModifier(this,v);var b,k=g?"width":"height",w=(b=window.getComputedStyle(i),{width:parseInt(b.getPropertyValue("width"),10),height:parseInt(b.getPropertyValue("height"),10)}),M=l?0:(g?s.height:s.width)+(r?0:14),E=Math.max(o[v]+n,o[v]+n+f[v]+M),x=Math.max(o[y]+n,o[y]+n+m[y]-w[k]/2);this._popover.style[v]=E+"px",this._popover.style[y]=x+"px",this._arrow.style[y]=Math.max(e,o[y]+n+m[y]-x)+"px"}},{key:"_calculateDirections",value:function(i){var t=(this.getAttribute("direction")||"up down left right").split(/\s+/).map(function(t){return Fa[t]}).sort(function(t,e){return i[t]-i[e]})[0],e="top"==t||"bottom"==t;return{vertical:e,primary:t,secondary:e?i.left<i.right?"left":"right":i.top<i.bottom?"top":"bottom"}}},{key:"_clearStyles",value:function(){var e=this;this._currentDirection=null,["top","bottom","left","right"].forEach(function(t){e._arrow.style[t]=e._content.style[t]=e._popover.style[t]="",tt.removeModifier(e,t)})}},{key:"_onChange",value:function(){var t=this;setImmediate(function(){t._currentTarget&&t._positionPopover(t._currentTarget)})}},{key:"_compile",value:function(){if(j.prepare(this),!this._popover||!this._mask){if(this._popover&&this._content){if(!this._mask){var t=document.createElement("div");t.classList.add("popover-mask"),this.insertBefore(t,this.firstChild)}if(!this._arrow){var e=document.createElement("div");e.classList.add("popover__arrow"),this._popover.appendChild(e)}}else{for(var i=tt.createFragment('\n        <div class="popover-mask"></div>\n        <div class="popover">\n          <div class="popover__content"></div>\n          <div class="popover__arrow"></div>\n        </div>\n      '),n=i.querySelector(".popover__content");this.childNodes[0];)n.appendChild(this.childNodes[0]);this.appendChild(i)}this.hasAttribute("style")&&(this._popover.setAttribute("style",this.getAttribute("style")),this.removeAttribute("style")),z.initModifier(this,this._scheme)}}},{key:"show",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof(e=!t||"object"!==(void 0===t?"undefined":m(t))||t instanceof Event||t instanceof HTMLElement?y({},e,{target:t}):y({},t)).target?e.target=document.querySelector(e.target):e.target instanceof Event&&(e.target=e.target.target),e.target instanceof HTMLElement||tt.throw("Invalid target type or undefined"),b(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"show",this).call(this,e)}},{key:"connectedCallback",value:function(){var t=this;b(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"connectedCallback",this).call(this),window.addEventListener("resize",this._boundOnChange,!1),this._margin=this._margin||parseInt(window.getComputedStyle(this).getPropertyValue("top")),this._margin=this._margin||6,c(this,function(){t._radius=parseInt(window.getComputedStyle(t._content).getPropertyValue("border-top-left-radius"))})}},{key:"disconnectedCallback",value:function(){b(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"disconnectedCallback",this).call(this),window.removeEventListener("resize",this._boundOnChange,!1)}},{key:"attributeChangedCallback",value:function(t,e,i){if("direction"===t)return this._boundOnChange();"modifier"===t&&this._currentDirection&&tt.addModifier(this,this._currentDirection),b(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"attributeChangedCallback",this).call(this,t,e,i)}},{key:"_scheme",get:function(){return Ua}},{key:"_mask",get:function(){return tt.findChild(this,".popover-mask")}},{key:"_popover",get:function(){return tt.findChild(this,".popover")}},{key:"_content",get:function(){return tt.findChild(this._popover,".popover__content")}},{key:"_arrow",get:function(){return tt.findChild(this._popover,".popover__arrow")}}],[{key:"registerAnimator",value:function(t,e){e.prototype instanceof Ba||tt.throwAnimator("Popover"),qa[t]=e}},{key:"observedAttributes",get:function(){return[].concat(E(b(n.__proto__||Object.getPrototypeOf(n),"observedAttributes",this)),["direction"])}},{key:"animators",get:function(){return qa}},{key:"PopoverAnimator",get:function(){return Ba}}]),n}();o.Popover=Ha,customElements.define("ons-popover",Ha);var Za={".progress-bar":"progress-bar--*",".progress-bar__primary":"progress-bar--*__primary",".progress-bar__secondary":"progress-bar--*__secondary"},Wa=tt.createElement('\n  <div class="progress-bar">\n    <div class="progress-bar__secondary"></div>\n    <div class="progress-bar__primary"></div>\n  </div>\n'),Ga="indeterminate",Va=function(t){function e(){_(this,e);var t=M(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return c(t,function(){return t._compile()}),t}return k(e,Vn),g(e,[{key:"_compile",value:function(){this._isCompiled()?this._template=tt.findChild(this,".progress-bar"):this._template=Wa.cloneNode(!0),this._primary=tt.findChild(this._template,".progress-bar__primary"),this._secondary=tt.findChild(this._template,".progress-bar__secondary"),this._updateDeterminate(),this._updateValue(),this.appendChild(this._template),j.prepare(this),z.initModifier(this,Za)}},{key:"_isCompiled",value:function(){if(!tt.findChild(this,".progress-bar"))return!1;var t=tt.findChild(this,".progress-bar");return!!tt.findChild(t,".progress-bar__secondary")&&!!tt.findChild(t,".progress-bar__primary")}},{key:"attributeChangedCallback",value:function(t,e,i){"modifier"===t?(z.onModifierChanged(e,i,this,Za),this.hasAttribute(Ga)&&this._updateDeterminate()):"value"===t||"secondary-value"===t?this._updateValue():t===Ga&&this._updateDeterminate()}},{key:"_updateDeterminate",value:function(){var t=this;c(this,function(){return tt.toggleModifier(t,Ga,{force:t.hasAttribute(Ga)})})}},{key:"_updateValue",value:function(){var t=this;c(this,function(){t._primary.style.width=t.hasAttribute("value")?t.getAttribute("value")+"%":"0%",t._secondary.style.width=t.hasAttribute("secondary-value")?t.getAttribute("secondary-value")+"%":"0%"})}},{key:"value",set:function(t){("number"!=typeof t||t<0||100<t)&&tt.throw("Invalid value"),this.setAttribute("value",Math.floor(t))},get:function(){return parseInt(this.getAttribute("value")||"0")}},{key:"secondaryValue",set:function(t){("number"!=typeof t||t<0||100<t)&&tt.throw("Invalid value"),this.setAttribute("secondary-value",Math.floor(t))},get:function(){return parseInt(this.getAttribute("secondary-value")||"0")}},{key:"indeterminate",set:function(t){t?this.setAttribute(Ga,""):this.removeAttribute(Ga)},get:function(){return this.hasAttribute(Ga)}}],[{key:"observedAttributes",get:function(){return["modifier","value","secondary-value",Ga]}}]),e}();o.ProgressBar=Va,customElements.define("ons-progress-bar",Va);var Xa={".progress-circular":"progress-circular--*",".progress-circular__background":"progress-circular--*__background",".progress-circular__primary":"progress-circular--*__primary",".progress-circular__secondary":"progress-circular--*__secondary"},Ya=tt.createElement('\n  <svg class="progress-circular">\n    <circle class="progress-circular__background" />\n    <circle class="progress-circular__secondary" cx="50%" cy="50%" r="40%" />\n    <circle class="progress-circular__primary" cx="50%" cy="50%" r="40%" />\n  </svg>\n'),Ja="indeterminate",Ka=function(t){function e(){_(this,e);var t=M(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return c(t,function(){return t._compile()}),t}return k(e,Vn),g(e,[{key:"attributeChangedCallback",value:function(t,e,i){"modifier"===t?(z.onModifierChanged(e,i,this,Xa),this.hasAttribute(Ja)&&this._updateDeterminate()):"value"===t||"secondary-value"===t?this._updateValue():t===Ja&&this._updateDeterminate()}},{key:"_updateDeterminate",value:function(){var t=this;c(this,function(){return tt.toggleModifier(t,Ja,{force:t.hasAttribute(Ja)})})}},{key:"_updateValue",value:function(){var e=this;this.hasAttribute("value")&&c(this,function(){var t=Math.ceil(251.32*e.getAttribute("value")*.01);e._primary.style["stroke-dasharray"]=t+"%, 251.32%"}),this.hasAttribute("secondary-value")?c(this,function(){var t=Math.ceil(251.32*e.getAttribute("secondary-value")*.01);e._secondary.style.display=null,e._secondary.style["stroke-dasharray"]=t+"%, 251.32%"}):c(this,function(){e._secondary.style.display="none"})}},{key:"_compile",value:function(){this._isCompiled()?this._template=tt.findChild(this,".progress-circular"):this._template=Ya.cloneNode(!0),this._primary=tt.findChild(this._template,".progress-circular__primary"),this._secondary=tt.findChild(this._template,".progress-circular__secondary"),this._updateDeterminate(),this._updateValue(),this.appendChild(this._template),j.prepare(this),z.initModifier(this,Xa)}},{key:"_isCompiled",value:function(){if(!tt.findChild(this,".progress-circular"))return!1;var t=tt.findChild(this,".progress-circular");return!!tt.findChild(t,".progress-circular__secondary")&&!!tt.findChild(t,".progress-circular__primary")}},{key:"value",set:function(t){("number"!=typeof t||t<0||100<t)&&tt.throw("Invalid value"),this.setAttribute("value",Math.floor(t))},get:function(){return parseInt(this.getAttribute("value")||"0")}},{key:"secondaryValue",set:function(t){("number"!=typeof t||t<0||100<t)&&tt.throw("Invalid value"),this.setAttribute("secondary-value",Math.floor(t))},get:function(){return parseInt(this.getAttribute("secondary-value")||"0")}},{key:"indeterminate",set:function(t){t?this.setAttribute(Ja,""):this.removeAttribute(Ja)},get:function(){return this.hasAttribute(Ja)}}],[{key:"observedAttributes",get:function(){return["modifier","value","secondary-value",Ja]}}]),e}();o.ProgressCircular=Ka,customElements.define("ons-progress-circular",Ka);var Qa="initial",$a=function(t,e){return tt.throw('"'+t+'" must be '+e)},ts=function(t){function e(){_(this,e);var t=M(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._shouldFixScroll=tt.globals.isUIWebView,t._onDrag=t._onDrag.bind(t),t._onDragStart=t._onDragStart.bind(t),t._onDragEnd=t._onDragEnd.bind(t),t._onScroll=t._onScroll.bind(t),t._setState(Qa,!0),t._hide(),t}return k(e,Vn),g(e,[{key:"_setStyle",value:function(){var t=this.height+"px";h(this,{height:t,lineHeight:t}),""===this.style.display&&this._show()}},{key:"_onScroll",value:function(t){var e=this._pageElement;e.scrollTop<0&&(e.scrollTop=0)}},{key:"_canConsumeGesture",value:function(t){return"up"===t.direction||"down"===t.direction}},{key:"_onDragStart",value:function(t){var e=this;if(t.gesture&&!this.disabled){var i=t.gesture.center.clientY+this._pageElement.scrollTop,n=window.innerHeight,o=this._shouldFixScroll?.8:1;if(this._ignoreDrag=t.consumed||n*o<i,!this._ignoreDrag){var a=t.consume;t.consume=function(){a&&a(),e._ignoreDrag=!0,e._hide()},this._canConsumeGesture(t.gesture)&&(a&&a(),t.consumed=!0,this._show())}this._startScroll=this._pageElement.scrollTop}}},{key:"_onDrag",value:function(t){var e=this;if(t.gesture&&!this.disabled&&!this._ignoreDrag&&this._canConsumeGesture(t.gesture)){"none"===this.style.display&&this._show(),t.stopPropagation();var i=t.gesture.center.clientY+this._pageElement.scrollTop,n=window.innerHeight;this._shouldFixScroll&&(this._pageElement.scrollTop=this._startScroll-t.gesture.deltaY,("up"!==t.gesture.interimDirection||i<=.5*n)&&t.gesture.preventDefault());var o=Math.max(t.gesture.deltaY-this._startScroll,0);if(o!==this._currentTranslation){var a=this.thresholdHeight;0<a&&a<=o?(t.gesture.stopDetect(),setImmediate(function(){return e._finish()})):o>=this.height?this._setState("preaction"):this._setState(Qa),this._translateTo(o)}}}},{key:"_onDragEnd",value:function(t){t.gesture&&!this.disabled&&!this._ignoreDrag&&(t.stopPropagation(),0<this._currentTranslation)&&(this._currentTranslation>this.height?this._finish():this._translateTo(0,{animate:!0}))}},{key:"_finish",value:function(){var t=this;this._setState("action"),this._translateTo(this.height,{animate:!0}),(this.onAction||function(t){return t()})(function(){t._translateTo(0,{animate:!0}),t._setState(Qa)})}},{key:"_setState",value:function(t,e){var i=this.state;this.setAttribute("state",t),e||i===this.state||tt.triggerElementEvent(this,"changestate",{pullHook:this,state:t,lastState:i})}},{key:"_show",value:function(){var t=this;setImmediate(function(){t.style.display="",t._pageElement&&(t._pageElement.style.marginTop="-"+t.height+"px")})}},{key:"_hide",value:function(){this.style.display="none",this._pageElement&&(this._pageElement.style.marginTop="")}},{key:"_translateTo",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(0!=this._currentTranslation||0!=t){this._currentTranslation=t;var i=e.animate?{duration:.3,timing:"cubic-bezier(.1, .7, .1, 1)"}:{};this._onPull&&this._onPull((t/this.height).toFixed(2),i);var n=this.hasAttribute("fixed-content")?this:this._pageElement;ht(n).queue({transform:"translate3d(0px, "+t+"px, 0px)"},i).play(function(){0===t&&h.clear(n,"transition transform"),e.callback instanceof Function&&e.callback()})}}},{key:"_disableDragLock",value:function(){this._dragLockDisabled=!0,this._setupListeners(!0)}},{key:"_setupListeners",value:function(t){var i=this,e=function(t){return i._pageElement[t+"EventListener"]("scroll",i._onScroll,!1)},n=function(t){var e={passive:!0};i._gestureDetector[t]("drag",i._onDrag,e),i._gestureDetector[t]("dragstart",i._onDragStart,e),i._gestureDetector[t]("dragend",i._onDragEnd,e)};this._gestureDetector&&(n("off"),this._gestureDetector.dispose(),this._gestureDetector=null),e("remove"),t&&(this._gestureDetector=new ft(this._pageElement,{dragMinDistance:1,dragDistanceCorrection:!1,dragLockToAxis:!this._dragLockDisabled,passive:!this._shouldFixScroll}),n("on"),e("add"))}},{key:"connectedCallback",value:function(){this._currentTranslation=0,this._pageElement=this.parentNode,this._setupListeners(!0),this._setStyle()}},{key:"disconnectedCallback",value:function(){this._hide(),this._setupListeners(!1)}},{key:"attributeChangedCallback",value:function(t,e,i){"height"===t&&this._pageElement&&this._setStyle()}},{key:"onAction",get:function(){return this._onAction},set:function(t){!t||t instanceof Function||$a("onAction","function or null"),this._onAction=t}},{key:"onPull",get:function(){return this._onPull},set:function(t){!t||t instanceof Function||$a("onPull","function or null"),this._onPull=t}},{key:"height",set:function(t){tt.isInteger(t)||$a("height","integer"),this.setAttribute("height",t+"px")},get:function(){return parseInt(this.getAttribute("height")||"64",10)}},{key:"thresholdHeight",set:function(t){tt.isInteger(t)||$a("thresholdHeight","integer"),this.setAttribute("threshold-height",t+"px")},get:function(){return parseInt(this.getAttribute("threshold-height")||"96",10)}},{key:"state",get:function(){return this.getAttribute("state")}},{key:"pullDistance",get:function(){return this._currentTranslation}},{key:"disabled",set:function(t){return tt.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}}],[{key:"observedAttributes",get:function(){return["height"]}},{key:"events",get:function(){return["changestate"]}}]),e}();o.PullHook=ts,customElements.define("ons-pull-hook",ts);var es={"":"range--*",".range__input":"range--*__input",".range__focus-ring":"range--*__focus-ring"},is=function(t){function n(){_(this,n);var t=M(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t._onMouseDown=t._onMouseDown.bind(t),t._onMouseUp=t._onMouseUp.bind(t),t._onTouchStart=t._onTouchStart.bind(t),t._onTouchEnd=t._onTouchEnd.bind(t),t._onInput=t._update.bind(t),t._onDragstart=t._onDragstart.bind(t),t._onDragend=t._onDragend.bind(t),t}return k(n,ta),g(n,[{key:"_compile",value:function(){b(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"_compile",this).call(this),this._updateDisabled(this.hasAttribute("disabled"))}},{key:"_update",value:function(){var e=this._input,i=this._focusRing;e.style.backgroundSize=100*this._ratio+"% 2px",i.value=this.value,""===e.min&&"0"===e.value||e.min===e.value?e.setAttribute("_zero",""):e.removeAttribute("_zero"),["min","max"].forEach(function(t){return i[t]=e[t]})}},{key:"_onMouseDown",value:function(t){var e=this;this._input.classList.add("range__input--active"),setImmediate(function(){return e._input.focus()})}},{key:"_onTouchStart",value:function(t){this._onMouseDown()}},{key:"_onMouseUp",value:function(t){this._input.classList.remove("range__input--active")}},{key:"_onTouchEnd",value:function(t){this._onMouseUp(t)}},{key:"_onDragstart",value:function(t){t.consumed=!0,t.gesture.stopPropagation(),this._input.classList.add("range__input--active"),this.addEventListener("drag",this._onDrag)}},{key:"_onDrag",value:function(t){t.stopPropagation()}},{key:"_onDragend",value:function(t){this._input.classList.remove("range__input--active"),this.removeEventListener("drag",this._onDrag)}},{key:"attributeChangedCallback",value:function(t,e,i){"disabled"===t&&this._updateDisabled(i),b(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"attributeChangedCallback",this).call(this,t,e,i)}},{key:"_updateDisabled",value:function(t){t?this.classList.add("range--disabled"):this.classList.remove("range--disabled")}},{key:"connectedCallback",value:function(){this._setupListeners(!0)}},{key:"disconnectedCallback",value:function(){this._setupListeners(!1)}},{key:"_setupListeners",value:function(t){var e=(t?"add":"remove")+"EventListener";tt[e](this,"touchstart",this._onTouchStart,{passive:!0}),this[e]("mousedown",this._onMouseDown),this[e]("mouseup",this._onMouseUp),this[e]("touchend",this._onTouchEnd),this[e]("dragstart",this._onDragstart),this[e]("dragend",this._onDragend),this[e]("input",this._onInput)}},{key:"_scheme",get:function(){return es}},{key:"_template",get:function(){return'\n      <input type="'+this.type+'" class="'+this._defaultClassName+'__input">\n      <input type="range" class="range__focus-ring" tabIndex="-1">\n    '}},{key:"_defaultClassName",get:function(){return"range"}},{key:"type",get:function(){return"range"}},{key:"_focusRing",get:function(){return this.children[1]}},{key:"_ratio",get:function(){var t=""===this._input.min?0:parseInt(this._input.min),e=""===this._input.max?100:parseInt(this._input.max);return(this.value-t)/(e-t)}}],[{key:"observedAttributes",get:function(){return["disabled"].concat(E(ta.observedAttributes))}}]),n}();o.Range=is,customElements.define("ons-range",is);var ns=function(){function t(){_(this,t),this._queue=[],this._index=0}return g(t,[{key:"animate",value:function(o,a){var s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:200,r=(new Date).getTime(),l={},h=!1,i=!1,u=!1,c=Object.keys(a),d={stop:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};u&&clearTimeout(u);var e=Math.min(1,((new Date).getTime()-r)/s);return c.forEach(function(t){o.style[t]=(1-e)*l[t]+e*a[t]+("opacity"==t?"":"px")}),o.style.transitionDuration="0s",t.stopNext?i=!1:h||(h=!0,i&&i()),d},then:function(t){return i=t,h&&i&&i(),d},speed:function(t){if(S.config.animationsDisabled&&(t=0),!h){u&&clearTimeout(u);var e=((new Date).getTime()-r)/s,i=t*(1-e);c.forEach(function(t){o.style[t]=(1-e)*l[t]+e*a[t]+("opacity"==t?"":"px")}),n=window.getComputedStyle(o),c.forEach(n.getPropertyValue.bind(n)),n=o.offsetHeight,r=o.speedUpTime,s=i,o.style.transitionDuration=s/1e3+"s",c.forEach(function(t){o.style[t]=a[t]+("opacity"==t?"":"px")}),u=setTimeout(d.stop,i)}var n;return d},finish:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,e=((new Date).getTime()-r)/s;return d.speed(t/(1-e)),d}};if(o.hasAttribute("disabled")||h||S.config.animationsDisabled)return d;var n=window.getComputedStyle(o);return c.forEach(function(t){var e=parseFloat(n.getPropertyValue(t));l[t]=isNaN(e)?0:e}),h||(o.style.transitionProperty=c.join(","),o.style.transitionDuration=s/1e3+"s",c.forEach(function(t){o.style[t]=a[t]+("opacity"==t?"":"px")})),u=setTimeout(d.stop,s),this._onStopAnimations(o,d.stop),d}}]),g(t,[{key:"_onStopAnimations",value:function(e,i){var n=this._queue,o=this._index++;n[e]=n[e]||[],n[e][o]=function(t){return delete n[e][o],n[e]&&0==n[e].length&&delete n[e],i(t)}}},{key:"stopAnimations",value:function(t){var e=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(Array.isArray(t))return t.forEach(function(t){e.stopAnimations(t,i)});(this._queue[t]||[]).forEach(function(t){t(i||{})})}},{key:"stopAll",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.stopAnimations(Object.keys(this._queue),t)}},{key:"fade",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:200;return this.animate(t,{opacity:0},e)}}]),t}(),os={"":"ripple--*",".ripple__wave":"ripple--*__wave",".ripple__background":"ripple--*__background"},as=function(t){function i(){_(this,i);var e=M(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return e._onTap=e._onTap.bind(e),e._onHold=e._onHold.bind(e),e._onDragStart=e._onDragStart.bind(e),e._onRelease=e._onRelease.bind(e),c(e,function(){return e._compile()}),e._animator=new ns,["color","center","start-radius","background","modifier"].forEach(function(t){e.attributeChangedCallback(t,null,e.getAttribute(t))}),e}return k(i,Vn),g(i,[{key:"_compile",value:function(){this.classList.add("ripple"),this._wave=this.getElementsByClassName("ripple__wave")[0],this._background=this.getElementsByClassName("ripple__background")[0],this._background&&this._wave||(this._wave=tt.create(".ripple__wave"),this._background=tt.create(".ripple__background"),this.appendChild(this._wave),this.appendChild(this._background)),z.initModifier(this,os)}},{key:"_getEffectSize",value:function(){if(this.hasAttribute("size")){var t=this.getAttribute("size");if(-1!==["cover","contain"].indexOf(t))return t}return"cover"}},{key:"_calculateCoords",value:function(t){var e=void 0,i=void 0,n=void 0,o=void 0,a=void 0,s=this.getBoundingClientRect(),r=this._getEffectSize(),l=function(){return tt.throw("Ripple invalid state")};return this._center?(e=s.width/2,i=s.height/2,"cover"===r?a=Math.sqrt(e*e+i*i):"contain"===r?a=Math.min(e,i):l()):(e=("number"==typeof t.clientX?t.clientX:t.changedTouches[0].clientX)-s.left,i=("number"==typeof t.clientY?t.clientY:t.changedTouches[0].clientY)-s.top,n=Math.max(i,s.height-i),o=Math.max(e,s.width-e),"cover"===r?a=Math.sqrt(n*n+o*o):"contain"===r?a=Math.min(Math.round(n/2),Math.round(o/2)):l()),{x:e,y:i,r:a}}},{key:"_rippleAnimation",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:300,i=this._animator,n=this._wave,o=this._background,a=this._minR,s=this._calculateCoords(t),r=s.x,l=s.y,h=s.r;return i.stopAll({stopNext:1}),i.animate(o,{opacity:1},e),tt.extend(n.style,{opacity:1,top:l-a+"px",left:r-a+"px",width:2*a+"px",height:2*a+"px"}),i.animate(n,{top:l-h,left:r-h,height:2*h,width:2*h},e)}},{key:"_updateParent",value:function(){!this._parentUpdated&&this.parentNode&&("static"===window.getComputedStyle(this.parentNode).getPropertyValue("position")&&(this.parentNode.style.position="relative"),this._parentUpdated=!0)}},{key:"_onTap",value:function(t){var e=this;this.disabled||t.ripple||(t.ripple=!0,this._updateParent(),this._rippleAnimation(t.gesture.srcEvent).then(function(){e._animator.fade(e._wave),e._animator.fade(e._background)}))}},{key:"_onHold",value:function(t){this.disabled||t.ripple||(t.ripple=!0,this._updateParent(),this._holding=this._rippleAnimation(t.gesture.srcEvent,2e3),document.addEventListener("release",this._onRelease))}},{key:"_onRelease",value:function(t){var e=this;this._holding&&!t.ripple&&(t.ripple=!0,this._holding.speed(300).then(function(){e._animator.stopAll({stopNext:!0}),e._animator.fade(e._wave),e._animator.fade(e._background)}),this._holding=!1),document.removeEventListener("release",this._onRelease)}},{key:"_onDragStart",value:function(t){if(this._holding)return this._onRelease(t);-1!=["left","right"].indexOf(t.gesture.direction)&&this._onTap(t)}},{key:"connectedCallback",value:function(){this._parentNode=this.parentNode,S.config.animationsDisabled?this.disabled=!0:(this._parentNode.addEventListener("tap",this._onTap),this._parentNode.addEventListener("hold",this._onHold),this._parentNode.addEventListener("dragstart",this._onDragStart))}},{key:"disconnectedCallback",value:function(){var t=this._parentNode||this.parentNode;t.removeEventListener("tap",this._onTap),t.removeEventListener("hold",this._onHold),t.removeEventListener("dragstart",this._onDragStart)}},{key:"attributeChangedCallback",value:function(t,e,i){var n=this;switch(t){case"class":tt.restoreClass(this,"ripple",os);break;case"modifier":z.onModifierChanged(e,i,this,os);break;case"start-radius":this._minR=Math.max(0,parseFloat(i)||0);break;case"color":i&&c(this,function(){n._wave.style.background=i,n.hasAttribute("background")||(n._background.style.background=i)});break;case"background":(i||e)&&c(this,"none"===i?function(){n._background.setAttribute("disabled","disabled"),n._background.style.background="transparent"}:function(){n._background.hasAttribute("disabled")&&n._background.removeAttribute("disabled"),n._background.style.background=i});break;case"center":"center"===t&&(this._center=null!=i&&"false"!=i)}}},{key:"disabled",set:function(t){return tt.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}}],[{key:"observedAttributes",get:function(){return["start-radius","color","background","center","class","modifier"]}}]),i}();o.Ripple=as,customElements.define("ons-ripple",as);var ss=function(t){function e(){return _(this,e),M(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return k(e,Vn),e}();o.Row=ss,customElements.define("ons-row",ss);var rs,ls={"":"segment--*",".segment__item":"segment--*__item",".segment__input":"segment--*__input",".segment__button":"segment--*__button"},hs=(rs=0,function(){return"ons-segment-gen-"+rs++}),us=function(t){function e(){_(this,e);var t=M(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._segmentId=hs(),t._tabbar=null,t._onChange=t._onChange.bind(t),t._onTabbarPreChange=t._onTabbarPreChange.bind(t),c(t,function(){t._compile(),setImmediate(function(){return t._lastActiveIndex=t._tabbar?t._tabbar.getActiveTabIndex():t.getActiveButtonIndex()})}),t}return k(e,Vn),g(e,[{key:"_compile",value:function(){j.prepare(this),this.classList.add("segment");for(var t=this.children.length-1;0<=t;t--){var e=this.children[t];e.classList.add("segment__item");var i=tt.findChild(e,".segment__input")||tt.create("input.segment__input");i.type="radio",i.value=t,i.name=i.name||this._segmentId,i.checked=!this.hasAttribute("tabbar-id")&&t===(parseInt(this.getAttribute("active-index"))||0);var n=tt.findChild(e,".segment__button")||tt.create(".segment__button");if(n.parentElement!==e)for(;e.firstChild;)n.appendChild(e.firstChild);e.appendChild(i),e.appendChild(n)}z.initModifier(this,ls)}},{key:"connectedCallback",value:function(){var e=this;this.hasAttribute("tabbar-id")&&c(this,function(){var t=tt.findParent(e,"ons-page");e._tabbar=t&&t.querySelector("#"+e.getAttribute("tabbar-id")),e._tabbar&&"ONS-TABBAR"===e._tabbar.tagName||tt.throw("No tabbar with id "+e.getAttribute("tabbar-id")+" was found."),e._tabbar.setAttribute("hide-tabs",""),setImmediate(function(){return e._setChecked(e._tabbar.getActiveTabIndex())}),e._tabbar.addEventListener("prechange",e._onTabbarPreChange)}),this.addEventListener("change",this._onChange)}},{key:"disconnectedCallback",value:function(){var t=this;c(this,function(){t._tabbar&&(t._tabbar.removeEventListener("prechange",t._onTabbarPreChange),t._tabbar=null)}),this.removeEventListener("change",this._onChange)}},{key:"_setChecked",value:function(t){this.children[t].firstElementChild.checked=!0}},{key:"setActiveButton",value:function(t,e){return this._tabbar?this._tabbar.setActiveTab(t,e):(this._setChecked(t),this._postChange(t),Promise.resolve(t))}},{key:"getActiveButtonIndex",value:function(){for(var t=this.children.length-1;0<=t;t--)if(this.children[t].firstElementChild.checked)return t;return-1}},{key:"_onChange",value:function(t){t.stopPropagation(),this._tabbar?this._tabbar.setActiveTab(this.getActiveButtonIndex(),{reject:!1}):this._postChange(this.getActiveButtonIndex())}},{key:"_onTabbarPreChange",value:function(t){var e=this;setImmediate(function(){t.detail.canceled||(e._setChecked(t.index),e._postChange(t.index))})}},{key:"_postChange",value:function(t){tt.triggerElementEvent(this,"postchange",{index:t,activeIndex:t,lastActiveIndex:this._lastActiveIndex,segmentItem:this.children[t]}),this._lastActiveIndex=t}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"class":tt.restoreClass(this,"segment",ls);break;case"modifier":z.onModifierChanged(e,i,this,ls)}}},{key:"disabled",set:function(t){return tt.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}}],[{key:"observedAttributes",get:function(){return["class","modifier"]}},{key:"events",get:function(){return["postchange"]}}]),e}();o.Segment=us,customElements.define("ons-segment",us);var cs={"":"select-* select--*",".select-input":"select-input--*"},ds=["autofocus","disabled","form","multiple","name","required","size"],ps=function(t){function e(){_(this,e);var t=M(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return c(t,function(){return t._compile()}),t._deriveGetters(),t}return k(e,Vn),g(e,[{key:"attributeChangedCallback",value:function(t,e,i){var n=this;switch(t){case"class":tt.restoreClass(this,"select",cs);break;case"modifier":z.onModifierChanged(e,i,this,cs)}0<=ds.indexOf(t)&&c(this,function(){return n._updateBoundAttributes()})}},{key:"_updateBoundAttributes",value:function(){var e=this;ds.forEach(function(t){e.hasAttribute(t)?e._select.setAttribute(t,e.getAttribute(t)):e._select.removeAttribute(t)})}},{key:"_compile",value:function(){j.prepare(this),this.classList.add("select");var e=this._select||document.createElement("select");!e.id&&this.hasAttribute("select-id")&&(e.id=this.getAttribute("select-id")),e.classList.add("select-input"),this._select||(tt.arrayFrom(this.childNodes).forEach(function(t){return e.appendChild(t)}),this.appendChild(e)),z.initModifier(this,cs)}},{key:"_deriveGetters",value:function(){var i=this;["disabled","length","multiple","name","options","selectedIndex","size","value","form","type"].forEach(function(e){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){return i._select[e]},set:-1===["form","type"].indexOf(e)?function(t){return c(i,function(){return i._select[e]=t})}:void 0})})}},{key:"add",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;this._select.add(t,e)}},{key:"remove",value:function(t){this._select.remove(t)}},{key:"_select",get:function(){return this.querySelector("select")}}],[{key:"observedAttributes",get:function(){return["modifier","class"].concat(ds)}}]),e}();o.Select=ps,customElements.define("ons-select",ps);var fs={"":"fab--* speed-dial__item--*"},ms=function(t){function e(){_(this,e);var t=M(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._compile(),t._boundOnClick=t._onClick.bind(t),t}return k(e,Vn),g(e,[{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"class":tt.restoreClass(this,"fab fab--mini speed-dial__item",fs);break;case"modifier":z.onModifierChanged(e,i,this,fs),tt.addModifier(this,"mini");break;case"ripple":this._updateRipple()}}},{key:"connectedCallback",value:function(){this.addEventListener("click",this._boundOnClick,!1)}},{key:"disconnectedCallback",value:function(){this.removeEventListener("click",this._boundOnClick,!1)}},{key:"_updateRipple",value:function(){tt.updateRipple(this)}},{key:"_onClick",value:function(t){t.stopPropagation()}},{key:"_compile",value:function(){var e=this;j.prepare(this),"fab fab--mini speed-dial__item".split(/\s+/).forEach(function(t){return e.classList.add(t)}),tt.addModifier(this,"mini"),this._updateRipple(),z.initModifier(this,fs)}}],[{key:"observedAttributes",get:function(){return["modifier","ripple","class"]}}]),e}();o.SpeedDialItem=ms,customElements.define("ons-speed-dial-item",ms);var _s={"":"speed-dial--*"},gs=function(t){function e(){_(this,e);var t=M(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return c(t,function(){t._compile()}),t._itemShown=!1,t._boundOnClick=t._onClick.bind(t),t}return k(e,Vn),g(e,[{key:"_compile",value:function(){this.classList.add("speed-dial"),j.prepare(this),this._updateRipple(),z.initModifier(this,_s),this.hasAttribute("direction")?this._updateDirection(this.getAttribute("direction")):this._updateDirection("up"),this._updatePosition()}},{key:"attributeChangedCallback",value:function(t,e,i){var n=this;switch(t){case"class":tt.restoreClass(this,"speed-dial",_s);break;case"modifier":z.onModifierChanged(e,i,this,_s);break;case"ripple":c(this,function(){return n._updateRipple()});break;case"direction":c(this,function(){return n._updateDirection(i)});break;case"position":c(this,function(){return n._updatePosition()})}}},{key:"connectedCallback",value:function(){this.addEventListener("click",this._boundOnClick,!1)}},{key:"disconnectedCallback",value:function(){this.removeEventListener("click",this._boundOnClick,!1)}},{key:"_onClick",value:function(t){return this.onClick?(this.onClick.apply(this),Promise.resolve()):!this.disabled&&this.visible?this.toggleItems():void 0}},{key:"_show",value:function(){return this.inline?Promise.resolve():this.show()}},{key:"_hide",value:function(){var e=this;return new Promise(function(t){e.inline?t():setImmediate(function(){return e.hide().then(t)})})}},{key:"_updateRipple",value:function(){this._fab&&(this.hasAttribute("ripple")?this._fab.setAttribute("ripple",""):this._fab.removeAttribute("ripple"))}},{key:"_updateDirection",value:function(t){for(var e=this.items,i=0;i<e.length;i++)h(e[i],{transitionDelay:25*i+"ms",bottom:"auto",right:"auto",top:"auto",left:"auto"});switch(t){case"up":for(var n=0;n<e.length;n++)e[n].style.bottom=72+56*n+"px",e[n].style.right="8px";break;case"down":for(var o=0;o<e.length;o++)e[o].style.top=72+56*o+"px",e[o].style.left="8px";break;case"left":for(var a=0;a<e.length;a++)e[a].style.top="8px",e[a].style.right=72+56*a+"px";break;case"right":for(var s=0;s<e.length;s++)e[s].style.top="8px",e[s].style.left=72+56*s+"px";break;default:tt.throw("Argument must be one of up, down, left or right.")}}},{key:"_updatePosition",value:function(){var t=this.getAttribute("position");switch(this.classList.remove("fab--top__left","fab--bottom__right","fab--bottom__left","fab--top__right","fab--top__center","fab--bottom__center"),t){case"top right":case"right top":this.classList.add("fab--top__right");break;case"top left":case"left top":this.classList.add("fab--top__left");break;case"bottom right":case"right bottom":this.classList.add("fab--bottom__right");break;case"bottom left":case"left bottom":this.classList.add("fab--bottom__left");break;case"center top":case"top center":this.classList.add("fab--top__center");break;case"center bottom":case"bottom center":this.classList.add("fab--bottom__center")}}},{key:"_getTranslate",value:function(){return 0<=(this.getAttribute("position")||"").indexOf("bottom")?"translate3d(0px, -"+(tt.globals.fabOffset||0)+"px, 0px) ":""}},{key:"show",value:function(){return this._fab.show(),h(this,{transform:this._getTranslate}),Promise.resolve()}},{key:"hide",value:function(){var t=this;return this.hideItems().then(function(){return t._fab.hide()})}},{key:"showItems",value:function(){this.hasAttribute("direction")?this._updateDirection(this.getAttribute("direction")):this._updateDirection("up");var t=0;if(!this._itemShown){for(var e=this.items,i=0;i<e.length;i++){var n=25*i;t+=n,h(e[i],{transform:"scale(1)",transitionDelay:n+"ms"})}t+=50,this._itemShown=!0,tt.triggerElementEvent(this,"open")}var o=tt.defer();return setTimeout(o.resolve,t),o.promise}},{key:"hideItems",value:function(){var t=0;if(this._itemShown){for(var e=this.items,i=0;i<e.length;i++){var n=25*(e.length-i);t+=n,h(e[i],{transform:"scale(0)",transitionDelay:n+"ms"})}t+=50,this._itemShown=!1,tt.triggerElementEvent(this,"close")}var o=tt.defer();return setTimeout(o.resolve,t),o.promise}},{key:"isOpen",value:function(){return this._itemShown}},{key:"toggle",value:function(){return this.visible?this.hide():this.show()}},{key:"toggleItems",value:function(){return this.isOpen()?this.hideItems():this.showItems()}},{key:"items",get:function(){return tt.arrayFrom(this.querySelectorAll("ons-speed-dial-item"))}},{key:"_fab",get:function(){return tt.findChild(this,"ons-fab")}},{key:"disabled",set:function(e){return e&&this.hideItems(),tt.arrayFrom(this.children).forEach(function(t){tt.match(t,".fab")&&tt.toggleAttribute(t,"disabled",e)}),tt.toggleAttribute(this,"disabled",e)},get:function(){return this.hasAttribute("disabled")}},{key:"inline",get:function(){return this.hasAttribute("inline")}},{key:"visible",get:function(){return this._fab.visible&&"none"!==this.style.display}}],[{key:"observedAttributes",get:function(){return["class","modifier","ripple","direction","position"]}},{key:"events",get:function(){return["open","close"]}}]),e}();o.SpeedDial=gs,customElements.define("ons-speed-dial",gs);var vs={ready:function(t,e){setImmediate(e)}},ys=function(t){function i(){_(this,i);var e=M(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return e._page=null,e._pageLoader=te,c(e,function(){vs.ready(e,function(){var t=e._getPageTarget();t&&e.load(t)})}),e}return k(i,Vn),g(i,[{key:"connectedCallback",value:function(){tt.match(this.parentNode,"ons-splitter")||tt.throw('"ons-splitter-content" must have "ons-splitter" as parent')}},{key:"_getPageTarget",value:function(){return this._page||this.getAttribute("page")}},{key:"disconnectedCallback",value:function(){}},{key:"attributeChangedCallback",value:function(t,e,i){}},{key:"load",value:function(t){var n=this,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this._page=t;var o=e.callback||function(){};return new Promise(function(e){var i=n._content||null;n._pageLoader.load({page:t,parent:n},function(t){i&&(n._pageLoader.unload(i),i=null),setImmediate(function(){return n._show()}),o(t),e(t)})})}},{key:"_show",value:function(){this._content&&this._content._show()}},{key:"_hide",value:function(){this._content&&this._content._hide()}},{key:"_destroy",value:function(){this._content&&this._pageLoader.unload(this._content),this.remove()}},{key:"page",get:function(){return this._page},set:function(t){this._page=t}},{key:"_content",get:function(){return this.children[0]}},{key:"pageLoader",get:function(){return this._pageLoader},set:function(t){t instanceof $t||tt.throwPageLoader(),this._pageLoader=t}}],[{key:"observedAttributes",get:function(){return[]}},{key:"rewritables",get:function(){return vs}}]),i}();o.SplitterContent=ys,customElements.define("ons-splitter-content",ys);var bs=function(t){function e(){_(this,e);var t=M(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._boundOnClick=t._onClick.bind(t),c(t,function(){t.parentNode._sides.every(function(t){return"split"===t.mode})&&t.setAttribute("style","display: none !important")}),t}return k(e,Vn),g(e,[{key:"_onClick",value:function(t){this.onClick instanceof Function?this.onClick():tt.match(this.parentNode,"ons-splitter")&&this.parentNode._sides.forEach(function(t){return t.close("left").catch(function(){})}),t.stopPropagation()}},{key:"attributeChangedCallback",value:function(t,e,i){}},{key:"connectedCallback",value:function(){this.addEventListener("click",this._boundOnClick),tt.iosMaskScrollFix(this,!0)}},{key:"disconnectedCallback",value:function(){this.removeEventListener("click",this._boundOnClick),tt.iosMaskScrollFix(this,!1)}}],[{key:"observedAttributes",get:function(){return[]}}]),e}();o.SplitterMask=bs,customElements.define("ons-splitter-mask",bs);var ks=function(t){function r(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"cubic-bezier(.1, .7, .1, 1)":e,n=t.duration,o=void 0===n?.3:n,a=t.delay,s=void 0===a?0:a;return _(this,r),M(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,{timing:i,duration:o,delay:s}))}return k(r,Jn),g(r,[{key:"updateOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};tt.extend(this,{timing:this.timing,duration:this.duration,delay:this.delay},t)}},{key:"activate",value:function(t){var e=this,i=t.parentNode;c(i,function(){e._side=t,e._oppositeSide=i.right!==t&&i.right||i.left!==t&&i.left,e._content=i.content,e._mask=i.mask})}},{key:"deactivate",value:function(){this.clearTransition(),this._mask&&this.clearMask(),this._content=this._side=this._oppositeSide=this._mask=null}},{key:"clearTransition",value:function(){var e=this;"side mask content".split(/\s+/).forEach(function(t){return e["_"+t]&&h.clear(e["_"+t],"transform transition")})}},{key:"clearMask",value:function(){this._oppositeSide&&"split"!==this._oppositeSide.mode&&this._oppositeSide.isOpen||(this._mask.style.opacity="",this._mask.style.display="none")}},{key:"translate",value:function(t){}},{key:"open",value:function(t){t()}},{key:"close",value:function(t){t()}},{key:"minus",get:function(){return"right"===this._side.side?"-":""}}]),r}(),ws=function(t){function e(){return _(this,e),M(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return k(e,ks),g(e,[{key:"translate",value:function(t){this._mask.style.display="block",ht(this._side).queue({transform:"translate3d("+(this.minus+t)+"px, 0, 0)"}).play()}},{key:"open",value:function(e){ht.runAll(ht(this._side).wait(this.delay).queue({transform:"translate3d("+this.minus+"100%, 0, 0)"},this.def).queue(function(t){t(),e&&e()}),ht(this._mask).wait(this.delay).queue({display:"block"}).queue({opacity:"1"},{duration:this.duration,timing:"linear"}))}},{key:"close",value:function(e){ht.runAll(ht(this._side).wait(this.delay).queue({transform:"translate3d(0, 0, 0)"},this.def).queue(function(t){e&&e(),t()}),ht(this._mask).wait(this.delay).queue({opacity:"0"},{duration:this.duration,timing:"linear"}).queue({display:"none"}))}}]),e}(),Ms={default:ws,overlay:ws,push:function(t){function n(){return _(this,n),M(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return k(n,ks),g(n,[{key:"_getSlidingElements",value:function(){var t=[this._side,this._content];return this._oppositeSide&&"split"===this._oppositeSide.mode&&t.push(this._oppositeSide),t}},{key:"translate",value:function(t){this._slidingElements||(this._slidingElements=this._getSlidingElements()),this._mask.style.display="block",ht(this._slidingElements).queue({transform:"translate3d("+(this.minus+t)+"px, 0, 0)"}).play()}},{key:"open",value:function(e){var i=this,t=this._side.offsetWidth;this._slidingElements=this._getSlidingElements(),ht.runAll(ht(this._slidingElements).wait(this.delay).queue({transform:"translate3d("+(this.minus+t)+"px, 0, 0)"},this.def).queue(function(t){i._slidingElements=null,t(),e&&e()}),ht(this._mask).wait(this.delay).queue({display:"block"}))}},{key:"close",value:function(e){var i=this;this._slidingElements=this._getSlidingElements(),ht.runAll(ht(this._slidingElements).wait(this.delay).queue({transform:"translate3d(0, 0, 0)"},this.def).queue(function(t){i._slidingElements=null,b(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"clearTransition",i).call(i),e&&e(),t()}),ht(this._mask).wait(this.delay).queue({display:"none"}))}}]),n}(),reveal:function(t){function e(){return _(this,e),M(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return k(e,ks),g(e,[{key:"_getSlidingElements",value:function(){var t=[this._content,this._mask];return this._oppositeSide&&"split"===this._oppositeSide.mode&&t.push(this._oppositeSide),t}},{key:"activate",value:function(t){b(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"activate",this).call(this,t),"collapse"===t.mode&&this._setStyles(t)}},{key:"deactivate",value:function(){this._side&&this._unsetStyles(this._side),b(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deactivate",this).call(this)}},{key:"_setStyles",value:function(t){h(t,{left:"right"===t.side?"auto":0,right:"right"===t.side?0:"auto",zIndex:0,backgroundColor:"black",transform:this._generateBehindPageStyle(0).container.transform,display:"none"});var e=t.parentElement;c(e,function(){return e.content&&h(e.content,{boxShadow:"0 0 12px 0 rgba(0, 0, 0, 0.2)"})})}},{key:"_unsetStyles",value:function(t){h.clear(t,"left right zIndex backgroundColor display"),t._content&&(t._content.style.opacity=""),this._oppositeSide&&"split"!==this._oppositeSide.mode||t.parentElement.content&&h.clear(t.parentElement.content,"boxShadow")}},{key:"_generateBehindPageStyle",value:function(t){var e=this.maxWidth,i=(t-e)/e*10;return{content:{opacity:1+(i=isNaN(i)?0:Math.max(Math.min(i,0),-10))/100},container:{transform:"translate3d("+(this.minus?-1:1)*i+"%, 0, 0)"}}}},{key:"translate",value:function(t){this._side.style.display="",this._side.style.zIndex=1,this.maxWidth=this.maxWidth||this._getMaxWidth();var e=this._generateBehindPageStyle(Math.min(t,this.maxWidth));this._slidingElements||(this._slidingElements=this._getSlidingElements()),this._mask.style.display="block",ht.runAll(ht(this._slidingElements).queue({transform:"translate3d("+(this.minus+t)+"px, 0, 0)"}),ht(this._side._content).queue(e.content),ht(this._side).queue(e.container))}},{key:"open",value:function(e){var i=this;this._side.style.display="",this._side.style.zIndex=1,this.maxWidth=this.maxWidth||this._getMaxWidth();var t=this._generateBehindPageStyle(this.maxWidth);this._slidingElements=this._getSlidingElements(),setTimeout(function(){ht.runAll(ht(i._slidingElements).wait(i.delay).queue({transform:"translate3d("+(i.minus+i.maxWidth)+"px, 0, 0)"},i.def),ht(i._mask).wait(i.delay).queue({display:"block"}),ht(i._side._content).wait(i.delay).queue(t.content,i.def),ht(i._side).wait(i.delay).queue(t.container,i.def).queue(function(t){i._slidingElements=null,t(),e&&e()}))},1e3/60)}},{key:"close",value:function(e){var i=this,t=this._generateBehindPageStyle(0);this._slidingElements=this._getSlidingElements(),ht.runAll(ht(this._slidingElements).wait(this.delay).queue({transform:"translate3d(0, 0, 0)"},this.def),ht(this._mask).wait(this.delay).queue({display:"none"}),ht(this._side._content).wait(this.delay).queue(t.content,this.def),ht(this._side).wait(this.delay).queue(t.container,this.def).queue(function(t){i._slidingElements=null,i._side.style.zIndex=0,i._side.style.display="none",i._side._content.style.opacity="",e&&e(),t()}))}},{key:"_getMaxWidth",value:function(){return this._side.offsetWidth}}]),e}()},Es=function(t){function e(){_(this,e);var t=M(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._onModeChange=t._onModeChange.bind(t),c(t,function(){!t.mask&&t.appendChild(document.createElement("ons-splitter-mask")),t._layout()}),t}return k(e,Vn),g(e,[{key:"_getSide",value:function(e){return tt.findChild(this,function(t){return tt.match(t,"ons-splitter-side")&&t.getAttribute("side")===e})}},{key:"_onDeviceBackButton",value:function(t){this._sides.some(function(t){return!!t.isOpen&&t.close()})||t.callParentHandler()}},{key:"_onModeChange",value:function(t){var e=this;t.target.parentNode&&c(this,function(){e._layout()})}},{key:"_layout",value:function(){var e=this;this._sides.forEach(function(t){e.content&&(e.content.style[t.side]="split"===t.mode?t.style.width:0)})}},{key:"left",get:function(){return this._getSide("left")}},{key:"right",get:function(){return this._getSide("right")}},{key:"side",get:function(){return tt.findChild(this,"ons-splitter-side")}},{key:"_sides",get:function(){return[this.left,this.right].filter(function(t){return t})}},{key:"content",get:function(){return tt.findChild(this,"ons-splitter-content")}},{key:"topPage",get:function(){return this.content._content}},{key:"mask",get:function(){return tt.findChild(this,"ons-splitter-mask")}},{key:"onDeviceBackButton",get:function(){return this._backButtonHandler},set:function(t){this._backButtonHandler&&this._backButtonHandler.destroy(),this._backButtonHandler=F.createHandler(this,t)}}]),g(e,[{key:"connectedCallback",value:function(){this.onDeviceBackButton=this._onDeviceBackButton.bind(this),this.addEventListener("modechange",this._onModeChange,!1)}},{key:"disconnectedCallback",value:function(){this._backButtonHandler.destroy(),this._backButtonHandler=null,this.removeEventListener("modechange",this._onModeChange,!1)}},{key:"attributeChangedCallback",value:function(t,e,i){}},{key:"_show",value:function(){tt.propagateAction(this,"_show")}},{key:"_hide",value:function(){tt.propagateAction(this,"_hide")}},{key:"_destroy",value:function(){tt.propagateAction(this,"_destroy"),this.remove()}}],[{key:"registerAnimator",value:function(t,e){e instanceof SplitterAnimator||tt.throwAnimator("Splitter"),Ms[t]=e}},{key:"SplitterAnimator",get:function(){return SplitterAnimator}},{key:"animators",get:function(){return Ms}}]),e}();o.Splitter=Es,customElements.define("ons-splitter",Es);var xs="closed",Ps={ready:function(t,e){setImmediate(e)}},Cs=function(){function i(t,e){_(this,i),this._element=t,this._onChange=this._onChange.bind(this),e&&this.changeTarget(e)}return g(i,[{key:"changeTarget",value:function(t){this.disable(),(this._target=t)&&(this._orientation=-1!==["portrait","landscape"].indexOf(t),this.activate())}},{key:"_match",value:function(t){return this._orientation?this._target===(t.isPortrait?"portrait":"landscape"):t.matches}},{key:"_onChange",value:function(t){this._element._updateMode(this._match(t)?"collapse":"split")}},{key:"activate",value:function(){this._orientation?(Ht.on("change",this._onChange),this._onChange({isPortrait:Ht.isPortrait()})):(this._queryResult=window.matchMedia(this._target),this._queryResult.addListener(this._onChange),this._onChange(this._queryResult))}},{key:"disable",value:function(){this._orientation?Ht.off("change",this._onChange):this._queryResult&&(this._queryResult.removeListener(this._onChange),this._queryResult=null)}}]),i}(),Ls=function(t){function i(){_(this,i);var e=M(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return e._page=null,e._state=xs,e._lock=new Qt,e._pageLoader=te,e._collapseDetection=new Cs(e),e._animatorFactory=new A({animators:Es.animators,baseClass:ks,baseClassName:"SplitterAnimator",defaultAnimation:e.getAttribute("animation")}),c(e,function(){e.attributeChangedCallback("width"),e.hasAttribute("side")||e.setAttribute("side","left"),Ps.ready(e,function(){var t=e._page||e.getAttribute("page");t&&e.load(t)})}),e}return k(i,Vn),g(i,[{key:"connectedCallback",value:function(){var a=this;tt.match(this.parentNode,"ons-splitter")||tt.throw("Parent must be an ons-splitter element"),this._swipe=new _a({element:this,elementHandler:this.parentElement,swipeMax:function(){a._onSwipe&&a._onSwipe(1,a._animationOpt),a.open()},swipeMid:function(t,e){a._onSwipe&&a._onSwipe(t/e),a._animator.translate(t)},swipeMin:function(){a._onSwipe&&a._onSwipe(0,a._animationOpt),a.close()},getThreshold:function(){return Math.max(0,Math.min(1,parseFloat(a.getAttribute("open-threshold"))||.3))},getSide:function(){return a.side},isInitialState:function(){var t=a._state===xs;return a._state="changing",t},ignoreSwipe:function(t,e){var i,n=a.isOpen,o=Math.max(0,parseInt(a.getAttribute("swipe-target-width"),10)||0);return"split"===a._mode||a._lock.isLocked()||a._isOtherSideOpen()||(i=t.gesture.direction,!("left"===a.side?"left"===i&&n||"right"===i&&!n:"left"===i&&!n||"right"===i&&n))||!n&&0!==o&&o<e}}),this.attributeChangedCallback("swipeable"),c(this,function(){a.constructor.observedAttributes.forEach(function(t){return a.attributeChangedCallback(t,null,a.getAttribute(t))})})}},{key:"disconnectedCallback",value:function(){this._swipe&&this._swipe.dispose(),this._animator=this._animationOpt=this._swipe=null}},{key:"attributeChangedCallback",value:function(t,e,i){switch(t){case"swipeable":this._swipe&&this._swipe.update();break;case"width":i=this.getAttribute("width"),this.style.width=/^\d+(px|%)$/.test(i)?i:"80%";break;default:this[tt.camelize("_update-"+t)](i)}}},{key:"_emitEvent",value:function(t){if("pre"!==t.slice(0,3))return tt.triggerElementEvent(this,t,{side:this});var e=!1;return tt.triggerElementEvent(this,t,{side:this,cancel:function(){return e=!0}}),e}},{key:"_isOtherSideOpen",value:function(){var e=this;return!!tt.findChild(this.parentElement,function(t){return t instanceof e.constructor&&t!==e&&"collapse"===t._mode&&t.isOpen})}},{key:"_updateCollapse",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.getAttribute("collapse");return null===t||"split"===t?(this._collapseDetection.disable(),this._updateMode("split")):""===t||"collapse"===t?(this._collapseDetection.disable(),this._updateMode("collapse")):void this._collapseDetection.changeTarget(t)}},{key:"_updateMode",value:function(t){t!==this._mode&&(this._mode=t,this.setAttribute("mode",t),"split"===t?(this._animator&&this._animator.deactivate(),this._state=xs):(this._animator&&this._animator.activate(this),"open"===this._state&&this._animator.open()),tt.triggerElementEvent(this,"modechange",{side:this,mode:t}))}},{key:"_updateAnimation",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.getAttribute("animation");this.parentNode&&(this._animator&&this._animator.deactivate(),this._animator=this._animatorFactory.newAnimator({animation:t}),this._animator.activate(this),this._animationOpt={timing:this._animator.duration,duration:this._animator.duration})}},{key:"_updateAnimationOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.getAttribute("animation-options");this._animator.updateOptions(A.parseAnimationOptionsString(t))}},{key:"open",value:function(t){return this.toggle(t,!0)}},{key:"close",value:function(t){return this.toggle(t,!1)}},{key:"toggle",value:function(){var e=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n="boolean"==typeof t?t:!this.isOpen,o=n?"open":"close",a=n?"open":xs;if("split"===this._mode)return Promise.resolve(!1);if(this._state===a)return Promise.resolve(this);if(this._lock.isLocked())return Promise.reject("Another splitter-side action is already running.");if(n&&this._isOtherSideOpen())return Promise.reject("Another menu is already open.");if(this._emitEvent("pre"+o))return Promise.reject("Canceled in pre"+o+" event.");var s=this._lock.lock();return this._state="changing",new Promise(function(t){e._animator[o](function(){tt.iosPageScrollFix(n),e._state=a,s(),e._emitEvent("post"+o),i.callback instanceof Function&&i.callback(e),t(e)})})}},{key:"load",value:function(t){var n=this,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this._page=t;var o=e.callback||function(){};return new Promise(function(e){var i=n._content||null;n._pageLoader.load({page:t,parent:n},function(t){i&&(n._pageLoader.unload(i),i=null),setImmediate(function(){return n._show()}),o(t),e(t)})})}},{key:"_show",value:function(){this._content&&this._content._show()}},{key:"_hide",value:function(){this._content&&this._content._hide()}},{key:"_destroy",value:function(){this._content&&this._pageLoader.unload(this._content),this.remove()}},{key:"side",get:function(){return"right"===this.getAttribute("side")?"right":"left"}},{key:"page",get:function(){return this._page},set:function(t){this._page=t}},{key:"_content",get:function(){return this.children[0]}},{key:"pageLoader",get:function(){return this._pageLoader},set:function(t){t instanceof $t||tt.throwPageLoader(),this._pageLoader=t}},{key:"mode",get:function(){return this._mode}},{key:"onSwipe",get:function(){return this._onSwipe},set:function(t){!t||t instanceof Function||tt.throw('"onSwipe" must be a function'),this._onSwipe=t}},{key:"isOpen",get:function(){return"collapse"===this._mode&&this._state!==xs}}],[{key:"observedAttributes",get:function(){return["animation","width","collapse","swipeable","animation-options"]}},{key:"events",get:function(){return["preopen","postopen","preclose","postclose","modechange"]}},{key:"rewritables",get:function(){return Ps}}]),i}();o.SplitterSide=Ls,customElements.define("ons-splitter-side",Ls);var Ss={"":"switch--*",".switch__input":"switch--*__input",".switch__handle":"switch--*__handle",".switch__toggle":"switch--*__toggle"},As={ios:[1,21],material:[0,16]},Ts=function(t){function o(){_(this,o);var t=M(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return c(t,function(){t.attributeChangedCallback("modifier",null,t.getAttribute("modifier"))}),t._onChange=t._onChange.bind(t),t._onRelease=t._onRelease.bind(t),t._lastTimeStamp=0,t}return k(o,na),g(o,[{key:"_getPosition",value:function(t){var e=this._locations;return Math.min(e[1],Math.max(e[0],this._startX+t.gesture.deltaX))}},{key:"_emitChangeEvent",value:function(){tt.triggerElementEvent(this,"change",{value:this.checked,switch:this,isInteractive:!0})}},{key:"_onChange",value:function(t){t&&t.stopPropagation&&t.stopPropagation(),this._emitChangeEvent()}},{key:"_onClick",value:function(t){(t.target.classList.contains(this.defaultElementClass+"__touch")||t.timeStamp-this._lastTimeStamp<50)&&t.preventDefault(),this._lastTimeStamp=t.timeStamp}},{key:"_onHold",value:function(t){this.disabled||(z.addModifier(this,"active"),document.addEventListener("release",this._onRelease))}},{key:"_onDragStart",value:function(t){this.disabled||-1===["left","right"].indexOf(t.gesture.direction)?z.removeModifier(this,"active"):(t.consumed=!0,z.addModifier(this,"active"),this._startX=this._locations[this.checked?1:0],this.addEventListener("drag",this._onDrag),document.addEventListener("release",this._onRelease))}},{key:"_onDrag",value:function(t){t.stopPropagation(),this._handle.style.left=this._getPosition(t)+"px"}},{key:"_onRelease",value:function(t){var e=this._locations,i=this._getPosition(t),n=this.checked;this.checked=i>=(e[0]+e[1])/2,this.checked!==n&&this._emitChangeEvent(),this.removeEventListener("drag",this._onDrag),document.removeEventListener("release",this._onRelease),this._handle.style.left="",z.removeModifier(this,"active")}},{key:"click",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.disabled||(this.checked=!this.checked,this._emitChangeEvent(),this._lastTimeStamp=t.timeStamp||0)}},{key:"connectedCallback",value:function(){var t=this;c(this,function(){t._input.addEventListener("change",t._onChange)}),this.addEventListener("dragstart",this._onDragStart),this.addEventListener("hold",this._onHold),this.addEventListener("tap",this.click),this.addEventListener("click",this._onClick),this._gestureDetector=new ft(this,{dragMinDistance:1,holdTimeout:251,passive:!0})}},{key:"disconnectedCallback",value:function(){var t=this;c(this,function(){t._input.removeEventListener("change",t._onChange)}),this.removeEventListener("dragstart",this._onDragStart),this.removeEventListener("hold",this._onHold),this.removeEventListener("tap",this.click),this.removeEventListener("click",this._onClick),this._gestureDetector&&this._gestureDetector.dispose()}},{key:"attributeChangedCallback",value:function(t,e,i){if("modifier"===t){var n=-1!==(i||"").indexOf("material");this._locations=As[n?"material":"ios"]}b(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"attributeChangedCallback",this).call(this,t,e,i)}},{key:"_scheme",get:function(){return Ss}},{key:"_defaultClassName",get:function(){return"switch"}},{key:"_template",get:function(){return'\n      <input type="'+this.type+'" class="'+this._defaultClassName+'__input">\n      <div class="'+this._defaultClassName+'__toggle">\n        <div class="'+this._defaultClassName+'__handle">\n          <div class="'+this._defaultClassName+'__touch"></div>\n        </div>\n      </div>\n    '}},{key:"type",get:function(){return"checkbox"}},{key:"_handle",get:function(){return this.querySelector("."+this._defaultClassName+"__handle")}},{key:"checkbox",get:function(){return this._input}}],[{key:"observedAttributes",get:function(){return[].concat(E(b(o.__proto__||Object.getPrototypeOf(o),"observedAttributes",this)),["modifier"])}}]),o}();o.Switch=Ts,customElements.define("ons-switch",Ts);var Os={".tabbar__content":"tabbar--*__content",".tabbar__border":"tabbar--*__border",".tabbar":"tabbar--*"},Ds={ready:function(t,e){e()}},Is=function(t,e,i){return(1-i)*t+i*e},Ns=function(t){function e(){_(this,e);var t=M(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._loadInactive=tt.defer(),c(t,function(){return t._compile()}),t}return k(e,Vn),g(e,[{key:"connectedCallback",value:function(){var t=this;this._swiper||(this._swiper=new Po({getElement:function(){return t._contentElement},getInitialIndex:function(){return t.getAttribute("activeIndex")||t.getAttribute("active-index")},getAutoScrollRatio:this._getAutoScrollRatio.bind(this),getBubbleWidth:function(){return parseInt(t.getAttribute("ignore-edge-width")||25,10)},isAutoScrollable:function(){return!0},preChangeHook:this._onPreChange.bind(this),postChangeHook:this._onPostChange.bind(this),refreshHook:this._onRefresh.bind(this),scrollHook:this._onScroll.bind(this)}),c(this,function(){t._tabbarBorder=tt.findChild(t._tabbarElement,".tabbar__border"),t._swiper.init({swipeable:t.hasAttribute("swipeable")})})),c(this,function(){t._updatePosition(),tt.findParent(t,"ons-page",function(t){return t===document.body})||t._show()})}},{key:"disconnectedCallback",value:function(){this._swiper&&this._swiper.initialized&&(this._swiper.dispose(),this._swiper=null,this._tabbarBorder=null,this._tabsRect=null)}},{key:"_normalizeEvent",value:function(t){return y({},t,{index:t.activeIndex,tabItem:this.tabs[t.activeIndex]})}},{key:"_onPostChange",value:function(t){t=this._normalizeEvent(t),tt.triggerElementEvent(this,"postchange",t);var e=t.tabItem.pageElement;e&&e._show()}},{key:"_onPreChange",value:function(t){if((t=this._normalizeEvent(t)).cancel=function(){return t.canceled=!0},tt.triggerElementEvent(this,"prechange",t),!t.canceled){var e=t,i=e.activeIndex,n=e.lastActiveIndex,o=this.tabs;if(o[i].setActive(!0),0<=n){var a=o[n];a.setActive(!1),a.pageElement&&a.pageElement._hide()}}return t.canceled}},{key:"_onScroll",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(this._tabbarBorder)if(this._tabbarBorder.style.transition="all "+(e.duration||0)+"s "+(e.timing||""),this._autogrow&&0<this._tabsRect.length){var i=Math.floor(t),n=Math.ceil(t),o=t%1;this._tabbarBorder.style.width=Is(this._tabsRect[i].width,this._tabsRect[n].width,o)+"px",this._tabbarBorder.style.transform="translate3d("+Is(this._tabsRect[i].left,this._tabsRect[n].left,o)+"px, 0, 0)"}else this._tabbarBorder.style.transform="translate3d("+100*t+"%, 0, 0)";this._onSwipe&&this._onSwipe(t,e)}},{key:"_onRefresh",value:function(){if(this._autogrow=tt.hasModifier(this,"autogrow"),this._tabsRect=this.tabs.map(function(t){return t.getBoundingClientRect()}),this._tabbarBorder){this._tabbarBorder.style.display=this.hasAttribute("tab-border")||tt.hasModifier(this,"material")?"block":"none";var t=this.getActiveTabIndex();0<this._tabsRect.length&&0<=t&&(this._tabbarBorder.style.width=this._tabsRect[t].width+"px")}}},{key:"_getAutoScrollRatio",value:function(t,e,i){var n=i/300*(t?-1:1);return Math.min(1,Math.max(0,.6+e*n))}},{key:"_compile",value:function(){j.prepare(this);var t=this._contentElement||tt.create(".tabbar__content");t.classList.add("ons-tabbar__content");var e=this._tabbarElement||tt.create(".tabbar");if(e.classList.add("ons-tabbar__footer"),!e.parentNode)for(;this.firstChild;)e.appendChild(this.firstChild);var i=Number(this.getAttribute("activeIndex"));e.children.length>i&&!tt.findChild(e,"[active]")&&e.children[i].setAttribute("active",""),this._tabbarBorder=tt.findChild(e,".tabbar__border")||tt.create(".tabbar__border"),e.appendChild(this._tabbarBorder),e.classList.add("ons-swiper-tabbar"),!t.children[0]&&t.appendChild(document.createElement("div")),!t.children[1]&&t.appendChild(document.createElement("div")),t.appendChild=t.appendChild.bind(t.children[0]),t.insertBefore=t.insertBefore.bind(t.children[0]),this.appendChild(t),this.appendChild(e),z.initModifier(this,Os)}},{key:"_updatePosition",value:function(){var n=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.getAttribute("position"),o=this._top="top"===t||"auto"===t&&tt.hasModifier(this,"material"),a=o?tt.addModifier:tt.removeModifier;a(this,"top");var s=tt.findParent(this,"ons-page");s&&c(s,function(){var t=0;s.children[0]&&tt.match(s.children[0],"ons-toolbar")&&(a(s.children[0],"noshadow"),t=1);var e=s._getContentElement(),i=window.getComputedStyle(s._getContentElement(),null);n.style.top=o?parseInt(i.getPropertyValue("padding-top"),10)-t+"px":"",e.style.top=i.top,e.style.top=""}),S.autoStatusBarFill(function(){var t=tt.findParent(n,function(t){return t.hasAttribute("status-bar-fill")});tt.toggleAttribute(n,"status-bar-fill",o&&!t)})}},{key:"setActiveTab",value:function(e){var i=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=this.getActiveTabIndex(),o=this.tabs[t],a=this.tabs[e];if(!a)return Promise.reject("Specified index does not match any tab.");if(e===t)return tt.triggerElementEvent(this,"reactive",{index:e,activeIndex:e,tabItem:a}),Promise.resolve(a.pageElement);var s=a.pageElement;return(s?Promise.resolve(s):a.loaded).then(function(t){return i._swiper.setActiveIndex(e,y({reject:!0},n,{animation:o&&t?n.animation||i.getAttribute("animation"):"none",animationOptions:tt.extend({duration:.3,timing:"cubic-bezier(.4, .7, .5, 1)"},i.hasAttribute("animation-options")?tt.animationOptionsParse(i.getAttribute("animation-options")):{},n.animationOptions||{})})).then(function(){return n.callback instanceof Function&&n.callback(t),t})})}},{key:"setTabbarVisibility",value:function(t){var e=this;c(this,function(){e._contentElement.style[e._top?"top":"bottom"]=t?"":"0px",e._tabbarElement.style.display=t?"":"none",t&&e._onRefresh()})}},{key:"show",value:function(){this.setTabbarVisibility(!0)}},{key:"hide",value:function(){this.setTabbarVisibility(!1)}},{key:"getActiveTabIndex",value:function(){for(var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.tabs,e=0;e<t.length;e++)if(t[e]&&"ONS-TAB"===t[e].tagName&&t[e].isActive())return e;return-1}},{key:"_show",value:function(){var i=this;this._swiper.show(),setImmediate(function(){var t=i.tabs,e=i.getActiveTabIndex(t);i._loadInactive.resolve(),0<t.length&&0<=e&&t[e].loaded.then(function(t){return t&&setImmediate(function(){return t._show()})})})}},{key:"_hide",value:function(){this._swiper.hide();var t=this.topPage;t&&t._hide()}},{key:"_destroy",value:function(){this.tabs.forEach(function(t){return t.remove()}),this.remove()}},{key:"attributeChangedCallback",value:function(t,e,i){if("modifier"===t){z.onModifierChanged(e,i,this,Os);var n=function(t){return/(^|\s+)top($|\s+)/i.test(t)};n(e)!==n(i)&&this._updatePosition()}else"position"===t?tt.isAttached(this)&&this._updatePosition():"swipeable"===t?this._swiper&&this._swiper.updateSwipeable(this.hasAttribute("swipeable")):"hide-tabs"===t&&this.setTabbarVisibility(!this.hasAttribute("hide-tabs")||"false"===i)}},{key:"_tabbarElement",get:function(){return tt.findChild(this,".tabbar")}},{key:"_contentElement",get:function(){return tt.findChild(this,".tabbar__content")}},{key:"_targetElement",get:function(){var t=this._contentElement;return t&&t.children[0]||null}},{key:"topPage",get:function(){var t=this.tabs,e=this.getActiveTabIndex();return t[e]&&(t[e].pageElement||this.pages[0])||null}},{key:"pages",get:function(){return tt.arrayFrom(this._targetElement.children)}},{key:"tabs",get:function(){return Array.prototype.filter.call(this._tabbarElement.children,function(t){return"ONS-TAB"===t.tagName})}},{key:"visible",get:function(){return"none"!==this._tabbarElement.style.display}},{key:"swipeable",get:function(){return this.hasAttribute("swipeable")},set:function(t){return tt.toggleAttribute(this,"swipeable",t)}},{key:"onSwipe",get:function(){return this._onSwipe},set:function(t){!t||t instanceof Function||tt.throw('"onSwipe" must be a function'),this._onSwipe=t}}],[{key:"observedAttributes",get:function(){return["modifier","position","swipeable","tab-border","hide-tabs"]}},{key:"rewritables",get:function(){return Ds}},{key:"events",get:function(){return["prechange","postchange","reactive"]}}]),e}();o.Tabbar=Ns,customElements.define("ons-tabbar",Ns);var Bs={"":"tabbar--*__item",".tabbar__button":"tabbar--*__button"},js=function(t){function e(){_(this,e);var t=M(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return["label","icon","badge"].some(t.hasAttribute.bind(t))?t._compile():c(t,function(){return t._compile()}),t._pageLoader=te,t._onClick=t._onClick.bind(t),t}return k(e,Vn),g(e,[{key:"_compile",value:function(){if(j.prepare(this),this.classList.add("tabbar__item"),!this._button){for(var t=tt.create("button.tabbar__button");this.childNodes[0];)t.appendChild(this.childNodes[0]);var e=tt.create("input",{display:"none"});e.type="radio",this.appendChild(e),this.appendChild(t),this._updateButtonContent(),z.initModifier(this,Bs),this._updateRipple()}}},{key:"_updateRipple",value:function(){this._button&&tt.updateRipple(this._button,this.hasAttribute("ripple"))}},{key:"_updateButtonContent",value:function(){var t,n=this,o=this._button,e=this._icon;if(this.hasAttribute("icon")){var i=(e=e||tt.createElement('<div class="tabbar__icon"><ons-icon></ons-icon></div>')).children[0],a=(t=i.getAttribute("icon"),function(){return i.attributeChangedCallback("icon",t,n.getAttribute("icon"))});i.setAttribute("icon",this.getAttribute("icon")),e.parentElement!==o&&o.insertBefore(e,o.firstChild),i.attributeChangedCallback instanceof Function?a():setImmediate(function(){return i.attributeChangedCallback instanceof Function&&a()})}else e&&e.remove();["label","badge"].forEach(function(t,e){var i=n.querySelector(".tabbar__"+t);n.hasAttribute(t)?((i=i||tt.create(".tabbar__"+t+("badge"===t?" notification":""))).textContent=n.getAttribute(t),i.parentElement!==o&&o.appendChild(i)):i&&i.remove()})}},{key:"_onClick",value:function(){this.onClick instanceof Function?this.onClick():this._tabbar.setActiveTab(this.index,{reject:!1})}},{key:"setActive",value:function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];this._input.checked=t,this.classList.toggle("active",t),tt.toggleAttribute(this,"active",t),this.hasAttribute("icon")&&this.hasAttribute("active-icon")&&this._icon.children[0].setAttribute("icon",this.getAttribute(t?"active-icon":"icon"))}},{key:"_loadPageElement",value:function(i,t){var n=this;return this._hasLoaded=!0,new Promise(function(e){n._pageLoader.load({parent:i,page:t},function(t){i.replaceChild(t,i.children[n.index]),n._loadedPage=t,e(t)})})}},{key:"isActive",value:function(){return this.classList.contains("active")}},{key:"disconnectedCallback",value:function(){this.removeEventListener("click",this._onClick,!1),this._loadedPage&&(this._pageLoader.unload(this._loadedPage),this._loadedPage=null,this._hasLoaded=!1,this.loaded=null)}},{key:"connectedCallback",value:function(){var s=this;if(this.addEventListener("click",this._onClick,!1),tt.isAttached(this)&&!this.loaded){var r=tt.defer();this.loaded=r.promise,c(this,function(){var o=s.index,a=s._tabbar;a||tt.throw("Tab elements must be children of Tabbar"),a.hasAttribute("modifier")&&tt.addModifier(s,a.getAttribute("modifier")),s._hasLoaded||(s.hasAttribute("active")&&(s.setActive(!0),a.setAttribute("activeIndex",o)),o===a.tabs.length-1&&(a._onRefresh(),setImmediate(function(){return a._onRefresh()})),Ns.rewritables.ready(a,function(){var t=s.page||s.getAttribute("page");if(!s.pageElement&&t){var e=a._targetElement,i=tt.create("div",{height:"100%",width:"100%",visibility:"hidden"});e.insertBefore(i,e.children[o]);var n=function(){return s._loadPageElement(e,t).then(r.resolve)};return s.isActive()?n():a._loadInactive.promise.then(n)}return r.resolve(s.pageElement)}))})}}},{key:"attributeChangedCallback",value:function(t,e,i){var n=this;switch(t){case"class":tt.restoreClass(this,"tabbar__item",Bs);break;case"modifier":c(this,function(){return z.onModifierChanged(e,i,n,Bs)});break;case"ripple":c(this,function(){return n._updateRipple()});break;case"icon":case"label":case"badge":c(this,function(){return n._updateButtonContent()});break;case"page":this.page=i||""}}},{key:"pageLoader",set:function(t){t instanceof $t||tt.throwPageLoader(),this._pageLoader=t},get:function(){return this._pageLoader}},{key:"_input",get:function(){return tt.findChild(this,"input")}},{key:"_button",get:function(){return tt.findChild(this,".tabbar__button")}},{key:"_icon",get:function(){return this.querySelector(".tabbar__icon")}},{key:"_tabbar",get:function(){return tt.findParent(this,"ons-tabbar")}},{key:"index",get:function(){return Array.prototype.indexOf.call(this.parentElement.children,this)}},{key:"pageElement",get:function(){if(this._loadedPage)return this._loadedPage;var t=this._tabbar;return t.pages.length===t.tabs.length?t.pages[this.index]:null}}],[{key:"observedAttributes",get:function(){return["modifier","ripple","icon","label","page","badge","class"]}}]),e}();o.Tab=js,customElements.define("ons-tab",js);var zs=function(t){function r(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"linear":e,n=t.delay,o=void 0===n?0:n,a=t.duration,s=void 0===a?.2:a;return _(this,r),M(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,{timing:i,delay:o,duration:s}))}return k(r,Jn),g(r,[{key:"show",value:function(t,e){e()}},{key:"hide",value:function(t,e){e()}}]),r}(),Rs=function(t){function r(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"linear":e,n=t.delay,o=void 0===n?0:n,a=t.duration,s=void 0===a?.3:a;return _(this,r),M(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,{timing:i,delay:o,duration:s}))}return k(r,zs),g(r,[{key:"show",value:function(t,e){e=e||function(){},ht(t,this.def).default({opacity:0},{opacity:1}).queue(function(t){e(),t()}).play()}},{key:"hide",value:function(t,e){e=e||function(){},ht(t,this.def).default({opacity:1},{opacity:0}).queue(function(t){e(),t()}).play()}}]),r}(),Us=function(t){function l(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"ease":e,n=t.delay,o=void 0===n?0:n,a=t.duration,s=void 0===a?.25:a;_(this,l);var r=M(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,{timing:i,delay:o,duration:s}));return r.messageDelay=.4*r.duration+r.delay,P.isAndroid()?r.ascension=48:Kn.isIPhoneXPortraitPatchActive()?r.ascension=98:Kn.isIPhoneXLandscapePatchActive()?r.ascension=85:r.ascension=64,r}return k(l,zs),g(l,[{key:"show",value:function(t,e){t=t._toast,tt.globals.fabOffset=this.ascension,ht.runAll(ht(t,this.def).default({transform:"translate3d(0, "+this.ascension+"px, 0)"},{transform:"translate3d(0, 0, 0)"}).queue(function(t){e&&e(),t()}),ht(this._getFabs()).wait(this.delay).queue({transform:"translate3d(0, -"+this.ascension+"px, 0) scale(1)"},this.def),ht(tt.arrayFrom(t.children),this.def).default({opacity:0},{opacity:1}))}},{key:"hide",value:function(t,e){t=t._toast,tt.globals.fabOffset=0,ht.runAll(ht(t,this.def).default({transform:"translate3d(0, 0, 0)"},{transform:"translate3d(0, "+this.ascension+"px, 0)"}).queue(function(t){e&&e(),t()}),ht(this._getFabs(),this.def).wait(this.delay).queue({transform:"translate3d(0, 0, 0) scale(1)"},this.def),ht(tt.arrayFrom(t.children),this.def).default({opacity:1},{opacity:0}))}},{key:"_getFabs",value:function(){return tt.arrayFrom(document.querySelectorAll("ons-fab[position~=bottom], ons-speed-dial[position~=bottom]")).filter(function(t){return t.visible})}}]),l}(),qs=function(t){function l(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"ease":e,n=t.delay,o=void 0===n?0:n,a=t.duration,s=void 0===a?.35:a;_(this,l);var r=M(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,{timing:i,delay:o,duration:s}));return r.bodyHeight=document.body.clientHeight,Kn.isIPhoneXPortraitPatchActive()?r.liftAmount="calc(100% + 34px)":Kn.isIPhoneXLandscapePatchActive()?r.liftAmount="calc(100% + 21px)":r.liftAmount="100%",r}return k(l,zs),g(l,[{key:"show",value:function(t,e){t=t._toast,ht.runAll(ht(t,this.def).default({transform:"translate3d(0, "+this.liftAmount+", 0)",opacity:0},{transform:"translate3d(0, 0, 0)",opacity:1}).queue(function(t){e&&e(),t()}))}},{key:"hide",value:function(t,e){t=t._toast,ht.runAll(ht(t,this.def).default({transform:"translate3d(0, 0, 0)",opacity:1},{transform:"translate3d(0, "+this.liftAmount+", 0)",opacity:0}).queue(function(t){e&&e(),t()}))}},{key:"_updatePosition",value:function(t){0===parseInt(t.style.top,10)&&(t.style.top=t.style.bottom="")}}]),l}(),Fs=function(t){function l(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.timing,i=void 0===e?"ease":e,n=t.delay,o=void 0===n?0:n,a=t.duration,s=void 0===a?.35:a;_(this,l);var r=M(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,{timing:i,delay:o,duration:s}));return Kn.isIPhoneXPortraitPatchActive()?r.fallAmount="calc(-100% - 44px)":r.fallAmount="-100%",r}return k(l,zs),g(l,[{key:"show",value:function(t,e){t=t._toast,this._updatePosition(t),ht.runAll(ht(t,this.def).default({transform:"translate3d(0, "+this.fallAmount+", 0)",opacity:0},{transform:"translate3d(0, 0, 0)",opacity:1}).queue(function(t){e&&e(),t()}))}},{key:"hide",value:function(e,i){var n=this;e=e._toast,this._updatePosition(e),ht.runAll(ht(e,this.def).default({transform:"translate3d(0, 0, 0)",opacity:1},{transform:"translate3d(0, "+this.fallAmount+", 0)",opacity:0}).queue(function(t){n._updatePosition(e,!0),i&&i(),t()}))}},{key:"_updatePosition",value:function(t,e){var i;i=Kn.isIPhoneXPortraitPatchActive()?"44px":"0",t.style.top!==i&&(t.style.top=i,t.style.bottom="initial")}}]),l}(),Hs={".toast":"toast--*",".toast__message":"toast--*__message",".toast__button":"toast--*__button"},Zs={default:P.isAndroid()?Us:qs,fade:Rs,ascend:Us,lift:qs,fall:Fs,none:zs},Ws=function(t){function e(){_(this,e);var t=M(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._defaultDBB=function(t){return t.callParentHandler()},c(t,function(){return t._compile()}),t}return k(e,eo),g(e,[{key:"_updateAnimatorFactory",value:function(){return this._toast&&(this._toast.style.top=this._toast.style.bottom=""),new A({animators:Zs,baseClass:zs,baseClassName:"ToastAnimator",defaultAnimation:this.getAttribute("animation")})}},{key:"_compile",value:function(){j.prepare(this),this.style.display="none",this.style.zIndex=1e4;var t=tt.findChild(this,".toast");if(!t)for((t=document.createElement("div")).classList.add("toast");this.childNodes[0];)t.appendChild(this.childNodes[0]);var e=tt.findChild(t,".toast__button");if(e||(e=tt.findChild(t,function(t){return tt.match(t,".button")||tt.match(t,"button")}))&&(e.classList.remove("button"),e.classList.add("toast__button"),t.appendChild(e)),!tt.findChild(t,".toast__message")){var i=tt.findChild(t,".message");if(!i){i=document.createElement("div");for(var n=t.childNodes.length-1;0<=n;n--)t.childNodes[n]!==e&&i.insertBefore(t.childNodes[n],i.firstChild)}i.classList.add("toast__message"),t.insertBefore(i,t.firstChild)}t.parentNode!==this&&this.appendChild(t),z.initModifier(this,this._scheme)}},{key:"_scheme",get:function(){return Hs}},{key:"_toast",get:function(){return tt.findChild(this,".toast")}}],[{key:"registerAnimator",value:function(t,e){e.prototype instanceof zs||tt.throw('"Animator" param must inherit OnsToastElement.ToastAnimator'),Zs[t]=e}},{key:"animators",get:function(){return Zs}},{key:"ToastAnimator",get:function(){return zs}}]),e}();o.Toast=Ws,customElements.define("ons-toast",Ws);var Gs,Vs=function(t){function e(){return _(this,e),M(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return k(e,ao),g(e,[{key:"_scheme",get:function(){return{"":"toolbar-button--*"}}},{key:"_defaultClassName",get:function(){return"toolbar-button"}},{key:"_rippleOpt",get:function(){return[this,void 0,{center:"",size:"contain",background:"transparent"}]}}]),e}();return o.ToolbarButton=Vs,customElements.define("ons-toolbar-button",Vs),Gs=ie,window._onsLoaded&&Gs._util.warn("Onsen UI is loaded more than once."),window._onsLoaded=!0,window.addEventListener("load",function(){Gs.fastClick=ae.attach(document.body);var t="touch-action"in document.body.style;Gs.platform._runOnActualPlatform(function(){Gs.platform.isAndroid()?Gs.fastClick.destroy():Gs.platform.isIOS()&&t&&(Gs.platform.isIOSSafari()||Gs.platform.isWKWebView())&&Gs.fastClick.destroy()})},!1),Gs.ready(function(){Gs.enableDeviceBackButtonHandler(),Gs._defaultDeviceBackButtonHandler=Gs._internal.dbbDispatcher.createHandler(window.document.body,function(){Object.hasOwnProperty.call(navigator,"app")?navigator.app.exitApp():console.warn("Could not close the app. Is 'cordova.js' included?\nError: 'window.navigator.app' is undefined.")}),document.body._gestureDetector=new Gs.GestureDetector(document.body,{passive:!0}),Gs.platform.isWebView()||document.body.addEventListener("keydown",function(t){27===t.keyCode&&Gs.fireDeviceBackButtonEvent()}),Gs._setupLoadingPlaceHolders()}),Viewport.setup(),window._superSecretOns=ie}),function(r,_,b){var t,k={version:"1.0.3"};"object"==typeof module&&"object"==typeof module.exports?module.exports=k:"function"==typeof define&&define.amd&&define(k),void 0!==r&&(t=r.L,k.noConflict=function(){return r.L=t,this},r.L=k),k.Util={extend:function(t){var e,i,n,o;for(i=1,n=arguments.length;i<n;i++)for(e in o=arguments[i])t[e]=o[e];return t},create:Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}(),bind:function(t,e){var i=Array.prototype.slice;if(t.bind)return t.bind.apply(t,i.call(arguments,1));var n=i.call(arguments,2);return function(){return t.apply(e,n.length?n.concat(i.call(arguments)):arguments)}},stamp:function(t){return t._leaflet_id=t._leaflet_id||++k.Util.lastId,t._leaflet_id},lastId:0,throttle:function(t,e,i){var n,o,a,s;return s=function(){n=!1,o&&(a.apply(i,o),o=!1)},a=function(){n?o=arguments:(t.apply(i,arguments),setTimeout(s,e),n=!0)}},wrapNum:function(t,e,i){var n=e[1],o=e[0],a=n-o;return t===n&&i?t:((t-o)%a+a)%a+o},falseFn:function(){return!1},formatNum:function(t,e){var i=Math.pow(10,e||5);return Math.round(t*i)/i},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},splitWords:function(t){return k.Util.trim(t).split(/\s+/)},setOptions:function(t,e){for(var i in t.hasOwnProperty("options")||(t.options=t.options?k.Util.create(t.options):{}),e)t.options[i]=e[i];return t.options},getParamString:function(t,e,i){var n=[];for(var o in t)n.push(encodeURIComponent(i?o.toUpperCase():o)+"="+encodeURIComponent(t[o]));return(e&&-1!==e.indexOf("?")?"&":"?")+n.join("&")},template:function(t,n){return t.replace(k.Util.templateRe,function(t,e){var i=n[e];if(i===b)throw new Error("No value provided for variable "+t);return"function"==typeof i&&(i=i(n)),i})},templateRe:/\{ *([\w_\-]+) *\}/g,isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},indexOf:function(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function t(t){return r["webkit"+t]||r["moz"+t]||r["ms"+t]}function n(t){var e=+new Date,i=Math.max(0,16-(e-o));return o=e+i,r.setTimeout(t,i)}var o=0,a=r.requestAnimationFrame||t("RequestAnimationFrame")||n,e=r.cancelAnimationFrame||t("CancelAnimationFrame")||t("CancelRequestAnimationFrame")||function(t){r.clearTimeout(t)};k.Util.requestAnimFrame=function(t,e,i){return i&&a===n?void t.call(e):a.call(r,k.bind(t,e))},k.Util.cancelAnimFrame=function(t){t&&e.call(r,t)}}(),k.extend=k.Util.extend,k.bind=k.Util.bind,k.stamp=k.Util.stamp,k.setOptions=k.Util.setOptions,k.Class=function(){},k.Class.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=e.__super__=this.prototype,n=k.Util.create(i);for(var o in(n.constructor=e).prototype=n,this)this.hasOwnProperty(o)&&"prototype"!==o&&(e[o]=this[o]);return t.statics&&(k.extend(e,t.statics),delete t.statics),t.includes&&(k.Util.extend.apply(null,[n].concat(t.includes)),delete t.includes),n.options&&(t.options=k.Util.extend(k.Util.create(n.options),t.options)),k.extend(n,t),n._initHooks=[],n.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=n._initHooks.length;t<e;t++)n._initHooks[t].call(this)}},e},k.Class.include=function(t){return k.extend(this.prototype,t),this},k.Class.mergeOptions=function(t){return k.extend(this.prototype.options,t),this},k.Class.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),i="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i),this},k.Evented=k.Class.extend({on:function(t,e,i){if("object"==typeof t)for(var n in t)this._on(n,t[n],e);else for(var o=0,a=(t=k.Util.splitWords(t)).length;o<a;o++)this._on(t[o],e,i);return this},off:function(t,e,i){if(t)if("object"==typeof t)for(var n in t)this._off(n,t[n],e);else for(var o=0,a=(t=k.Util.splitWords(t)).length;o<a;o++)this._off(t[o],e,i);else delete this._events;return this},_on:function(t,e,i){this._events=this._events||{};var n=this._events[t];n||(n=[],this._events[t]=n),i===this&&(i=b);for(var o={fn:e,ctx:i},a=n,s=0,r=a.length;s<r;s++)if(a[s].fn===e&&a[s].ctx===i)return;a.push(o)},_off:function(t,e,i){var n,o,a;if(this._events&&(n=this._events[t])){if(!e){for(o=0,a=n.length;o<a;o++)n[o].fn=k.Util.falseFn;return void delete this._events[t]}if(i===this&&(i=b),n)for(o=0,a=n.length;o<a;o++){var s=n[o];if(s.ctx===i&&s.fn===e)return s.fn=k.Util.falseFn,this._firingCount&&(this._events[t]=n=n.slice()),void n.splice(o,1)}}},fire:function(t,e,i){if(!this.listens(t,i))return this;var n=k.Util.extend({},e,{type:t,target:this});if(this._events){var o=this._events[t];if(o){this._firingCount=this._firingCount+1||1;for(var a=0,s=o.length;a<s;a++){var r=o[a];r.fn.call(r.ctx||this,n)}this._firingCount--}}return i&&this._propagateEvent(n),this},listens:function(t,e){var i=this._events&&this._events[t];if(i&&i.length)return!0;if(e)for(var n in this._eventParents)if(this._eventParents[n].listens(t,e))return!0;return!1},once:function(t,e,i){if("object"==typeof t){for(var n in t)this.once(n,t[n],e);return this}var o=k.bind(function(){this.off(t,e,i).off(t,o,i)},this);return this.on(t,e,i).on(t,o,i)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[k.stamp(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[k.stamp(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,k.extend({layer:t.target},t),!0)}});var e,i,n,o,a,s,l,h,u,c,d,p,f,m,g,v,y,w,M,E=k.Evented.prototype;E.addEventListener=E.on,E.removeEventListener=E.clearAllEventListeners=E.off,E.addOneTimeEventListener=E.once,E.fireEvent=E.fire,E.hasEventListeners=E.listens,k.Mixin={Events:E},n=navigator.userAgent.toLowerCase(),o=_.documentElement,a="ActiveXObject"in r,s=-1!==n.indexOf("webkit"),l=-1!==n.indexOf("phantom"),h=-1!==n.search("android [23]"),u=-1!==n.indexOf("chrome"),c=-1!==n.indexOf("gecko")&&!s&&!r.opera&&!a,d=0===navigator.platform.indexOf("Win"),p="undefined"!=typeof orientation||-1!==n.indexOf("mobile"),f=!r.PointerEvent&&r.MSPointerEvent,m=r.PointerEvent||f,g=a&&"transition"in o.style,v="WebKitCSSMatrix"in r&&"m11"in new r.WebKitCSSMatrix&&!h,y="MozPerspective"in o.style,w="OTransition"in o.style,M=!r.L_NO_TOUCH&&(m||"ontouchstart"in r||r.DocumentTouch&&_ instanceof r.DocumentTouch),k.Browser={ie:a,ielt9:a&&!_.addEventListener,edge:"msLaunchUri"in navigator&&!("documentMode"in _),webkit:s,gecko:c,android:-1!==n.indexOf("android"),android23:h,chrome:u,safari:!u&&-1!==n.indexOf("safari"),win:d,ie3d:g,webkit3d:v,gecko3d:y,opera12:w,any3d:!r.L_DISABLE_3D&&(g||v||y)&&!w&&!l,mobile:p,mobileWebkit:p&&s,mobileWebkit3d:p&&v,mobileOpera:p&&r.opera,mobileGecko:p&&c,touch:!!M,msPointer:!!f,pointer:!!m,retina:1<(r.devicePixelRatio||r.screen.deviceXDPI/r.screen.logicalXDPI)},k.Point=function(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e},k.Point.prototype={clone:function(){return new k.Point(this.x,this.y)},add:function(t){return this.clone()._add(k.point(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(k.point(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new k.Point(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new k.Point(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},distanceTo:function(t){var e=(t=k.point(t)).x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},equals:function(t){return(t=k.point(t)).x===this.x&&t.y===this.y},contains:function(t){return t=k.point(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+k.Util.formatNum(this.x)+", "+k.Util.formatNum(this.y)+")"}},k.point=function(t,e,i){return t instanceof k.Point?t:k.Util.isArray(t)?new k.Point(t[0],t[1]):t===b||null===t?t:"object"==typeof t&&"x"in t&&"y"in t?new k.Point(t.x,t.y):new k.Point(t,e,i)},k.Bounds=function(t,e){if(t)for(var i=e?[t,e]:t,n=0,o=i.length;n<o;n++)this.extend(i[n])},k.Bounds.prototype={extend:function(t){return t=k.point(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new k.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new k.Point(this.min.x,this.max.y)},getTopRight:function(){return new k.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,i;return(t="number"==typeof t[0]||t instanceof k.Point?k.point(t):k.bounds(t))instanceof k.Bounds?(e=t.min,i=t.max):e=i=t,e.x>=this.min.x&&i.x<=this.max.x&&e.y>=this.min.y&&i.y<=this.max.y},intersects:function(t){t=k.bounds(t);var e=this.min,i=this.max,n=t.min,o=t.max,a=o.x>=e.x&&n.x<=i.x,s=o.y>=e.y&&n.y<=i.y;return a&&s},overlaps:function(t){t=k.bounds(t);var e=this.min,i=this.max,n=t.min,o=t.max,a=o.x>e.x&&n.x<i.x,s=o.y>e.y&&n.y<i.y;return a&&s},isValid:function(){return!(!this.min||!this.max)}},k.bounds=function(t,e){return!t||t instanceof k.Bounds?t:new k.Bounds(t,e)},k.Transformation=function(t,e,i,n){this._a=t,this._b=e,this._c=i,this._d=n},k.Transformation.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new k.Point((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}},k.DomUtil={get:function(t){return"string"==typeof t?_.getElementById(t):t},getStyle:function(t,e){var i=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!i||"auto"===i)&&_.defaultView){var n=_.defaultView.getComputedStyle(t,null);i=n?n[e]:null}return"auto"===i?null:i},create:function(t,e,i){var n=_.createElement(t);return n.className=e||"",i&&i.appendChild(n),n},remove:function(t){var e=t.parentNode;e&&e.removeChild(t)},empty:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},toFront:function(t){t.parentNode.appendChild(t)},toBack:function(t){var e=t.parentNode;e.insertBefore(t,e.firstChild)},hasClass:function(t,e){if(t.classList!==b)return t.classList.contains(e);var i=k.DomUtil.getClass(t);return 0<i.length&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(i)},addClass:function(t,e){if(t.classList!==b)for(var i=k.Util.splitWords(e),n=0,o=i.length;n<o;n++)t.classList.add(i[n]);else if(!k.DomUtil.hasClass(t,e)){var a=k.DomUtil.getClass(t);k.DomUtil.setClass(t,(a?a+" ":"")+e)}},removeClass:function(t,e){t.classList!==b?t.classList.remove(e):k.DomUtil.setClass(t,k.Util.trim((" "+k.DomUtil.getClass(t)+" ").replace(" "+e+" "," ")))},setClass:function(t,e){t.className.baseVal===b?t.className=e:t.className.baseVal=e},getClass:function(t){return t.className.baseVal===b?t.className:t.className.baseVal},setOpacity:function(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&k.DomUtil._setOpacityIE(t,e)},_setOpacityIE:function(t,e){var i=!1,n="DXImageTransform.Microsoft.Alpha";try{i=t.filters.item(n)}catch(t){if(1===e)return}e=Math.round(100*e),i?(i.Enabled=100!==e,i.Opacity=e):t.style.filter+=" progid:"+n+"(opacity="+e+")"},testProp:function(t){for(var e=_.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1},setTransform:function(t,e,i){var n=e||new k.Point(0,0);t.style[k.DomUtil.TRANSFORM]=(k.Browser.ie3d?"translate("+n.x+"px,"+n.y+"px)":"translate3d("+n.x+"px,"+n.y+"px,0)")+(i?" scale("+i+")":"")},setPosition:function(t,e){t._leaflet_pos=e,k.Browser.any3d?k.DomUtil.setTransform(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")},getPosition:function(t){return t._leaflet_pos||new k.Point(0,0)}},function(){k.DomUtil.TRANSFORM=k.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]);var t=k.DomUtil.TRANSITION=k.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);if(k.DomUtil.TRANSITION_END="webkitTransition"===t||"OTransition"===t?t+"End":"transitionend","onselectstart"in _)k.DomUtil.disableTextSelection=function(){k.DomEvent.on(r,"selectstart",k.DomEvent.preventDefault)},k.DomUtil.enableTextSelection=function(){k.DomEvent.off(r,"selectstart",k.DomEvent.preventDefault)};else{var e=k.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);k.DomUtil.disableTextSelection=function(){if(e){var t=_.documentElement.style;this._userSelect=t[e],t[e]="none"}},k.DomUtil.enableTextSelection=function(){e&&(_.documentElement.style[e]=this._userSelect,delete this._userSelect)}}k.DomUtil.disableImageDrag=function(){k.DomEvent.on(r,"dragstart",k.DomEvent.preventDefault)},k.DomUtil.enableImageDrag=function(){k.DomEvent.off(r,"dragstart",k.DomEvent.preventDefault)},k.DomUtil.preventOutline=function(t){for(;-1===t.tabIndex;)t=t.parentNode;t&&t.style&&(k.DomUtil.restoreOutline(),this._outlineElement=t,this._outlineStyle=t.style.outline,t.style.outline="none",k.DomEvent.on(r,"keydown",k.DomUtil.restoreOutline,this))},k.DomUtil.restoreOutline=function(){this._outlineElement&&(this._outlineElement.style.outline=this._outlineStyle,delete this._outlineElement,delete this._outlineStyle,k.DomEvent.off(r,"keydown",k.DomUtil.restoreOutline,this))}}(),k.LatLng=function(t,e,i){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,i!==b&&(this.alt=+i)},k.LatLng.prototype={equals:function(t,e){return!!t&&(t=k.latLng(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(e===b?1e-9:e))},toString:function(t){return"LatLng("+k.Util.formatNum(this.lat,t)+", "+k.Util.formatNum(this.lng,t)+")"},distanceTo:function(t){return k.CRS.Earth.distance(this,k.latLng(t))},wrap:function(){return k.CRS.Earth.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,i=e/Math.cos(Math.PI/180*this.lat);return k.latLngBounds([this.lat-e,this.lng-i],[this.lat+e,this.lng+i])},clone:function(){return new k.LatLng(this.lat,this.lng,this.alt)}},k.latLng=function(t,e,i){return t instanceof k.LatLng?t:k.Util.isArray(t)&&"object"!=typeof t[0]?3===t.length?new k.LatLng(t[0],t[1],t[2]):2===t.length?new k.LatLng(t[0],t[1]):null:t===b||null===t?t:"object"==typeof t&&"lat"in t?new k.LatLng(t.lat,"lng"in t?t.lng:t.lon,t.alt):e===b?null:new k.LatLng(t,e,i)},k.LatLngBounds=function(t,e){if(t)for(var i=e?[t,e]:t,n=0,o=i.length;n<o;n++)this.extend(i[n])},k.LatLngBounds.prototype={extend:function(t){var e,i,n=this._southWest,o=this._northEast;if(t instanceof k.LatLng)i=e=t;else{if(!(t instanceof k.LatLngBounds))return t?this.extend(k.latLng(t)||k.latLngBounds(t)):this;if(e=t._southWest,i=t._northEast,!e||!i)return this}return n||o?(n.lat=Math.min(e.lat,n.lat),n.lng=Math.min(e.lng,n.lng),o.lat=Math.max(i.lat,o.lat),o.lng=Math.max(i.lng,o.lng)):(this._southWest=new k.LatLng(e.lat,e.lng),this._northEast=new k.LatLng(i.lat,i.lng)),this},pad:function(t){var e=this._southWest,i=this._northEast,n=Math.abs(e.lat-i.lat)*t,o=Math.abs(e.lng-i.lng)*t;return new k.LatLngBounds(new k.LatLng(e.lat-n,e.lng-o),new k.LatLng(i.lat+n,i.lng+o))},getCenter:function(){return new k.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new k.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new k.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof k.LatLng||"lat"in t?k.latLng(t):k.latLngBounds(t);var e,i,n=this._southWest,o=this._northEast;return t instanceof k.LatLngBounds?(e=t.getSouthWest(),i=t.getNorthEast()):e=i=t,e.lat>=n.lat&&i.lat<=o.lat&&e.lng>=n.lng&&i.lng<=o.lng},intersects:function(t){t=k.latLngBounds(t);var e=this._southWest,i=this._northEast,n=t.getSouthWest(),o=t.getNorthEast(),a=o.lat>=e.lat&&n.lat<=i.lat,s=o.lng>=e.lng&&n.lng<=i.lng;return a&&s},overlaps:function(t){t=k.latLngBounds(t);var e=this._southWest,i=this._northEast,n=t.getSouthWest(),o=t.getNorthEast(),a=o.lat>e.lat&&n.lat<i.lat,s=o.lng>e.lng&&n.lng<i.lng;return a&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t){return!!t&&(t=k.latLngBounds(t),this._southWest.equals(t.getSouthWest())&&this._northEast.equals(t.getNorthEast()))},isValid:function(){return!(!this._southWest||!this._northEast)}},k.latLngBounds=function(t,e){return t instanceof k.LatLngBounds?t:new k.LatLngBounds(t,e)},k.Projection={},k.Projection.LonLat={project:function(t){return new k.Point(t.lng,t.lat)},unproject:function(t){return new k.LatLng(t.y,t.x)},bounds:k.bounds([-180,-90],[180,90])},k.Projection.SphericalMercator={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,i=this.MAX_LATITUDE,n=Math.max(Math.min(i,t.lat),-i),o=Math.sin(n*e);return new k.Point(this.R*t.lng*e,this.R*Math.log((1+o)/(1-o))/2)},unproject:function(t){var e=180/Math.PI;return new k.LatLng((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:(i=6378137*Math.PI,k.bounds([-i,-i],[i,i]))},k.CRS={latLngToPoint:function(t,e){var i=this.projection.project(t),n=this.scale(e);return this.transformation._transform(i,n)},pointToLatLng:function(t,e){var i=this.scale(e),n=this.transformation.untransform(t,i);return this.projection.unproject(n)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,i=this.scale(t),n=this.transformation.transform(e.min,i),o=this.transformation.transform(e.max,i);return k.bounds(n,o)},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?k.Util.wrapNum(t.lng,this.wrapLng,!0):t.lng,i=this.wrapLat?k.Util.wrapNum(t.lat,this.wrapLat,!0):t.lat,n=t.alt;return k.latLng(i,e,n)},wrapLatLngBounds:function(t){var e=t.getCenter(),i=this.wrapLatLng(e),n=e.lat-i.lat,o=e.lng-i.lng;if(0===n&&0===o)return t;var a=t.getSouthWest(),s=t.getNorthEast(),r=k.latLng({lat:a.lat-n,lng:a.lng-o}),l=k.latLng({lat:s.lat-n,lng:s.lng-o});return new k.LatLngBounds(r,l)}},k.CRS.Simple=k.extend({},k.CRS,{projection:k.Projection.LonLat,transformation:new k.Transformation(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var i=e.lng-t.lng,n=e.lat-t.lat;return Math.sqrt(i*i+n*n)},infinite:!0}),k.CRS.Earth=k.extend({},k.CRS,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var i=Math.PI/180,n=t.lat*i,o=e.lat*i,a=Math.sin(n)*Math.sin(o)+Math.cos(n)*Math.cos(o)*Math.cos((e.lng-t.lng)*i);return this.R*Math.acos(Math.min(a,1))}}),k.CRS.EPSG3857=k.extend({},k.CRS.Earth,{code:"EPSG:3857",projection:k.Projection.SphericalMercator,transformation:(e=.5/(Math.PI*k.Projection.SphericalMercator.R),new k.Transformation(e,.5,-e,.5))}),k.CRS.EPSG900913=k.extend({},k.CRS.EPSG3857,{code:"EPSG:900913"}),k.CRS.EPSG4326=k.extend({},k.CRS.Earth,{code:"EPSG:4326",projection:k.Projection.LonLat,transformation:new k.Transformation(1/180,1,-1/180,.5)}),k.Map=k.Evented.extend({options:{crs:k.CRS.EPSG3857,center:b,zoom:b,minZoom:b,maxZoom:b,layers:[],maxBounds:b,renderer:b,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=k.setOptions(this,e),this._initContainer(t),this._initLayout(),this._onResize=k.bind(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.zoom!==b&&(this._zoom=this._limitZoom(e.zoom)),e.center&&e.zoom!==b&&this.setView(k.latLng(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._zoomAnimated=k.DomUtil.TRANSITION&&k.Browser.any3d&&!k.Browser.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),k.DomEvent.on(this._proxy,k.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,i){if((e=e===b?this._zoom:this._limitZoom(e),t=this._limitCenter(k.latLng(t),e,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&!0!==i)&&(i.animate!==b&&(i.zoom=k.extend({animate:i.animate},i.zoom),i.pan=k.extend({animate:i.animate,duration:i.duration},i.pan)),this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,i.zoom):this._tryAnimatedPan(t,i.pan)))return clearTimeout(this._sizeTimer),this;return this._resetView(t,e),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(k.Browser.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(k.Browser.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,i){var n=this.getZoomScale(e),o=this.getSize().divideBy(2),a=(t instanceof k.Point?t:this.latLngToContainerPoint(t)).subtract(o).multiplyBy(1-1/n),s=this.containerPointToLatLng(o.add(a));return this.setView(s,e,{zoom:i})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():k.latLngBounds(t);var i=k.point(e.paddingTopLeft||e.padding||[0,0]),n=k.point(e.paddingBottomRight||e.padding||[0,0]),o=this.getBoundsZoom(t,!1,i.add(n));o="number"==typeof e.maxZoom?Math.min(e.maxZoom,o):o;var a=n.subtract(i).divideBy(2),s=this.project(t.getSouthWest(),o),r=this.project(t.getNorthEast(),o);return{center:this.unproject(s.add(r).divideBy(2).add(a),o),zoom:o}},fitBounds:function(t,e){if(!(t=k.latLngBounds(t)).isValid())throw new Error("Bounds are not valid.");var i=this._getBoundsCenterZoom(t,e);return this.setView(i.center,i.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(e=e||{},!(t=k.point(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new k.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){k.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,i,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(a,s,t){function e(t){var e=(o*o-d*d+(t?-1:1)*m*m*p*p)/(2*(t?o:d)*m*p),i=Math.sqrt(e*e+1)-e;return i<1e-9?-18:Math.log(i)}function i(t){return(Math.exp(t)-Math.exp(-t))/2}function r(t){return(Math.exp(t)+Math.exp(-t))/2}function l(t){return d*(r(_)*(i(e=_+f*t)/r(e))-i(_))/m;var e}if(!1===(t=t||{}).animate||!k.Browser.any3d)return this.setView(a,s,t);this._stop();var h=this.project(this.getCenter()),u=this.project(a),n=this.getSize(),c=this._zoom;a=k.latLng(a),s=s===b?c:s;var d=Math.max(n.x,n.y),o=d*this.getZoomScale(c,s),p=u.distanceTo(h)||1,f=1.42,m=f*f,_=e(0),g=Date.now(),v=(e(1)-_)/f,y=t.duration?1e3*t.duration:1e3*v*.8;return this._moveStart(!0),function t(){var e,i,n=(Date.now()-g)/y,o=(e=n,(1-Math.pow(1-e,1.5))*v);n<=1?(this._flyToFrame=k.Util.requestAnimFrame(t,this),this._move(this.unproject(h.add(u.subtract(h).multiplyBy(l(o)/p)),c),this.getScaleZoom(d/(i=o,d*(r(_)/r(_+f*i))),c),{flyTo:!0})):this._move(a,s)._moveEnd(!0)}.call(this),this},flyToBounds:function(t,e){var i=this._getBoundsCenterZoom(t,e);return this.flyTo(i.center,i.zoom,e)},setMaxBounds:function(t){return(t=k.latLngBounds(t)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){return this.options.minZoom=t,this._loaded&&this.getZoom()<this.options.minZoom?this.setZoom(t):this},setMaxZoom:function(t){return this.options.maxZoom=t,this._loaded&&this.getZoom()>this.options.maxZoom?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var i=this.getCenter(),n=this._limitCenter(i,this._zoom,k.latLngBounds(t));return i.equals(n)||this.panTo(n,e),this._enforcingBounds=!1,this},invalidateSize:function(t){if(!this._loaded)return this;t=k.extend({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),n=e.divideBy(2).round(),o=i.divideBy(2).round(),a=n.subtract(o);return a.x||a.y?(t.animate&&t.pan?this.panBy(a):(t.pan&&this._rawPanBy(a),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(k.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:i})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=k.extend({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=k.bind(this._handleGeolocationResponse,this),i=k.bind(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,i,t):navigator.geolocation.getCurrentPosition(e,i,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,i=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+i+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,i=t.coords.longitude,n=new k.LatLng(e,i),o=n.toBounds(t.coords.accuracy),a=this._locateOptions;if(a.setView){var s=this.getBoundsZoom(o);this.setView(n,a.maxZoom?Math.min(s,a.maxZoom):s)}var r={latlng:n,bounds:o,timestamp:t.timestamp};for(var l in t.coords)"number"==typeof t.coords[l]&&(r[l]=t.coords[l]);this.fire("locationfound",r)},addHandler:function(t,e){if(!e)return this;var i=this[t]=new e(this);return this._handlers.push(i),this.options[t]&&i.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=b,this._containerId=b}for(var t in k.DomUtil.remove(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();return this},createPane:function(t,e){var i="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),n=k.DomUtil.create("div",i,e||this._mapPane);return t&&(this._panes[t]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),i=this.unproject(t.getTopRight());return new k.LatLngBounds(e,i)},getMinZoom:function(){return this.options.minZoom===b?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===b?this._layersMaxZoom===b?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,i){t=k.latLngBounds(t),i=k.point(i||[0,0]);var n=this.getZoom()||0,o=this.getMinZoom(),a=this.getMaxZoom(),s=t.getNorthWest(),r=t.getSouthEast(),l=this.getSize().subtract(i),h=k.bounds(this.project(r,n),this.project(s,n)).getSize(),u=k.Browser.any3d?this.options.zoomSnap:1,c=Math.min(l.x/h.x,l.y/h.y);return n=this.getScaleZoom(c,n),u&&(n=Math.round(n/(u/100))*(u/100),n=e?Math.ceil(n/u)*u:Math.floor(n/u)*u),Math.max(o,Math.min(a,n))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new k.Point(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var i=this._getTopLeftPoint(t,e);return new k.Bounds(i,i.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===b?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var i=this.options.crs;return e=e===b?this._zoom:e,i.scale(t)/i.scale(e)},getScaleZoom:function(t,e){var i=this.options.crs;e=e===b?this._zoom:e;var n=i.zoom(t*i.scale(e));return isNaN(n)?1/0:n},project:function(t,e){return e=e===b?this._zoom:e,this.options.crs.latLngToPoint(k.latLng(t),e)},unproject:function(t,e){return e=e===b?this._zoom:e,this.options.crs.pointToLatLng(k.point(t),e)},layerPointToLatLng:function(t){var e=k.point(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(k.latLng(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(k.latLng(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(k.latLngBounds(t))},distance:function(t,e){return this.options.crs.distance(k.latLng(t),k.latLng(e))},containerPointToLayerPoint:function(t){return k.point(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return k.point(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(k.point(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(k.latLng(t)))},mouseEventToContainerPoint:function(t){return k.DomEvent.getMousePosition(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=k.DomUtil.get(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");k.DomEvent.addListener(e,"scroll",this._onScroll,this),this._containerId=k.Util.stamp(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&k.Browser.any3d,k.DomUtil.addClass(t,"leaflet-container"+(k.Browser.touch?" leaflet-touch":"")+(k.Browser.retina?" leaflet-retina":"")+(k.Browser.ielt9?" leaflet-oldie":"")+(k.Browser.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=k.DomUtil.getStyle(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),k.DomUtil.setPosition(this._mapPane,new k.Point(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(k.DomUtil.addClass(t.markerPane,"leaflet-zoom-hide"),k.DomUtil.addClass(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){k.DomUtil.setPosition(this._mapPane,new k.Point(0,0));var i=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var n=this._zoom!==e;this._moveStart(n)._move(t,e)._moveEnd(n),this.fire("viewreset"),i&&this.fire("load")},_moveStart:function(t){return t&&this.fire("zoomstart"),this.fire("movestart")},_move:function(t,e,i){e===b&&(e=this._zoom);var n=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(n||i&&i.pinch)&&this.fire("zoom",i),this.fire("move",i)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return k.Util.cancelAnimFrame(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){k.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){if(k.DomEvent){this._targets={},this._targets[k.stamp(this._container)]=this;var e=t?"off":"on";k.DomEvent[e](this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&k.DomEvent[e](r,"resize",this._onResize,this),k.Browser.any3d&&this.options.transform3DLimit&&this[e]("moveend",this._onMoveEnd)}},_onResize:function(){k.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=k.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var i,n=[],o="mouseout"===e||"mouseover"===e,a=t.target||t.srcElement,s=!1;a;){if((i=this._targets[k.stamp(a)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(i)){s=!0;break}if(i&&i.listens(e,!0)){if(o&&!k.DomEvent._isExternalTarget(a,t))break;if(n.push(i),o)break}if(a===this._container)break;a=a.parentNode}return n.length||s||o||!k.DomEvent._isExternalTarget(a,t)||(n=[this]),n},_handleDOMEvent:function(t){if(this._loaded&&!k.DomEvent._skipped(t)){var e="keypress"===t.type&&13===t.keyCode?"click":t.type;"mousedown"===e&&k.DomUtil.preventOutline(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_fireDOMEvent:function(t,e,i){if("click"===t.type){var n=k.Util.extend({},t);n.type="preclick",this._fireDOMEvent(n,n.type,i)}if(!t._stopped&&(i=(i||[]).concat(this._findEventTargets(t,e))).length){var o=i[0];"contextmenu"===e&&o.listens(e,!0)&&k.DomEvent.preventDefault(t);var a={originalEvent:t};if("keypress"!==t.type){var s=o instanceof k.Marker;a.containerPoint=s?this.latLngToContainerPoint(o.getLatLng()):this.mouseEventToContainerPoint(t),a.layerPoint=this.containerPointToLayerPoint(a.containerPoint),a.latlng=s?o.getLatLng():this.layerPointToLatLng(a.layerPoint)}for(var r=0;r<i.length;r++)if(i[r].fire(e,a,!0),a.originalEvent._stopped||i[r].options.nonBubblingEvents&&-1!==k.Util.indexOf(i[r].options.nonBubblingEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return k.DomUtil.getPosition(this._mapPane)||new k.Point(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&e!==b?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var i=this.getSize()._divideBy(2);return this.project(t,e)._subtract(i)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,i){var n=this._getNewPixelOrigin(i,e);return this.project(t,e)._subtract(n)},_latLngBoundsToNewLayerBounds:function(t,e,i){var n=this._getNewPixelOrigin(i,e);return k.bounds([this.project(t.getSouthWest(),e)._subtract(n),this.project(t.getNorthWest(),e)._subtract(n),this.project(t.getSouthEast(),e)._subtract(n),this.project(t.getNorthEast(),e)._subtract(n)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,i){if(!i)return t;var n=this.project(t,e),o=this.getSize().divideBy(2),a=new k.Bounds(n.subtract(o),n.add(o)),s=this._getBoundsOffset(a,i,e);return s.round().equals([0,0])?t:this.unproject(n.add(s),e)},_limitOffset:function(t,e){if(!e)return t;var i=this.getPixelBounds(),n=new k.Bounds(i.min.add(t),i.max.add(t));return t.add(this._getBoundsOffset(n,e))},_getBoundsOffset:function(t,e,i){var n=k.bounds(this.project(e.getNorthEast(),i),this.project(e.getSouthWest(),i)),o=n.min.subtract(t.min),a=n.max.subtract(t.max),s=this._rebound(o.x,-a.x),r=this._rebound(o.y,-a.y);return new k.Point(s,r)},_rebound:function(t,e){return 0<t+e?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),i=this.getMaxZoom(),n=k.Browser.any3d?this.options.zoomSnap:1;return n&&(t=Math.round(t/n)*n),Math.max(e,Math.min(i,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){k.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var i=this._getCenterOffset(t)._floor();return!(!0!==(e&&e.animate)&&!this.getSize().contains(i)||(this.panBy(i,e),0))},_createAnimProxy:function(){var n=this._proxy=k.DomUtil.create("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(t){var e=k.DomUtil.TRANSFORM,i=n.style[e];k.DomUtil.setTransform(n,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),i===n.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var t=this.getCenter(),e=this.getZoom();k.DomUtil.setTransform(n,this.project(t,e),this.getZoomScale(e,1))},this)},_catchTransitionEnd:function(t){this._animatingZoom&&0<=t.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||!1===i.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var n=this.getZoomScale(e),o=this._getCenterOffset(t)._divideBy(1-1/n);return!(!0!==i.animate&&!this.getSize().contains(o)||(k.Util.requestAnimFrame(function(){this._moveStart(!0)._animateZoom(t,e,!0)},this),0))},_animateZoom:function(t,e,i,n){i&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,k.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:n}),setTimeout(k.bind(this._onZoomTransitionEnd,this),250)},_onZoomTransitionEnd:function(){this._animatingZoom&&(k.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),k.Util.requestAnimFrame(function(){this._moveEnd(!0)},this))}}),k.map=function(t,e){return new k.Map(t,e)},k.Layer=k.Evented.extend({options:{pane:"overlayPane",nonBubblingEvents:[],attribution:null},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[k.stamp(t)]=this},removeInteractiveTarget:function(t){return delete this._map._targets[k.stamp(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var i=this.getEvents();e.on(i,this),this.once("remove",function(){e.off(i,this)},this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}}),k.Map.include({addLayer:function(t){var e=k.stamp(t);return this._layers[e]||((this._layers[e]=t)._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=k.stamp(t);return this._layers[e]&&(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null),this},hasLayer:function(t){return!!t&&k.stamp(t)in this._layers},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},_addLayers:function(t){for(var e=0,i=(t=t?k.Util.isArray(t)?t:[t]:[]).length;e<i;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[k.stamp(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=k.stamp(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,i=this._getZoomSpan();for(var n in this._zoomBoundLayers){var o=this._zoomBoundLayers[n].options;t=o.minZoom===b?t:Math.min(t,o.minZoom),e=o.maxZoom===b?e:Math.max(e,o.maxZoom)}this._layersMaxZoom=e===-1/0?b:e,this._layersMinZoom=t===1/0?b:t,i!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===b&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===b&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var x,P="_leaflet_events";k.DomEvent={on:function(t,e,i,n){if("object"==typeof e)for(var o in e)this._on(t,o,e[o],i);else for(var a=0,s=(e=k.Util.splitWords(e)).length;a<s;a++)this._on(t,e[a],i,n);return this},off:function(t,e,i,n){if("object"==typeof e)for(var o in e)this._off(t,o,e[o],i);else for(var a=0,s=(e=k.Util.splitWords(e)).length;a<s;a++)this._off(t,e[a],i,n);return this},_on:function(e,t,i,n){var o=t+k.stamp(i)+(n?"_"+k.stamp(n):"");if(e[P]&&e[P][o])return this;var a=function(t){return i.call(n||e,t||r.event)},s=a;return k.Browser.pointer&&0===t.indexOf("touch")?this.addPointerListener(e,t,a,o):!k.Browser.touch||"dblclick"!==t||!this.addDoubleTapListener||k.Browser.pointer&&k.Browser.chrome?"addEventListener"in e?"mousewheel"===t?e.addEventListener("onwheel"in e?"wheel":"mousewheel",a,!1):"mouseenter"===t||"mouseleave"===t?(a=function(t){t=t||r.event,k.DomEvent._isExternalTarget(e,t)&&s(t)},e.addEventListener("mouseenter"===t?"mouseover":"mouseout",a,!1)):("click"===t&&k.Browser.android&&(a=function(t){return k.DomEvent._filterClick(t,s)}),e.addEventListener(t,a,!1)):"attachEvent"in e&&e.attachEvent("on"+t,a):this.addDoubleTapListener(e,a,o),e[P]=e[P]||{},e[P][o]=a,this},_off:function(t,e,i,n){var o=e+k.stamp(i)+(n?"_"+k.stamp(n):""),a=t[P]&&t[P][o];return a&&(k.Browser.pointer&&0===e.indexOf("touch")?this.removePointerListener(t,e,o):k.Browser.touch&&"dblclick"===e&&this.removeDoubleTapListener?this.removeDoubleTapListener(t,o):"removeEventListener"in t?"mousewheel"===e?t.removeEventListener("onwheel"in t?"wheel":"mousewheel",a,!1):t.removeEventListener("mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,a,!1):"detachEvent"in t&&t.detachEvent("on"+e,a),t[P][o]=null),this},stopPropagation:function(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,k.DomEvent._skipped(t),this},disableScrollPropagation:function(t){return k.DomEvent.on(t,"mousewheel",k.DomEvent.stopPropagation)},disableClickPropagation:function(t){var e=k.DomEvent.stopPropagation;return k.DomEvent.on(t,k.Draggable.START.join(" "),e),k.DomEvent.on(t,{click:k.DomEvent._fakeStop,dblclick:e})},preventDefault:function(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this},stop:function(t){return k.DomEvent.preventDefault(t).stopPropagation(t)},getMousePosition:function(t,e){if(!e)return new k.Point(t.clientX,t.clientY);var i=e.getBoundingClientRect();return new k.Point(t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop)},_wheelPxFactor:k.Browser.win&&k.Browser.chrome?2:k.Browser.gecko?r.devicePixelRatio:1,getWheelDelta:function(t){return k.Browser.edge?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/k.DomEvent._wheelPxFactor:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0},_skipEvents:{},_fakeStop:function(t){k.DomEvent._skipEvents[t.type]=!0},_skipped:function(t){var e=this._skipEvents[t.type];return this._skipEvents[t.type]=!1,e},_isExternalTarget:function(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch(t){return!1}return i!==t},_filterClick:function(t,e){var i=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,n=k.DomEvent._lastClick&&i-k.DomEvent._lastClick;return n&&100<n&&n<500||t.target._simulatedClick&&!t._simulated?void k.DomEvent.stop(t):(k.DomEvent._lastClick=i,void e(t))}},k.DomEvent.addListener=k.DomEvent.on,k.DomEvent.removeListener=k.DomEvent.off,k.PosAnimation=k.Evented.extend({run:function(t,e,i,n){this.stop(),this._el=t,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(n||.5,.2),this._startPos=k.DomUtil.getPosition(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=k.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,i=1e3*this._duration;e<i?this._runFrame(this._easeOut(e/i),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var i=this._startPos.add(this._offset.multiplyBy(t));e&&i._round(),k.DomUtil.setPosition(this._el,i),this.fire("step")},_complete:function(){k.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),k.Projection.Mercator={R:6378137,R_MINOR:6356752.314245179,bounds:k.bounds([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,i=this.R,n=t.lat*e,o=this.R_MINOR/i,a=Math.sqrt(1-o*o),s=a*Math.sin(n),r=Math.tan(Math.PI/4-n/2)/Math.pow((1-s)/(1+s),a/2);return n=-i*Math.log(Math.max(r,1e-10)),new k.Point(t.lng*e*i,n)},unproject:function(t){for(var e,i=180/Math.PI,n=this.R,o=this.R_MINOR/n,a=Math.sqrt(1-o*o),s=Math.exp(-t.y/n),r=Math.PI/2-2*Math.atan(s),l=0,h=.1;l<15&&1e-7<Math.abs(h);l++)e=a*Math.sin(r),e=Math.pow((1-e)/(1+e),a/2),r+=h=Math.PI/2-2*Math.atan(s*e)-r;return new k.LatLng(r*i,t.x*i/n)}},k.CRS.EPSG3395=k.extend({},k.CRS.Earth,{code:"EPSG:3395",projection:k.Projection.Mercator,transformation:(x=.5/(Math.PI*k.Projection.Mercator.R),new k.Transformation(x,.5,-x,.5))}),k.GridLayer=k.Layer.extend({options:{tileSize:256,opacity:1,updateWhenIdle:k.Browser.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:b,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){k.setOptions(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),k.DomUtil.remove(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=null},bringToFront:function(){return this._map&&(k.DomUtil.toFront(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(k.DomUtil.toBack(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=k.Util.throttle(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return _.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof k.Point?t:new k.Point(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==b&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,i=this.getPane().children,n=-t(-1/0,1/0),o=0,a=i.length;o<a;o++)e=i[o].style.zIndex,i[o]!==this._container&&e&&(n=t(n,+e));isFinite(n)&&(this.options.zIndex=n+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!k.Browser.ielt9){k.DomUtil.setOpacity(this._container,this.options.opacity);var t=+new Date,e=!1,i=!1;for(var n in this._tiles){var o=this._tiles[n];if(o.current&&o.loaded){var a=Math.min(1,(t-o.loaded)/200);k.DomUtil.setOpacity(o.el,a),a<1?e=!0:(o.active&&(i=!0),o.active=!0)}}i&&!this._noPrune&&this._pruneTiles(),e&&(k.Util.cancelAnimFrame(this._fadeFrame),this._fadeFrame=k.Util.requestAnimFrame(this._updateOpacity,this))}},_initContainer:function(){this._container||(this._container=k.DomUtil.create("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(t===b)return b;for(var i in this._levels)this._levels[i].el.children.length||i===t?this._levels[i].el.style.zIndex=e-Math.abs(t-i):(k.DomUtil.remove(this._levels[i].el),this._removeTilesAtZoom(i),delete this._levels[i]);var n=this._levels[t],o=this._map;return n||((n=this._levels[t]={}).el=k.DomUtil.create("div","leaflet-tile-container leaflet-zoom-animated",this._container),n.el.style.zIndex=e,n.origin=o.project(o.unproject(o.getPixelOrigin()),t).round(),n.zoom=t,this._setZoomTransform(n,o.getCenter(),o.getZoom()),k.Util.falseFn(n.el.offsetWidth)),this._level=n},_pruneTiles:function(){if(this._map){var t,e,i=this._map.getZoom();if(i>this.options.maxZoom||i<this.options.minZoom)return void this._removeAllTiles();for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var n=e.coords;this._retainParent(n.x,n.y,n.z,n.z-5)||this._retainChildren(n.x,n.y,n.z,n.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)k.DomUtil.remove(this._levels[t].el),delete this._levels[t];this._removeAllTiles(),this._tileZoom=null},_retainParent:function(t,e,i,n){var o=Math.floor(t/2),a=Math.floor(e/2),s=i-1,r=new k.Point(+o,+a);r.z=+s;var l=this._tileCoordsToKey(r),h=this._tiles[l];return h&&h.active?h.retain=!0:(h&&h.loaded&&(h.retain=!0),n<s&&this._retainParent(o,a,s,n))},_retainChildren:function(t,e,i,n){for(var o=2*t;o<2*t+2;o++)for(var a=2*e;a<2*e+2;a++){var s=new k.Point(o,a);s.z=i+1;var r=this._tileCoordsToKey(s),l=this._tiles[r];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),i+1<n&&this._retainChildren(o,a,i+1,n))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_setView:function(t,e,i,n){var o=Math.round(e);(this.options.maxZoom!==b&&o>this.options.maxZoom||this.options.minZoom!==b&&o<this.options.minZoom)&&(o=b);var a=this.options.updateWhenZooming&&o!==this._tileZoom;n&&!a||(this._tileZoom=o,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),o!==b&&this._update(t),i||this._pruneTiles(),this._noPrune=!!i),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var i in this._levels)this._setZoomTransform(this._levels[i],t,e)},_setZoomTransform:function(t,e,i){var n=this._map.getZoomScale(i,t.zoom),o=t.origin.multiplyBy(n).subtract(this._map._getNewPixelOrigin(e,i)).round();k.Browser.any3d?k.DomUtil.setTransform(t.el,o,n):k.DomUtil.setPosition(t.el,o)},_resetGrid:function(){var t=this._map,e=t.options.crs,i=this._tileSize=this.getTileSize(),n=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],n).x/i.x),Math.ceil(t.project([0,e.wrapLng[1]],n).x/i.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],n).y/i.x),Math.ceil(t.project([e.wrapLat[1],0],n).y/i.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,i=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),n=e.getZoomScale(i,this._tileZoom),o=e.project(t,this._tileZoom).floor(),a=e.getSize().divideBy(2*n);return new k.Bounds(o.subtract(a),o.add(a))},_update:function(t){var e=this._map;if(e){var i=e.getZoom();if(t===b&&(t=e.getCenter()),this._tileZoom!==b){var n=this._getTiledPixelBounds(t),o=this._pxBoundsToTileRange(n),a=o.getCenter(),s=[],r=this.options.keepBuffer,l=new k.Bounds(o.getBottomLeft().subtract([r,-r]),o.getTopRight().add([r,-r]));for(var h in this._tiles){var u=this._tiles[h].coords;u.z===this._tileZoom&&l.contains(k.point(u.x,u.y))||(this._tiles[h].current=!1)}if(1<Math.abs(i-this._tileZoom))return void this._setView(t,i);for(var c=o.min.y;c<=o.max.y;c++)for(var d=o.min.x;d<=o.max.x;d++){var p=new k.Point(d,c);if(p.z=this._tileZoom,this._isValidTile(p)){var f=this._tiles[this._tileCoordsToKey(p)];f?f.current=!0:s.push(p)}}if(s.sort(function(t,e){return t.distanceTo(a)-e.distanceTo(a)}),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));var m=_.createDocumentFragment();for(d=0;d<s.length;d++)this._addTile(s[d],m);this._level.el.appendChild(m)}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var i=this._globalTileRange;if(!e.wrapLng&&(t.x<i.min.x||t.x>i.max.x)||!e.wrapLat&&(t.y<i.min.y||t.y>i.max.y))return!1}if(!this.options.bounds)return!0;var n=this._tileCoordsToBounds(t);return k.latLngBounds(this.options.bounds).overlaps(n)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToBounds:function(t){var e=this._map,i=this.getTileSize(),n=t.scaleBy(i),o=n.add(i),a=e.unproject(n,t.z),s=e.unproject(o,t.z),r=new k.LatLngBounds(a,s);return this.options.noWrap||e.wrapLatLngBounds(r),r},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),i=new k.Point(+e[0],+e[1]);return i.z=+e[2],i},_removeTile:function(t){var e=this._tiles[t];e&&(k.DomUtil.remove(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){k.DomUtil.addClass(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=k.Util.falseFn,t.onmousemove=k.Util.falseFn,k.Browser.ielt9&&this.options.opacity<1&&k.DomUtil.setOpacity(t,this.options.opacity),k.Browser.android&&!k.Browser.android23&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var i=this._getTilePos(t),n=this._tileCoordsToKey(t),o=this.createTile(this._wrapCoords(t),k.bind(this._tileReady,this,t));this._initTile(o),this.createTile.length<2&&k.Util.requestAnimFrame(k.bind(this._tileReady,this,t,null,o)),k.DomUtil.setPosition(o,i),this._tiles[n]={el:o,coords:t,current:!0},e.appendChild(o),this.fire("tileloadstart",{tile:o,coords:t})},_tileReady:function(t,e,i){if(this._map){e&&this.fire("tileerror",{error:e,tile:i,coords:t});var n=this._tileCoordsToKey(t);(i=this._tiles[n])&&(i.loaded=+new Date,this._map._fadeAnimated?(k.DomUtil.setOpacity(i.el,0),k.Util.cancelAnimFrame(this._fadeFrame),this._fadeFrame=k.Util.requestAnimFrame(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),e||(k.DomUtil.addClass(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),k.Browser.ielt9||!this._map._fadeAnimated?k.Util.requestAnimFrame(this._pruneTiles,this):setTimeout(k.bind(this._pruneTiles,this),250)))}},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new k.Point(this._wrapX?k.Util.wrapNum(t.x,this._wrapX):t.x,this._wrapY?k.Util.wrapNum(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new k.Bounds(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),k.gridLayer=function(t){return new k.GridLayer(t)},k.TileLayer=k.GridLayer.extend({options:{minZoom:0,maxZoom:18,maxNativeZoom:null,minNativeZoom:null,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,(e=k.setOptions(this,e)).detectRetina&&k.Browser.retina&&0<e.maxZoom&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),k.Browser.android||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},createTile:function(t,e){var i=_.createElement("img");return k.DomEvent.on(i,"load",k.bind(this._tileOnLoad,this,e,i)),k.DomEvent.on(i,"error",k.bind(this._tileOnError,this,e,i)),this.options.crossOrigin&&(i.crossOrigin=""),i.alt="",i.setAttribute("role","presentation"),i.src=this.getTileUrl(t),i},getTileUrl:function(t){var e={r:k.Browser.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=i),e["-y"]=i}return k.Util.template(this._url,k.extend(e,this.options))},_tileOnLoad:function(t,e){k.Browser.ielt9?setTimeout(k.bind(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,i){var n=this.options.errorTileUrl;n&&e.src!==n&&(e.src=n),t(i,e)},getTileSize:function(){var t=this._map,e=k.GridLayer.prototype.getTileSize.call(this),i=this._tileZoom+this.options.zoomOffset,n=this.options.minNativeZoom,o=this.options.maxNativeZoom;return null!==n&&i<n?e.divideBy(t.getZoomScale(n,i)).round():null!==o&&o<i?e.divideBy(t.getZoomScale(o,i)).round():e},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,i=this.options.zoomReverse,n=this.options.zoomOffset,o=this.options.minNativeZoom,a=this.options.maxNativeZoom;return i&&(t=e-t),t+=n,null!==o&&t<o?o:null!==a&&a<t?a:t},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=k.Util.falseFn,e.onerror=k.Util.falseFn,e.complete||(e.src=k.Util.emptyImageUrl,k.DomUtil.remove(e)))}}),k.tileLayer=function(t,e){return new k.TileLayer(t,e)},k.TileLayer.WMS=k.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var i=k.extend({},this.defaultWmsParams);for(var n in e)n in this.options||(i[n]=e[n]);e=k.setOptions(this,e),i.width=i.height=e.tileSize*(e.detectRetina&&k.Browser.retina?2:1),this.wmsParams=i},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=1.3<=this._wmsVersion?"crs":"srs";this.wmsParams[e]=this._crs.code,k.TileLayer.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToBounds(t),i=this._crs.project(e.getNorthWest()),n=this._crs.project(e.getSouthEast()),o=(1.3<=this._wmsVersion&&this._crs===k.CRS.EPSG4326?[n.y,i.x,i.y,n.x]:[i.x,n.y,n.x,i.y]).join(","),a=k.TileLayer.prototype.getTileUrl.call(this,t);return a+k.Util.getParamString(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+o},setParams:function(t,e){return k.extend(this.wmsParams,t),e||this.redraw(),this}}),k.tileLayer.wms=function(t,e){return new k.TileLayer.WMS(t,e)},k.ImageOverlay=k.Layer.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1},initialize:function(t,e,i){this._url=t,this._bounds=k.latLngBounds(e),k.setOptions(this,i)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(k.DomUtil.addClass(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){k.DomUtil.remove(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&k.DomUtil.toFront(this._image),this},bringToBack:function(){return this._map&&k.DomUtil.toBack(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=t,this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._image=k.DomUtil.create("img","leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":""));t.onselectstart=k.Util.falseFn,t.onmousemove=k.Util.falseFn,t.onload=k.bind(this.fire,this,"load"),this.options.crossOrigin&&(t.crossOrigin=""),t.src=this._url,t.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),i=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;k.DomUtil.setTransform(this._image,i,e)},_reset:function(){var t=this._image,e=new k.Bounds(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),i=e.getSize();k.DomUtil.setPosition(t,e.min),t.style.width=i.x+"px",t.style.height=i.y+"px"},_updateOpacity:function(){k.DomUtil.setOpacity(this._image,this.options.opacity)}}),k.imageOverlay=function(t,e,i){return new k.ImageOverlay(t,e,i)},k.Icon=k.Class.extend({initialize:function(t){k.setOptions(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var i=this._getIconUrl(t);if(!i){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var n=this._createImg(i,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(n,t),n},_setIconStyles:function(t,e){var i=this.options,n=i[e+"Size"];"number"==typeof n&&(n=[n,n]);var o=k.point(n),a=k.point("shadow"===e&&i.shadowAnchor||i.iconAnchor||o&&o.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(i.className||""),a&&(t.style.marginLeft=-a.x+"px",t.style.marginTop=-a.y+"px"),o&&(t.style.width=o.x+"px",t.style.height=o.y+"px")},_createImg:function(t,e){return(e=e||_.createElement("img")).src=t,e},_getIconUrl:function(t){return k.Browser.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),k.icon=function(t){return new k.Icon(t)},k.Icon.Default=k.Icon.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return k.Icon.Default.imagePath||(k.Icon.Default.imagePath=this._detectIconPath()),(this.options.imagePath||k.Icon.Default.imagePath)+k.Icon.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=k.DomUtil.create("div","leaflet-default-icon-path",_.body),e=k.DomUtil.getStyle(t,"background-image")||k.DomUtil.getStyle(t,"backgroundImage");return _.body.removeChild(t),0===e.indexOf("url")?e.replace(/^url\([\"\']?/,"").replace(/marker-icon\.png[\"\']?\)$/,""):""}}),k.Marker=k.Layer.extend({options:{icon:new k.Icon.Default,interactive:!0,draggable:!1,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",nonBubblingEvents:["click","dblclick","mouseover","mouseout","contextmenu"]},initialize:function(t,e){k.setOptions(this,e),this._latlng=k.latLng(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=k.latLng(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),i=t.icon.createIcon(this._icon),n=!1;i!==this._icon&&(this._icon&&this._removeIcon(),n=!0,t.title&&(i.title=t.title),t.alt&&(i.alt=t.alt)),k.DomUtil.addClass(i,e),t.keyboard&&(i.tabIndex="0"),this._icon=i,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var o=t.icon.createShadow(this._shadow),a=!1;o!==this._shadow&&(this._removeShadow(),a=!0),o&&(k.DomUtil.addClass(o,e),o.alt=""),this._shadow=o,t.opacity<1&&this._updateOpacity(),n&&this.getPane().appendChild(this._icon),this._initInteraction(),o&&a&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),k.DomUtil.remove(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&k.DomUtil.remove(this._shadow),this._shadow=null},_setPos:function(t){k.DomUtil.setPosition(this._icon,t),this._shadow&&k.DomUtil.setPosition(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(k.DomUtil.addClass(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),k.Handler.MarkerDrag)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new k.Handler.MarkerDrag(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;k.DomUtil.setOpacity(this._icon,t),this._shadow&&k.DomUtil.setOpacity(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor||[0,0]},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor||[0,0]}}),k.marker=function(t,e){return new k.Marker(t,e)},k.DivIcon=k.Icon.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:_.createElement("div"),i=this.options;if(e.innerHTML=!1!==i.html?i.html:"",i.bgPos){var n=k.point(i.bgPos);e.style.backgroundPosition=-n.x+"px "+-n.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}}),k.divIcon=function(t){return new k.DivIcon(t)},k.DivOverlay=k.Layer.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){k.setOptions(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&k.DomUtil.setOpacity(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&k.DomUtil.setOpacity(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(k.DomUtil.setOpacity(this._container,0),this._removeTimeout=setTimeout(k.bind(k.DomUtil.remove,k.DomUtil,this._container),200)):k.DomUtil.remove(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=k.latLng(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&k.DomUtil.toFront(this._container),this},bringToBack:function(){return this._map&&k.DomUtil.toBack(this._container),this},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=k.point(this.options.offset),i=this._getAnchor();this._zoomAnimated?k.DomUtil.setPosition(this._container,t.add(i)):e=e.add(t).add(i);var n=this._containerBottom=-e.y,o=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=n+"px",this._container.style.left=o+"px"}},_getAnchor:function(){return[0,0]}}),k.Popup=k.DivOverlay.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){k.DivOverlay.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof k.Path||this._source.on("preclick",k.DomEvent.stopPropagation))},onRemove:function(t){k.DivOverlay.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof k.Path||this._source.off("preclick",k.DomEvent.stopPropagation))},getEvents:function(){var t=k.DivOverlay.prototype.getEvents.call(this);return("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=k.DomUtil.create("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated");if(this.options.closeButton){var i=this._closeButton=k.DomUtil.create("a",t+"-close-button",e);i.href="#close",i.innerHTML="&#215;",k.DomEvent.on(i,"click",this._onCloseButtonClick,this)}var n=this._wrapper=k.DomUtil.create("div",t+"-content-wrapper",e);this._contentNode=k.DomUtil.create("div",t+"-content",n),k.DomEvent.disableClickPropagation(n).disableScrollPropagation(this._contentNode).on(n,"contextmenu",k.DomEvent.stopPropagation),this._tipContainer=k.DomUtil.create("div",t+"-tip-container",e),this._tip=k.DomUtil.create("div",t+"-tip",this._tipContainer)},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var i=t.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),e.width=i+1+"px",e.whiteSpace="",e.height="";var n=t.offsetHeight,o=this.options.maxHeight,a="leaflet-popup-scrolled";o&&o<n?(e.height=o+"px",k.DomUtil.addClass(t,a)):k.DomUtil.removeClass(t,a),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),i=this._getAnchor();k.DomUtil.setPosition(this._container,e.add(i))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var t=this._map,e=parseInt(k.DomUtil.getStyle(this._container,"marginBottom"),10)||0,i=this._container.offsetHeight+e,n=this._containerWidth,o=new k.Point(this._containerLeft,-i-this._containerBottom);o._add(k.DomUtil.getPosition(this._container));var a=t.layerPointToContainerPoint(o),s=k.point(this.options.autoPanPadding),r=k.point(this.options.autoPanPaddingTopLeft||s),l=k.point(this.options.autoPanPaddingBottomRight||s),h=t.getSize(),u=0,c=0;a.x+n+l.x>h.x&&(u=a.x+n-h.x+l.x),a.x-u-r.x<0&&(u=a.x-r.x),a.y+i+l.y>h.y&&(c=a.y+i-h.y+l.y),a.y-c-r.y<0&&(c=a.y-r.y),(u||c)&&t.fire("autopanstart").panBy([u,c])}},_onCloseButtonClick:function(t){this._close(),k.DomEvent.stop(t)},_getAnchor:function(){return k.point(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),k.popup=function(t,e){return new k.Popup(t,e)},k.Map.mergeOptions({closePopupOnClick:!0}),k.Map.include({openPopup:function(t,e,i){return t instanceof k.Popup||(t=new k.Popup(i).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),k.Layer.include({bindPopup:function(t,e){return t instanceof k.Popup?(k.setOptions(t,e),(this._popup=t)._source=this):(this._popup&&!e||(this._popup=new k.Popup(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){if(t instanceof k.Layer||(e=t,t=this),t instanceof k.FeatureGroup)for(var i in this._layers){t=this._layers[i];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._popup&&this._map&&(this._popup._source=t,this._popup.update(),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;if(this._popup&&this._map)return k.DomEvent.stop(t),e instanceof k.Path?void this.openPopup(t.layer||t.target,t.latlng):void(this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)}}),k.Tooltip=k.DivOverlay.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){k.DivOverlay.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){k.DivOverlay.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=k.DivOverlay.prototype.getEvents.call(this);return k.Browser.touch&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=k.DomUtil.create("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e=this._map,i=this._container,n=e.latLngToContainerPoint(e.getCenter()),o=e.layerPointToContainerPoint(t),a=this.options.direction,s=i.offsetWidth,r=i.offsetHeight,l=k.point(this.options.offset),h=this._getAnchor();"top"===a?t=t.add(k.point(-s/2+l.x,-r+l.y+h.y,!0)):"bottom"===a?t=t.subtract(k.point(s/2-l.x,-l.y,!0)):"center"===a?t=t.subtract(k.point(s/2+l.x,r/2-h.y+l.y,!0)):"right"===a||"auto"===a&&o.x<n.x?(a="right",t=t.add(k.point(l.x+h.x,h.y-r/2+l.y,!0))):(a="left",t=t.subtract(k.point(s+h.x-l.x,r/2-h.y-l.y,!0))),k.DomUtil.removeClass(i,"leaflet-tooltip-right"),k.DomUtil.removeClass(i,"leaflet-tooltip-left"),k.DomUtil.removeClass(i,"leaflet-tooltip-top"),k.DomUtil.removeClass(i,"leaflet-tooltip-bottom"),k.DomUtil.addClass(i,"leaflet-tooltip-"+a),k.DomUtil.setPosition(i,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&k.DomUtil.setOpacity(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return k.point(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),k.tooltip=function(t,e){return new k.Tooltip(t,e)},k.Map.include({openTooltip:function(t,e,i){return t instanceof k.Tooltip||(t=new k.Tooltip(i).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),k.Layer.include({bindTooltip:function(t,e){return t instanceof k.Tooltip?(k.setOptions(t,e),(this._tooltip=t)._source=this):(this._tooltip&&!e||(this._tooltip=k.tooltip(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",i={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?i.add=this._openTooltip:(i.mouseover=this._openTooltip,i.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(i.mousemove=this._moveTooltip),k.Browser.touch&&(i.click=this._openTooltip)),this[e](i),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){if(t instanceof k.Layer||(e=t,t=this),t instanceof k.FeatureGroup)for(var i in this._layers){t=this._layers[i];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=t,this._tooltip.update(),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(k.DomUtil.addClass(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(k.DomUtil.removeClass(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:b)},_moveTooltip:function(t){var e,i,n=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),i=this._map.containerPointToLayerPoint(e),n=this._map.layerPointToLatLng(i)),this._tooltip.setLatLng(n)}}),k.LayerGroup=k.Layer.extend({initialize:function(t){var e,i;if(this._layers={},t)for(e=0,i=t.length;e<i;e++)this.addLayer(t[e])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){for(var t in this._layers)this.removeLayer(this._layers[t]);return this},invoke:function(t){var e,i,n=Array.prototype.slice.call(arguments,1);for(e in this._layers)(i=this._layers[e])[t]&&i[t].apply(i,n);return this},onAdd:function(t){for(var e in this._layers)t.addLayer(this._layers[e])},onRemove:function(t){for(var e in this._layers)t.removeLayer(this._layers[e])},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];for(var e in this._layers)t.push(this._layers[e]);return t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return k.stamp(t)}}),k.layerGroup=function(t){return new k.LayerGroup(t)},k.FeatureGroup=k.LayerGroup.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),k.LayerGroup.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),k.LayerGroup.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new k.LatLngBounds;for(var e in this._layers){var i=this._layers[e];t.extend(i.getBounds?i.getBounds():i.getLatLng())}return t}}),k.featureGroup=function(t){return new k.FeatureGroup(t)},k.Renderer=k.Layer.extend({options:{padding:.1},initialize:function(t){k.setOptions(this,t),k.stamp(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&k.DomUtil.addClass(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){k.DomUtil.remove(this._container),this.off("update",this._updatePaths,this)},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var i=this._map.getZoomScale(e,this._zoom),n=k.DomUtil.getPosition(this._container),o=this._map.getSize().multiplyBy(.5+this.options.padding),a=this._map.project(this._center,e),s=this._map.project(t,e).subtract(a),r=o.multiplyBy(-i).add(n).add(o).subtract(s);k.Browser.any3d?k.DomUtil.setTransform(this._container,r,i):k.DomUtil.setPosition(this._container,r)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),i=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new k.Bounds(i,i.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),k.Map.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this.options.preferCanvas&&k.canvas()||k.svg()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||t===b)return!1;var e=this._paneRenderers[t];return e===b&&(e=k.SVG&&k.svg({pane:t})||k.Canvas&&k.canvas({pane:t}),this._paneRenderers[t]=e),e}}),k.Path=k.Layer.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return k.setOptions(this,t),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(k.Browser.touch?10:0)}}),k.LineUtil={simplify:function(t,e){if(!e||!t.length)return t.slice();var i=e*e;return t=this._reducePoints(t,i),this._simplifyDP(t,i)},pointToSegmentDistance:function(t,e,i){return Math.sqrt(this._sqClosestPointOnSegment(t,e,i,!0))},closestPointOnSegment:function(t,e,i){return this._sqClosestPointOnSegment(t,e,i)},_simplifyDP:function(t,e){var i=t.length,n=new(typeof Uint8Array!=b+""?Uint8Array:Array)(i);n[0]=n[i-1]=1,this._simplifyDPStep(t,n,e,0,i-1);var o,a=[];for(o=0;o<i;o++)n[o]&&a.push(t[o]);return a},_simplifyDPStep:function(t,e,i,n,o){var a,s,r,l=0;for(s=n+1;s<=o-1;s++)l<(r=this._sqClosestPointOnSegment(t[s],t[n],t[o],!0))&&(a=s,l=r);i<l&&(e[a]=1,this._simplifyDPStep(t,e,i,n,a),this._simplifyDPStep(t,e,i,a,o))},_reducePoints:function(t,e){for(var i=[t[0]],n=1,o=0,a=t.length;n<a;n++)this._sqDist(t[n],t[o])>e&&(i.push(t[n]),o=n);return o<a-1&&i.push(t[a-1]),i},clipSegment:function(t,e,i,n,o){var a,s,r,l=n?this._lastCode:this._getBitCode(t,i),h=this._getBitCode(e,i);for(this._lastCode=h;;){if(!(l|h))return[t,e];if(l&h)return!1;a=l||h,s=this._getEdgeIntersection(t,e,a,i,o),r=this._getBitCode(s,i),a===l?(t=s,l=r):(e=s,h=r)}},_getEdgeIntersection:function(t,e,i,n,o){var a,s,r=e.x-t.x,l=e.y-t.y,h=n.min,u=n.max;return 8&i?(a=t.x+r*(u.y-t.y)/l,s=u.y):4&i?(a=t.x+r*(h.y-t.y)/l,s=h.y):2&i?(a=u.x,s=t.y+l*(u.x-t.x)/r):1&i&&(a=h.x,s=t.y+l*(h.x-t.x)/r),new k.Point(a,s,o)},_getBitCode:function(t,e){var i=0;return t.x<e.min.x?i|=1:t.x>e.max.x&&(i|=2),t.y<e.min.y?i|=4:t.y>e.max.y&&(i|=8),i},_sqDist:function(t,e){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n},_sqClosestPointOnSegment:function(t,e,i,n){var o,a=e.x,s=e.y,r=i.x-a,l=i.y-s,h=r*r+l*l;return 0<h&&(1<(o=((t.x-a)*r+(t.y-s)*l)/h)?(a=i.x,s=i.y):0<o&&(a+=r*o,s+=l*o)),r=t.x-a,l=t.y-s,n?r*r+l*l:new k.Point(a,s)}},k.Polyline=k.Path.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){k.setOptions(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,i,n=1/0,o=null,a=k.LineUtil._sqClosestPointOnSegment,s=0,r=this._parts.length;s<r;s++)for(var l=this._parts[s],h=1,u=l.length;h<u;h++){var c=a(t,e=l[h-1],i=l[h],!0);c<n&&(n=c,o=a(t,e,i))}return o&&(o.distance=Math.sqrt(n)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,i,n,o,a,s,r=this._rings[0],l=r.length;if(!l)return null;for(e=t=0;t<l-1;t++)e+=r[t].distanceTo(r[t+1])/2;if(0===e)return this._map.layerPointToLatLng(r[0]);for(n=t=0;t<l-1;t++)if(o=r[t],a=r[t+1],e<(n+=i=o.distanceTo(a)))return s=(n-e)/i,this._map.layerPointToLatLng([a.x-s*(a.x-o.x),a.y-s*(a.y-o.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=k.latLng(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new k.LatLngBounds,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return k.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],i=k.Polyline._flat(t),n=0,o=t.length;n<o;n++)i?(e[n]=k.latLng(t[n]),this._bounds.extend(e[n])):e[n]=this._convertLatLngs(t[n]);return e},_project:function(){var t=new k.Bounds;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t);var e=this._clickTolerance(),i=new k.Point(e,e);this._bounds.isValid()&&t.isValid()&&(t.min._subtract(i),t.max._add(i),this._pxBounds=t)},_projectLatlngs:function(t,e,i){var n,o,a=t[0]instanceof k.LatLng,s=t.length;if(a){for(o=[],n=0;n<s;n++)o[n]=this._map.latLngToLayerPoint(t[n]),i.extend(o[n]);e.push(o)}else for(n=0;n<s;n++)this._projectLatlngs(t[n],e,i)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t)){if(this.options.noClip)return void(this._parts=this._rings);var e,i,n,o,a,s,r,l=this._parts;for(n=e=0,o=this._rings.length;e<o;e++)for(i=0,a=(r=this._rings[e]).length;i<a-1;i++)(s=k.LineUtil.clipSegment(r[i],r[i+1],t,i,!0))&&(l[n]=l[n]||[],l[n].push(s[0]),s[1]===r[i+1]&&i!==a-2||(l[n].push(s[1]),n++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,i=0,n=t.length;i<n;i++)t[i]=k.LineUtil.simplify(t[i],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)}}),k.polyline=function(t,e){return new k.Polyline(t,e)},k.Polyline._flat=function(t){return!k.Util.isArray(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]},k.PolyUtil={},k.PolyUtil.clipPolygon=function(t,e,i){var n,o,a,s,r,l,h,u,c,d=[1,4,2,8],p=k.LineUtil;for(o=0,h=t.length;o<h;o++)t[o]._code=p._getBitCode(t[o],e);for(s=0;s<4;s++){for(u=d[s],n=[],o=0,a=(h=t.length)-1;o<h;a=o++)r=t[o],l=t[a],r._code&u?l._code&u||((c=p._getEdgeIntersection(l,r,u,e,i))._code=p._getBitCode(c,e),n.push(c)):(l._code&u&&((c=p._getEdgeIntersection(l,r,u,e,i))._code=p._getBitCode(c,e),n.push(c)),n.push(r));t=n}return t},k.Polygon=k.Polyline.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,i,n,o,a,s,r,l,h=this._rings[0],u=h.length;if(!u)return null;for(a=s=r=0,t=0,e=u-1;t<u;e=t++)i=h[t],n=h[e],o=i.y*n.x-n.y*i.x,s+=(i.x+n.x)*o,r+=(i.y+n.y)*o,a+=3*o;return l=0===a?h[0]:[s/a,r/a],this._map.layerPointToLatLng(l)},_convertLatLngs:function(t){var e=k.Polyline.prototype._convertLatLngs.call(this,t),i=e.length;return 2<=i&&e[0]instanceof k.LatLng&&e[0].equals(e[i-1])&&e.pop(),e},_setLatLngs:function(t){k.Polyline.prototype._setLatLngs.call(this,t),k.Polyline._flat(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return k.Polyline._flat(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,i=new k.Point(e,e);if(t=new k.Bounds(t.min.subtract(i),t.max.add(i)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t)){if(this.options.noClip)return void(this._parts=this._rings);for(var n,o=0,a=this._rings.length;o<a;o++)(n=k.PolyUtil.clipPolygon(this._rings[o],t,!0)).length&&this._parts.push(n)}},_updatePath:function(){this._renderer._updatePoly(this,!0)}}),k.polygon=function(t,e){return new k.Polygon(t,e)},k.Rectangle=k.Polygon.extend({initialize:function(t,e){k.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=k.latLngBounds(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}}),k.rectangle=function(t,e){return new k.Rectangle(t,e)},k.CircleMarker=k.Path.extend({options:{fill:!0,radius:10},initialize:function(t,e){k.setOptions(this,e),this._latlng=k.latLng(t),this._radius=this.options.radius},setLatLng:function(t){return this._latlng=k.latLng(t),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return k.Path.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,i=this._clickTolerance(),n=[t+i,e+i];this._pxBounds=new k.Bounds(this._point.subtract(n),this._point.add(n))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)}}),k.circleMarker=function(t,e){return new k.CircleMarker(t,e)},k.Circle=k.CircleMarker.extend({initialize:function(t,e,i){if("number"==typeof e&&(e=k.extend({},i,{radius:e})),k.setOptions(this,e),this._latlng=k.latLng(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new k.LatLngBounds(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:k.Path.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,i=this._map,n=i.options.crs;if(n.distance===k.CRS.Earth.distance){var o=Math.PI/180,a=this._mRadius/k.CRS.Earth.R/o,s=i.project([e+a,t]),r=i.project([e-a,t]),l=s.add(r).divideBy(2),h=i.unproject(l).lat,u=Math.acos((Math.cos(a*o)-Math.sin(e*o)*Math.sin(h*o))/(Math.cos(e*o)*Math.cos(h*o)))/o;(isNaN(u)||0===u)&&(u=a/Math.cos(Math.PI/180*e)),this._point=l.subtract(i.getPixelOrigin()),this._radius=isNaN(u)?0:Math.max(Math.round(l.x-i.project([h,t-u]).x),1),this._radiusY=Math.max(Math.round(l.y-s.y),1)}else{var c=n.unproject(n.project(this._latlng).subtract([this._mRadius,0]));this._point=i.latLngToLayerPoint(this._latlng),this._radius=this._point.x-i.latLngToLayerPoint(c).x}this._updateBounds()}}),k.circle=function(t,e,i){return new k.Circle(t,e,i)},k.SVG=k.Renderer.extend({getEvents:function(){var t=k.Renderer.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=k.SVG.create("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=k.SVG.create("g"),this._container.appendChild(this._rootGroup)},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){k.Renderer.prototype._update.call(this);var t=this._bounds,e=t.getSize(),i=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,i.setAttribute("width",e.x),i.setAttribute("height",e.y)),k.DomUtil.setPosition(i,t.min),i.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=k.SVG.create("path");t.options.className&&k.DomUtil.addClass(e,t.options.className),t.options.interactive&&k.DomUtil.addClass(e,"leaflet-interactive"),this._updateStyle(t),this._layers[k.stamp(t)]=t},_addPath:function(t){this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){k.DomUtil.remove(t._path),t.removeInteractiveTarget(t._path),delete this._layers[k.stamp(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,i=t.options;e&&(i.stroke?(e.setAttribute("stroke",i.color),e.setAttribute("stroke-opacity",i.opacity),e.setAttribute("stroke-width",i.weight),e.setAttribute("stroke-linecap",i.lineCap),e.setAttribute("stroke-linejoin",i.lineJoin),i.dashArray?e.setAttribute("stroke-dasharray",i.dashArray):e.removeAttribute("stroke-dasharray"),i.dashOffset?e.setAttribute("stroke-dashoffset",i.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),i.fill?(e.setAttribute("fill",i.fillColor||i.color),e.setAttribute("fill-opacity",i.fillOpacity),e.setAttribute("fill-rule",i.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,k.SVG.pointsToPath(t._parts,e))},_updateCircle:function(t){var e=t._point,i=t._radius,n="a"+i+","+(t._radiusY||i)+" 0 1,0 ",o=t._empty()?"M0 0":"M"+(e.x-i)+","+e.y+n+2*i+",0 "+n+2*-i+",0 ";this._setPath(t,o)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){k.DomUtil.toFront(t._path)},_bringToBack:function(t){k.DomUtil.toBack(t._path)}}),k.extend(k.SVG,{create:function(t){return _.createElementNS("http://www.w3.org/2000/svg",t)},pointsToPath:function(t,e){var i,n,o,a,s,r,l="";for(i=0,o=t.length;i<o;i++){for(n=0,a=(s=t[i]).length;n<a;n++)l+=(n?"L":"M")+(r=s[n]).x+" "+r.y;l+=e?k.Browser.svg?"z":"x":""}return l||"M0 0"}}),k.Browser.svg=!(!_.createElementNS||!k.SVG.create("svg").createSVGRect),k.svg=function(t){return k.Browser.svg||k.Browser.vml?new k.SVG(t):null},k.Browser.vml=!k.Browser.svg&&function(){try{var t=_.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}(),k.SVG.include(k.Browser.vml?{_initContainer:function(){this._container=k.DomUtil.create("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(k.Renderer.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=k.SVG.create("shape");k.DomUtil.addClass(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=k.SVG.create("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[k.stamp(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;k.DomUtil.remove(e),t.removeInteractiveTarget(e),delete this._layers[k.stamp(t)]},_updateStyle:function(t){var e=t._stroke,i=t._fill,n=t.options,o=t._container;o.stroked=!!n.stroke,o.filled=!!n.fill,n.stroke?(e||(e=t._stroke=k.SVG.create("stroke")),o.appendChild(e),e.weight=n.weight+"px",e.color=n.color,e.opacity=n.opacity,n.dashArray?e.dashStyle=k.Util.isArray(n.dashArray)?n.dashArray.join(" "):n.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=n.lineCap.replace("butt","flat"),e.joinstyle=n.lineJoin):e&&(o.removeChild(e),t._stroke=null),n.fill?(i||(i=t._fill=k.SVG.create("fill")),o.appendChild(i),i.color=n.fillColor||n.color,i.opacity=n.fillOpacity):i&&(o.removeChild(i),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),i=Math.round(t._radius),n=Math.round(t._radiusY||i);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+i+","+n+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){k.DomUtil.toFront(t._container)},_bringToBack:function(t){k.DomUtil.toBack(t._container)}}:{}),k.Browser.vml&&(k.SVG.create=function(){try{return _.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return _.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return _.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}()),k.Canvas=k.Renderer.extend({getEvents:function(){var t=k.Renderer.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){k.Renderer.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=_.createElement("canvas");k.DomEvent.on(t,"mousemove",k.Util.throttle(this._onMouseMove,32,this),this).on(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this).on(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},k.Renderer.prototype._update.call(this);var t=this._bounds,e=this._container,i=t.getSize(),n=k.Browser.retina?2:1;k.DomUtil.setPosition(e,t.min),e.width=n*i.x,e.height=n*i.y,e.style.width=i.x+"px",e.style.height=i.y+"px",k.Browser.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){k.Renderer.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t);var e=(this._layers[k.stamp(t)]=t)._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,i=e.next,n=e.prev;i?i.prev=n:this._drawLast=n,n?n.next=i:this._drawFirst=i,delete t._order,delete this._layers[k.stamp(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(t.options.dashArray){var e,i=t.options.dashArray.split(","),n=[];for(e=0;e<i.length;e++)n.push(Number(i[e]));t.options._dashArray=n}},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||k.Util.requestAnimFrame(this._redraw,this))},_extendRedrawBounds:function(t){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new k.Bounds,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var i=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,i.x,i.y),this._ctx.clip()}this._drawing=!0;for(var n=this._drawFirst;n;n=n.next)t=n.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var i,n,o,a,s=t._parts,r=s.length,l=this._ctx;if(r){for(this._drawnLayers[t._leaflet_id]=t,l.beginPath(),l.setLineDash&&l.setLineDash(t.options&&t.options._dashArray||[]),i=0;i<r;i++){for(n=0,o=s[i].length;n<o;n++)a=s[i][n],l[n?"lineTo":"moveTo"](a.x,a.y);e&&l.closePath()}this._fillStroke(l,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,i=this._ctx,n=t._radius,o=(t._radiusY||n)/n;this._drawnLayers[t._leaflet_id]=t,1!==o&&(i.save(),i.scale(1,o)),i.beginPath(),i.arc(e.x,e.y/o,n,0,2*Math.PI,!1),1!==o&&i.restore(),this._fillStroke(i,t)}},_fillStroke:function(t,e){var i=e.options;i.fill&&(t.globalAlpha=i.fillOpacity,t.fillStyle=i.fillColor||i.color,t.fill(i.fillRule||"evenodd")),i.stroke&&0!==i.weight&&(t.globalAlpha=i.opacity,t.lineWidth=i.weight,t.strokeStyle=i.color,t.lineCap=i.lineCap,t.lineJoin=i.lineJoin,t.stroke())},_onClick:function(t){for(var e,i,n=this._map.mouseEventToLayerPoint(t),o=this._drawFirst;o;o=o.next)(e=o.layer).options.interactive&&e._containsPoint(n)&&!this._map._draggableMoved(e)&&(i=e);i&&(k.DomEvent._fakeStop(t),this._fireEvent([i],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(k.DomUtil.removeClass(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(t,e){for(var i,n,o=this._drawFirst;o;o=o.next)(i=o.layer).options.interactive&&i._containsPoint(e)&&(n=i);n!==this._hoveredLayer&&(this._handleMouseOut(t),n&&(k.DomUtil.addClass(this._container,"leaflet-interactive"),this._fireEvent([n],t,"mouseover"),this._hoveredLayer=n)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t)},_fireEvent:function(t,e,i){this._map._fireDOMEvent(e,i||e.type,t)},_bringToFront:function(t){var e=t._order,i=e.next,n=e.prev;i&&((i.prev=n)?n.next=i:i&&(this._drawFirst=i),e.prev=this._drawLast,(this._drawLast.next=e).next=null,this._drawLast=e,this._requestRedraw(t))},_bringToBack:function(t){var e=t._order,i=e.next,n=e.prev;n&&((n.next=i)?i.prev=n:n&&(this._drawLast=n),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}),k.Browser.canvas=!!_.createElement("canvas").getContext,k.canvas=function(t){return k.Browser.canvas?new k.Canvas(t):null},k.Polyline.prototype._containsPoint=function(t,e){var i,n,o,a,s,r,l=this._clickTolerance();if(!this._pxBounds.contains(t))return!1;for(i=0,a=this._parts.length;i<a;i++)for(n=0,o=(s=(r=this._parts[i]).length)-1;n<s;o=n++)if((e||0!==n)&&k.LineUtil.pointToSegmentDistance(t,r[o],r[n])<=l)return!0;return!1},k.Polygon.prototype._containsPoint=function(t){var e,i,n,o,a,s,r,l,h=!1;if(!this._pxBounds.contains(t))return!1;for(o=0,r=this._parts.length;o<r;o++)for(a=0,s=(l=(e=this._parts[o]).length)-1;a<l;s=a++)i=e[a],n=e[s],i.y>t.y!=n.y>t.y&&t.x<(n.x-i.x)*(t.y-i.y)/(n.y-i.y)+i.x&&(h=!h);return h||k.Polyline.prototype._containsPoint.call(this,t,!0)},k.CircleMarker.prototype._containsPoint=function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()},k.GeoJSON=k.FeatureGroup.extend({initialize:function(t,e){k.setOptions(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,i,n,o=k.Util.isArray(t)?t:t.features;if(o){for(e=0,i=o.length;e<i;e++)((n=o[e]).geometries||n.geometry||n.features||n.coordinates)&&this.addData(n);return this}var a=this.options;if(a.filter&&!a.filter(t))return this;var s=k.GeoJSON.geometryToLayer(t,a);return s?(s.feature=k.GeoJSON.asFeature(t),s.defaultOptions=s.options,this.resetStyle(s),a.onEachFeature&&a.onEachFeature(t,s),this.addLayer(s)):this},resetStyle:function(t){return t.options=k.Util.extend({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this},setStyle:function(e){return this.eachLayer(function(t){this._setLayerStyle(t,e)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),k.extend(k.GeoJSON,{geometryToLayer:function(t,e){var i,n,o,a,s="Feature"===t.type?t.geometry:t,r=s?s.coordinates:null,l=[],h=e&&e.pointToLayer,u=e&&e.coordsToLatLng||this.coordsToLatLng;if(!r&&!s)return null;switch(s.type){case"Point":return i=u(r),h?h(t,i):new k.Marker(i);case"MultiPoint":for(o=0,a=r.length;o<a;o++)i=u(r[o]),l.push(h?h(t,i):new k.Marker(i));return new k.FeatureGroup(l);case"LineString":case"MultiLineString":return n=this.coordsToLatLngs(r,"LineString"===s.type?0:1,u),new k.Polyline(n,e);case"Polygon":case"MultiPolygon":return n=this.coordsToLatLngs(r,"Polygon"===s.type?1:2,u),new k.Polygon(n,e);case"GeometryCollection":for(o=0,a=s.geometries.length;o<a;o++){var c=this.geometryToLayer({geometry:s.geometries[o],type:"Feature",properties:t.properties},e);c&&l.push(c)}return new k.FeatureGroup(l);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(t){return new k.LatLng(t[1],t[0],t[2])},coordsToLatLngs:function(t,e,i){for(var n,o=[],a=0,s=t.length;a<s;a++)n=e?this.coordsToLatLngs(t[a],e-1,i):(i||this.coordsToLatLng)(t[a]),o.push(n);return o},latLngToCoords:function(t){return t.alt!==b?[t.lng,t.lat,t.alt]:[t.lng,t.lat]},latLngsToCoords:function(t,e,i){for(var n=[],o=0,a=t.length;o<a;o++)n.push(e?k.GeoJSON.latLngsToCoords(t[o],e-1,i):k.GeoJSON.latLngToCoords(t[o]));return!e&&i&&n.push(n[0]),n},getFeature:function(t,e){return t.feature?k.extend({},t.feature,{geometry:e}):k.GeoJSON.asFeature(e)},asFeature:function(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}});var C={toGeoJSON:function(){return k.GeoJSON.getFeature(this,{type:"Point",coordinates:k.GeoJSON.latLngToCoords(this.getLatLng())})}};k.Marker.include(C),k.Circle.include(C),k.CircleMarker.include(C),k.Polyline.prototype.toGeoJSON=function(){var t=!k.Polyline._flat(this._latlngs),e=k.GeoJSON.latLngsToCoords(this._latlngs,t?1:0);return k.GeoJSON.getFeature(this,{type:(t?"Multi":"")+"LineString",coordinates:e})},k.Polygon.prototype.toGeoJSON=function(){var t=!k.Polyline._flat(this._latlngs),e=t&&!k.Polyline._flat(this._latlngs[0]),i=k.GeoJSON.latLngsToCoords(this._latlngs,e?2:t?1:0,!0);return t||(i=[i]),k.GeoJSON.getFeature(this,{type:(e?"Multi":"")+"Polygon",coordinates:i})},k.LayerGroup.include({toMultiPoint:function(){var e=[];return this.eachLayer(function(t){e.push(t.toGeoJSON().geometry.coordinates)}),k.GeoJSON.getFeature(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint();var i="GeometryCollection"===t,n=[];return this.eachLayer(function(t){if(t.toGeoJSON){var e=t.toGeoJSON();n.push(i?e.geometry:k.GeoJSON.asFeature(e))}}),i?k.GeoJSON.getFeature(this,{geometries:n,type:"GeometryCollection"}):{type:"FeatureCollection",features:n}}}),k.geoJSON=function(t,e){return new k.GeoJSON(t,e)},k.geoJson=k.geoJSON,k.Draggable=k.Evented.extend({options:{clickTolerance:3},statics:{START:k.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(t,e,i){this._element=t,this._dragStartTarget=e||t,this._preventOutline=i},enable:function(){this._enabled||(k.DomEvent.on(this._dragStartTarget,k.Draggable.START.join(" "),this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(k.Draggable._dragging===this&&this.finishDrag(),k.DomEvent.off(this._dragStartTarget,k.Draggable.START.join(" "),this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!k.DomUtil.hasClass(this._element,"leaflet-zoom-anim")&&!(k.Draggable._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||((k.Draggable._dragging=this)._preventOutline&&k.DomUtil.preventOutline(this._element),k.DomUtil.disableImageDrag(),k.DomUtil.disableTextSelection(),this._moving)))){this.fire("down");var e=t.touches?t.touches[0]:t;this._startPoint=new k.Point(e.clientX,e.clientY),k.DomEvent.on(_,k.Draggable.MOVE[t.type],this._onMove,this).on(_,k.Draggable.END[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled){if(t.touches&&1<t.touches.length)return void(this._moved=!0);var e=t.touches&&1===t.touches.length?t.touches[0]:t,i=new k.Point(e.clientX,e.clientY).subtract(this._startPoint);(i.x||i.y)&&(Math.abs(i.x)+Math.abs(i.y)<this.options.clickTolerance||(k.DomEvent.preventDefault(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=k.DomUtil.getPosition(this._element).subtract(i),k.DomUtil.addClass(_.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,r.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),k.DomUtil.addClass(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,k.Util.cancelAnimFrame(this._animRequest),this._lastEvent=t,this._animRequest=k.Util.requestAnimFrame(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),k.DomUtil.setPosition(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var t in k.DomUtil.removeClass(_.body,"leaflet-dragging"),this._lastTarget&&(k.DomUtil.removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),k.Draggable.MOVE)k.DomEvent.off(_,k.Draggable.MOVE[t],this._onMove,this).off(_,k.Draggable.END[t],this._onUp,this);k.DomUtil.enableImageDrag(),k.DomUtil.enableTextSelection(),this._moved&&this._moving&&(k.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,k.Draggable._dragging=!1}}),k.Handler=k.Class.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled&&(this._enabled=!1,this.removeHooks()),this},enabled:function(){return!!this._enabled}}),k.Map.mergeOptions({dragging:!0,inertia:!k.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0}),k.Map.Drag=k.Handler.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new k.Draggable(t._mapPane,t._container),this._draggable.on({down:this._onDown,dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}k.DomUtil.addClass(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){k.DomUtil.removeClass(this._map._container,"leaflet-grab"),k.DomUtil.removeClass(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDown:function(){this._map._stop()},_onDragStart:function(){var t=this._map;if(this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=k.latLngBounds(this._map.options.maxBounds);this._offsetLimit=k.bounds(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,i=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(i),this._times.push(e),50<e-this._times[0]&&(this._positions.shift(),this._times.shift())}this._map.fire("move",t).fire("drag",t)},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),i=this._initialWorldOffset,n=this._draggable._newPos.x,o=(n-e+i)%t+e-i,a=(n+e+i)%t-e-i,s=Math.abs(o+i)<Math.abs(a+i)?o:a;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(t){var e=this._map,i=e.options,n=!i.inertia||this._times.length<2;if(e.fire("dragend",t),n)e.fire("moveend");else{var o=this._lastPos.subtract(this._positions[0]),a=(this._lastTime-this._times[0])/1e3,s=i.easeLinearity,r=o.multiplyBy(s/a),l=r.distanceTo([0,0]),h=Math.min(i.inertiaMaxSpeed,l),u=r.multiplyBy(h/l),c=h/(i.inertiaDeceleration*s),d=u.multiplyBy(-c/2).round();d.x||d.y?(d=e._limitOffset(d,e.options.maxBounds),k.Util.requestAnimFrame(function(){e.panBy(d,{duration:c,easeLinearity:s,noMoveStart:!0,animate:!0})})):e.fire("moveend")}}}),k.Map.addInitHook("addHandler","dragging",k.Map.Drag),k.Map.mergeOptions({doubleClickZoom:!0}),k.Map.DoubleClickZoom=k.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,i=e.getZoom(),n=e.options.zoomDelta,o=t.originalEvent.shiftKey?i-n:i+n;"center"===e.options.doubleClickZoom?e.setZoom(o):e.setZoomAround(t.containerPoint,o)}}),k.Map.addInitHook("addHandler","doubleClickZoom",k.Map.DoubleClickZoom),k.Map.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60}),k.Map.ScrollWheelZoom=k.Handler.extend({addHooks:function(){k.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){k.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=k.DomEvent.getWheelDelta(t),i=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var n=Math.max(i-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(k.bind(this._performZoom,this),n),k.DomEvent.stop(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),i=this._map.options.zoomSnap||0;t._stop();var n=this._delta/(4*this._map.options.wheelPxPerZoomLevel),o=4*Math.log(2/(1+Math.exp(-Math.abs(n))))/Math.LN2,a=i?Math.ceil(o/i)*i:o,s=t._limitZoom(e+(0<this._delta?a:-a))-e;this._delta=0,this._startTime=null,s&&("center"===t.options.scrollWheelZoom?t.setZoom(e+s):t.setZoomAround(this._lastMousePos,e+s))}}),k.Map.addInitHook("addHandler","scrollWheelZoom",k.Map.ScrollWheelZoom),k.extend(k.DomEvent,{_touchstart:k.Browser.msPointer?"MSPointerDown":k.Browser.pointer?"pointerdown":"touchstart",_touchend:k.Browser.msPointer?"MSPointerUp":k.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(t,o,e){function i(t){var e;if(k.Browser.pointer){if(!k.Browser.edge||"mouse"===t.pointerType)return;e=k.DomEvent._pointersCount}else e=t.touches.length;if(!(1<e)){var i=Date.now(),n=i-(a||i);s=t.touches?t.touches[0]:t,r=0<n&&n<=250,a=i}}function n(t){if(r&&!s.cancelBubble){if(k.Browser.pointer){if(!k.Browser.edge||"mouse"===t.pointerType)return;var e,i,n={};for(i in s)e=s[i],n[i]=e&&e.bind?e.bind(s):e;s=n}s.type="dblclick",o(s),a=null}}var a,s,r=!1,l="_leaflet_",h=this._touchstart,u=this._touchend;return t[l+h+e]=i,t[l+u+e]=n,t[l+"dblclick"+e]=o,t.addEventListener(h,i,!1),t.addEventListener(u,n,!1),t.addEventListener("dblclick",o,!1),this},removeDoubleTapListener:function(t,e){var i="_leaflet_",n=t[i+this._touchstart+e],o=t[i+this._touchend+e],a=t[i+"dblclick"+e];return t.removeEventListener(this._touchstart,n,!1),t.removeEventListener(this._touchend,o,!1),k.Browser.edge||t.removeEventListener("dblclick",a,!1),this}}),k.extend(k.DomEvent,{POINTER_DOWN:k.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:k.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:k.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:k.Browser.msPointer?"MSPointerCancel":"pointercancel",TAG_WHITE_LIST:["INPUT","SELECT","OPTION"],_pointers:{},_pointersCount:0,addPointerListener:function(t,e,i,n){return"touchstart"===e?this._addPointerStart(t,i,n):"touchmove"===e?this._addPointerMove(t,i,n):"touchend"===e&&this._addPointerEnd(t,i,n),this},removePointerListener:function(t,e,i){var n=t["_leaflet_"+e+i];return"touchstart"===e?t.removeEventListener(this.POINTER_DOWN,n,!1):"touchmove"===e?t.removeEventListener(this.POINTER_MOVE,n,!1):"touchend"===e&&(t.removeEventListener(this.POINTER_UP,n,!1),t.removeEventListener(this.POINTER_CANCEL,n,!1)),this},_addPointerStart:function(t,e,i){var n=k.bind(function(t){if("mouse"!==t.pointerType&&t.MSPOINTER_TYPE_MOUSE&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(this.TAG_WHITE_LIST.indexOf(t.target.tagName)<0))return;k.DomEvent.preventDefault(t)}this._handlePointer(t,e)},this);if(t["_leaflet_touchstart"+i]=n,t.addEventListener(this.POINTER_DOWN,n,!1),!this._pointerDocListener){var o=k.bind(this._globalPointerUp,this);_.documentElement.addEventListener(this.POINTER_DOWN,k.bind(this._globalPointerDown,this),!0),_.documentElement.addEventListener(this.POINTER_MOVE,k.bind(this._globalPointerMove,this),!0),_.documentElement.addEventListener(this.POINTER_UP,o,!0),_.documentElement.addEventListener(this.POINTER_CANCEL,o,!0),this._pointerDocListener=!0}},_globalPointerDown:function(t){this._pointers[t.pointerId]=t,this._pointersCount++},_globalPointerMove:function(t){this._pointers[t.pointerId]&&(this._pointers[t.pointerId]=t)},_globalPointerUp:function(t){delete this._pointers[t.pointerId],this._pointersCount--},_handlePointer:function(t,e){for(var i in t.touches=[],this._pointers)t.touches.push(this._pointers[i]);t.changedTouches=[t],e(t)},_addPointerMove:function(t,e,i){var n=k.bind(function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&this._handlePointer(t,e)},this);t["_leaflet_touchmove"+i]=n,t.addEventListener(this.POINTER_MOVE,n,!1)},_addPointerEnd:function(t,e,i){var n=k.bind(function(t){this._handlePointer(t,e)},this);t["_leaflet_touchend"+i]=n,t.addEventListener(this.POINTER_UP,n,!1),t.addEventListener(this.POINTER_CANCEL,n,!1)}}),k.Map.mergeOptions({touchZoom:k.Browser.touch&&!k.Browser.android23,bounceAtZoomLimits:!0}),k.Map.TouchZoom=k.Handler.extend({addHooks:function(){k.DomUtil.addClass(this._map._container,"leaflet-touch-zoom"),k.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){k.DomUtil.removeClass(this._map._container,"leaflet-touch-zoom"),k.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var i=e.mouseEventToContainerPoint(t.touches[0]),n=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(i.add(n)._divideBy(2))),this._startDist=i.distanceTo(n),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),k.DomEvent.on(_,"touchmove",this._onTouchMove,this).on(_,"touchend",this._onTouchEnd,this),k.DomEvent.preventDefault(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,i=e.mouseEventToContainerPoint(t.touches[0]),n=e.mouseEventToContainerPoint(t.touches[1]),o=i.distanceTo(n)/this._startDist;if(this._zoom=e.getScaleZoom(o,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&o<1||this._zoom>e.getMaxZoom()&&1<o)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var a=i._add(n)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===a.x&&0===a.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(a),this._zoom)}this._moved||(e._moveStart(!0),this._moved=!0),k.Util.cancelAnimFrame(this._animRequest);var s=k.bind(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=k.Util.requestAnimFrame(s,this,!0),k.DomEvent.preventDefault(t)}},_onTouchEnd:function(){return this._moved&&this._zooming?(this._zooming=!1,k.Util.cancelAnimFrame(this._animRequest),k.DomEvent.off(_,"touchmove",this._onTouchMove).off(_,"touchend",this._onTouchEnd),void(this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom)))):void(this._zooming=!1)}}),k.Map.addInitHook("addHandler","touchZoom",k.Map.TouchZoom),k.Map.mergeOptions({tap:!0,tapTolerance:15}),k.Map.Tap=k.Handler.extend({addHooks:function(){k.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){k.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(k.DomEvent.preventDefault(t),this._fireClick=!0,1<t.touches.length)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],i=e.target;this._startPos=this._newPos=new k.Point(e.clientX,e.clientY),i.tagName&&"a"===i.tagName.toLowerCase()&&k.DomUtil.addClass(i,"leaflet-active"),this._holdTimeout=setTimeout(k.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))},this),1e3),this._simulateEvent("mousedown",e),k.DomEvent.on(_,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),k.DomEvent.off(_,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],i=e.target;i&&i.tagName&&"a"===i.tagName.toLowerCase()&&k.DomUtil.removeClass(i,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new k.Point(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var i=_.createEvent("MouseEvents");i._simulated=!0,e.target._simulatedClick=!0,i.initMouseEvent(t,!0,!0,r,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(i)}}),k.Browser.touch&&!k.Browser.pointer&&k.Map.addInitHook("addHandler","tap",k.Map.Tap),k.Map.mergeOptions({boxZoom:!0}),k.Map.BoxZoom=k.Handler.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane},addHooks:function(){k.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){k.DomEvent.off(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_resetState:function(){this._moved=!1},_onMouseDown:function(t){return!(!t.shiftKey||1!==t.which&&1!==t.button)&&(this._resetState(),k.DomUtil.disableTextSelection(),k.DomUtil.disableImageDrag(),this._startPoint=this._map.mouseEventToContainerPoint(t),void k.DomEvent.on(_,{contextmenu:k.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this))},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=k.DomUtil.create("div","leaflet-zoom-box",this._container),k.DomUtil.addClass(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new k.Bounds(this._point,this._startPoint),i=e.getSize();k.DomUtil.setPosition(this._box,e.min),this._box.style.width=i.x+"px",this._box.style.height=i.y+"px"},_finish:function(){this._moved&&(k.DomUtil.remove(this._box),k.DomUtil.removeClass(this._container,"leaflet-crosshair")),k.DomUtil.enableTextSelection(),k.DomUtil.enableImageDrag(),k.DomEvent.off(_,{contextmenu:k.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){setTimeout(k.bind(this._resetState,this),0);var e=new k.LatLngBounds(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}}),k.Map.addInitHook("addHandler","boxZoom",k.Map.BoxZoom),k.Map.mergeOptions({keyboard:!0,keyboardPanDelta:80}),k.Map.Keyboard=k.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),k.DomEvent.on(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),k.DomEvent.off(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=_.body,e=_.documentElement,i=t.scrollTop||e.scrollTop,n=t.scrollLeft||e.scrollLeft;this._map._container.focus(),r.scrollTo(n,i)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,i,n=this._panKeys={},o=this.keyCodes;for(e=0,i=o.left.length;e<i;e++)n[o.left[e]]=[-1*t,0];for(e=0,i=o.right.length;e<i;e++)n[o.right[e]]=[t,0];for(e=0,i=o.down.length;e<i;e++)n[o.down[e]]=[0,t];for(e=0,i=o.up.length;e<i;e++)n[o.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,i,n=this._zoomKeys={},o=this.keyCodes;for(e=0,i=o.zoomIn.length;e<i;e++)n[o.zoomIn[e]]=t;for(e=0,i=o.zoomOut.length;e<i;e++)n[o.zoomOut[e]]=-t},_addHooks:function(){k.DomEvent.on(_,"keydown",this._onKeyDown,this)},_removeHooks:function(){k.DomEvent.off(_,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,i=t.keyCode,n=this._map;if(i in this._panKeys){if(n._panAnim&&n._panAnim._inProgress)return;e=this._panKeys[i],t.shiftKey&&(e=k.point(e).multiplyBy(3)),n.panBy(e),n.options.maxBounds&&n.panInsideBounds(n.options.maxBounds)}else if(i in this._zoomKeys)n.setZoom(n.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[i]);else{if(27!==i)return;n.closePopup()}k.DomEvent.stop(t)}}}),k.Map.addInitHook("addHandler","keyboard",k.Map.Keyboard),k.Handler.MarkerDrag=k.Handler.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new k.Draggable(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),k.DomUtil.addClass(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&k.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(t){var e=this._marker,i=e._shadow,n=k.DomUtil.getPosition(e._icon),o=e._map.layerPointToLatLng(n);i&&k.DomUtil.setPosition(i,n),e._latlng=o,t.latlng=o,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),k.Control=k.Class.extend({options:{position:"topright"},initialize:function(t){k.setOptions(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),i=this.getPosition(),n=t._controlCorners[i];return k.DomUtil.addClass(e,"leaflet-control"),-1!==i.indexOf("bottom")?n.insertBefore(e,n.firstChild):n.appendChild(e),this},remove:function(){return this._map&&(k.DomUtil.remove(this._container),this.onRemove&&this.onRemove(this._map),this._map=null),this},_refocusOnMap:function(t){this._map&&t&&0<t.screenX&&0<t.screenY&&this._map.getContainer().focus()}}),k.control=function(t){return new k.Control(t)},k.Map.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){function t(t,e){var i=o+t+" "+o+e;n[t+e]=k.DomUtil.create("div",i,a)}var n=this._controlCorners={},o="leaflet-",a=this._controlContainer=k.DomUtil.create("div",o+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){k.DomUtil.remove(this._controlContainer)}}),k.Control.Zoom=k.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",i=k.DomUtil.create("div",e+" leaflet-bar"),n=this.options;return this._zoomInButton=this._createButton(n.zoomInText,n.zoomInTitle,e+"-in",i,this._zoomIn),this._zoomOutButton=this._createButton(n.zoomOutText,n.zoomOutTitle,e+"-out",i,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,i,n,o){var a=k.DomUtil.create("a",i,n);return a.innerHTML=t,a.href="#",a.title=e,a.setAttribute("role","button"),a.setAttribute("aria-label",e),k.DomEvent.on(a,"mousedown dblclick",k.DomEvent.stopPropagation).on(a,"click",k.DomEvent.stop).on(a,"click",o,this).on(a,"click",this._refocusOnMap,this),a},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";k.DomUtil.removeClass(this._zoomInButton,e),k.DomUtil.removeClass(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&k.DomUtil.addClass(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&k.DomUtil.addClass(this._zoomInButton,e)}}),k.Map.mergeOptions({zoomControl:!0}),k.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new k.Control.Zoom,this.addControl(this.zoomControl))}),k.control.zoom=function(t){return new k.Control.Zoom(t)},k.Control.Attribution=k.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){k.setOptions(this,t),this._attributions={}},onAdd:function(t){for(var e in(t.attributionControl=this)._container=k.DomUtil.create("div","leaflet-control-attribution"),k.DomEvent&&k.DomEvent.disableClickPropagation(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t&&(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update()),this},removeAttribution:function(t){return t&&this._attributions[t]&&(this._attributions[t]--,this._update()),this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var i=[];this.options.prefix&&i.push(this.options.prefix),t.length&&i.push(t.join(", ")),this._container.innerHTML=i.join(" | ")}}}),k.Map.mergeOptions({attributionControl:!0}),k.Map.addInitHook(function(){this.options.attributionControl&&(new k.Control.Attribution).addTo(this)}),k.control.attribution=function(t){return new k.Control.Attribution(t)},k.Control.Scale=k.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",i=k.DomUtil.create("div",e),n=this.options;return this._addScales(n,e+"-line",i),t.on(n.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),i},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,i){t.metric&&(this._mScale=k.DomUtil.create("div",e,i)),t.imperial&&(this._iScale=k.DomUtil.create("div",e,i))},_update:function(){var t=this._map,e=t.getSize().y/2,i=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(i)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),i=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,i,e/t)},_updateImperial:function(t){var e,i,n,o=3.2808399*t;5280<o?(e=o/5280,i=this._getRoundNum(e),this._updateScale(this._iScale,i+" mi",i/e)):(n=this._getRoundNum(o),this._updateScale(this._iScale,n+" ft",n/o))},_updateScale:function(t,e,i){t.style.width=Math.round(this.options.maxWidth*i)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),i=t/e;return e*(i=10<=i?10:5<=i?5:3<=i?3:2<=i?2:1)}}),k.control.scale=function(t){return new k.Control.Scale(t)},k.Control.Layers=k.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,i,n){return i<n?-1:n<i?1:0}},initialize:function(t,e,i){for(var n in k.setOptions(this,i),this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[n],n);for(n in e)this._addLayer(e[n],n,!0)},onAdd:function(t){return this._initLayout(),this._update(),(this._map=t).on("zoomend",this._checkDisabledLayers,this),this._container},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(k.stamp(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){k.DomUtil.addClass(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._form.clientHeight?(k.DomUtil.addClass(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=t+"px"):k.DomUtil.removeClass(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return k.DomUtil.removeClass(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=k.DomUtil.create("div",t),i=this.options.collapsed;e.setAttribute("aria-haspopup",!0),k.DomEvent.disableClickPropagation(e),k.Browser.touch||k.DomEvent.disableScrollPropagation(e);var n=this._form=k.DomUtil.create("form",t+"-list");i&&(this._map.on("click",this.collapse,this),k.Browser.android||k.DomEvent.on(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var o=this._layersLink=k.DomUtil.create("a",t+"-toggle",e);o.href="#",o.title="Layers",k.Browser.touch?k.DomEvent.on(o,"click",k.DomEvent.stop).on(o,"click",this.expand,this):k.DomEvent.on(o,"focus",this.expand,this),k.DomEvent.on(n,"click",function(){setTimeout(k.bind(this._onInputClick,this),0)},this),i||this.expand(),this._baseLayersList=k.DomUtil.create("div",t+"-base",n),this._separator=k.DomUtil.create("div",t+"-separator",n),this._overlaysList=k.DomUtil.create("div",t+"-overlays",n),e.appendChild(n)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&k.stamp(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,i){t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:i}),this.options.sortLayers&&this._layers.sort(k.bind(function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex))},_update:function(){if(!this._container)return this;k.DomUtil.empty(this._baseLayersList),k.DomUtil.empty(this._overlaysList);var t,e,i,n,o=0;for(i=0;i<this._layers.length;i++)n=this._layers[i],this._addItem(n),e=e||n.overlay,t=t||!n.overlay,o+=n.overlay?0:1;return this.options.hideSingleBase&&(t=t&&1<o,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(k.stamp(t.target)),i=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;i&&this._map.fire(i,e)},_createRadioElement:function(t,e){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",n=_.createElement("div");return n.innerHTML=i,n.firstChild},_addItem:function(t){var e,i=_.createElement("label"),n=this._map.hasLayer(t.layer);t.overlay?((e=_.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=n):e=this._createRadioElement("leaflet-base-layers",n),e.layerId=k.stamp(t.layer),k.DomEvent.on(e,"click",this._onInputClick,this);var o=_.createElement("span");o.innerHTML=" "+t.name;var a=_.createElement("div");return i.appendChild(a),a.appendChild(e),a.appendChild(o),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){var t,e,i,n=this._form.getElementsByTagName("input"),o=[],a=[];this._handlingClick=!0;for(var s=n.length-1;0<=s;s--)t=n[s],e=this._getLayer(t.layerId).layer,i=this._map.hasLayer(e),t.checked&&!i?o.push(e):!t.checked&&i&&a.push(e);for(s=0;s<a.length;s++)this._map.removeLayer(a[s]);for(s=0;s<o.length;s++)this._map.addLayer(o[s]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,i=this._form.getElementsByTagName("input"),n=this._map.getZoom(),o=i.length-1;0<=o;o--)t=i[o],e=this._getLayer(t.layerId).layer,t.disabled=e.options.minZoom!==b&&n<e.options.minZoom||e.options.maxZoom!==b&&n>e.options.maxZoom},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),k.control.layers=function(t,e,i){return new k.Control.Layers(t,e,i)}}(window,document),function(t){if("object"==typeof exports)module.exports=t();else if("function"==typeof define&&define.amd)define(t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.proj4=t()}}(function(){return function o(a,s,r){function l(i,t){if(!s[i]){if(!a[i]){var e="function"==typeof require&&require;if(!t&&e)return e(i,!0);if(h)return h(i,!0);throw new Error("Cannot find module '"+i+"'")}var n=s[i]={exports:{}};a[i][0].call(n.exports,function(t){var e=a[i][1][t];return l(e||t)},n,n.exports,o,a,s,r)}return s[i].exports}for(var h="function"==typeof require&&require,t=0;t<r.length;t++)l(r[t]);return l}({1:[function(t,e){function o(t,e,i){if(!(this instanceof o))return new o(t,e,i);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var n=t.split(",");this.x=parseFloat(n[0],10),this.y=parseFloat(n[1],10),this.z=parseFloat(n[2],10)||0}else this.x=t,this.y=e,this.z=i||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}var i=t("mgrs");o.fromMGRS=function(t){return new o(i.toPoint(t))},o.prototype.toMGRS=function(t){return i.forward([this.x,this.y],t)},e.exports=o},{mgrs:66}],2:[function(t,e){function a(t,e){if(!(this instanceof a))return new a(t);e=e||function(t){if(t)throw t};var i=s(t);if("object"==typeof i){var n=l(i),o=a.projections.get(n.projName);o?(r(this,n),r(this,o),this.init(),e(null,this)):e(t)}else e(t)}var s=t("./parseCode"),r=t("./extend"),i=t("./projections"),l=t("./deriveConstants");(a.projections=i).start(),e.exports=a},{"./deriveConstants":32,"./extend":33,"./parseCode":36,"./projections":38}],3:[function(t,e){e.exports=function(t,e,i){var n,o,a,s=i.x,r=i.y,l=i.z||0;for(a=0;a<3;a++)if(!e||2!==a||void 0!==i.z)switch(0===a?(n=s,o="x"):1===a?(n=r,o="y"):(n=l,o="z"),t.axis[a]){case"e":i[o]=n;break;case"w":i[o]=-n;break;case"n":i[o]=n;break;case"s":i[o]=-n;break;case"u":void 0!==i[o]&&(i.z=n);break;case"d":void 0!==i[o]&&(i.z=-n);break;default:return null}return i}},{}],4:[function(t,e){var i=Math.PI/2,n=t("./sign");e.exports=function(t){return Math.abs(t)<i?t:t-n(t)*Math.PI}},{"./sign":21}],5:[function(t,e){var i=2*Math.PI,n=t("./sign");e.exports=function(t){return Math.abs(t)<Math.PI?t:t-n(t)*i}},{"./sign":21}],6:[function(t,e){e.exports=function(t){return 1<Math.abs(t)&&(t=1<t?1:-1),Math.asin(t)}},{}],7:[function(t,e){e.exports=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))}},{}],8:[function(t,e){e.exports=function(t){return.375*t*(1+.25*t*(1+.46875*t))}},{}],9:[function(t,e){e.exports=function(t){return.05859375*t*t*(1+.75*t)}},{}],10:[function(t,e){e.exports=function(t){return t*t*t*(35/3072)}},{}],11:[function(t,e){e.exports=function(t,e,i){var n=e*i;return t/Math.sqrt(1-n*n)}},{}],12:[function(t,e){e.exports=function(t,e,i,n,o){var a,s;a=t/e;for(var r=0;r<15;r++)if(a+=s=(t-(e*a-i*Math.sin(2*a)+n*Math.sin(4*a)-o*Math.sin(6*a)))/(e-2*i*Math.cos(2*a)+4*n*Math.cos(4*a)-6*o*Math.cos(6*a)),Math.abs(s)<=1e-10)return a;return NaN}},{}],13:[function(t,e){var h=Math.PI/2;e.exports=function(t,e){var i=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-i)<1e-6)return e<0?-1*h:h;for(var n,o,a,s,r=Math.asin(.5*e),l=0;l<30;l++)if(o=Math.sin(r),a=Math.cos(r),s=t*o,r+=n=Math.pow(1-s*s,2)/(2*a)*(e/(1-t*t)-o/(1-s*s)+.5/t*Math.log((1-s)/(1+s))),Math.abs(n)<=1e-10)return r;return NaN}},{}],14:[function(t,e){e.exports=function(t,e,i,n,o){return t*o-e*Math.sin(2*o)+i*Math.sin(4*o)-n*Math.sin(6*o)}},{}],15:[function(t,e){e.exports=function(t,e,i){var n=t*e;return i/Math.sqrt(1-n*n)}},{}],16:[function(t,e){var r=Math.PI/2;e.exports=function(t,e){for(var i,n,o=.5*t,a=r-2*Math.atan(e),s=0;s<=15;s++)if(i=t*Math.sin(a),a+=n=r-2*Math.atan(e*Math.pow((1-i)/(1+i),o))-a,Math.abs(n)<=1e-10)return a;return-9999}},{}],17:[function(t,e){var n=.01068115234375;e.exports=function(t){var e=[];e[0]=1-t*(.25+t*(.046875+t*(.01953125+t*n))),e[1]=t*(.75-t*(.046875+t*(.01953125+t*n)));var i=t*t;return e[2]=i*(.46875-t*(.013020833333333334+.007120768229166667*t)),i*=t,e[3]=i*(.3645833333333333-.005696614583333333*t),e[4]=i*t*.3076171875,e}},{}],18:[function(t,e){var l=t("./pj_mlfn");e.exports=function(t,e,i){for(var n=1/(1-e),o=t,a=20;a;--a){var s=Math.sin(o),r=1-e*s*s;if(o-=r=(l(o,s,Math.cos(o),i)-t)*r*Math.sqrt(r)*n,Math.abs(r)<1e-10)return o}return o}},{"./pj_mlfn":19}],19:[function(t,e){e.exports=function(t,e,i,n){return i*=e,e*=e,n[0]*t-i*(n[1]+e*(n[2]+e*(n[3]+e*n[4])))}},{}],20:[function(t,e){e.exports=function(t,e){var i;return 1e-7<t?(1-t*t)*(e/(1-(i=t*e)*i)-.5/t*Math.log((1-i)/(1+i))):2*e}},{}],21:[function(t,e){e.exports=function(t){return t<0?-1:1}},{}],22:[function(t,e){e.exports=function(t,e){return Math.pow((1-t)/(1+t),e)}},{}],23:[function(t,e){e.exports=function(t){var e={x:t[0],y:t[1]};return 2<t.length&&(e.z=t[2]),3<t.length&&(e.m=t[3]),e}},{}],24:[function(t,e){var a=Math.PI/2;e.exports=function(t,e,i){var n=t*i,o=.5*t;return n=Math.pow((1-n)/(1+n),o),Math.tan(.5*(a-e))/n}},{}],25:[function(t,e,i){i.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},i.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},i.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},i.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},i.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},i.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},i.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},i.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},i.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},i.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},i.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},i.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},i.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},i.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},i.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},i.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}},{}],26:[function(t,e,i){i.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},i.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},i.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},i.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},i.airy={a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},i.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},i.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},i.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},i.andrae={a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},i.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},i.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},i.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},i.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},i.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},i.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},i.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},i.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},i.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},i.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},i.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},i.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},i.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},i.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},i.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},i.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},i.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},i.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},i.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},i.hough={a:6378270,rf:297,ellipseName:"Hough"},i.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},i.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},i.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},i.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},i.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},i.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},i.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},i.SEasia={a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},i.walbeck={a:6376896,b:6355834.8467,ellipseName:"Walbeck"},i.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},i.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},i.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"},i.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"},i.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}},{}],27:[function(t,e,i){i.greenwich=0,i.lisbon=-9.131906111111,i.paris=2.337229166667,i.bogota=-74.080916666667,i.madrid=-3.687938888889,i.rome=12.452333333333,i.bern=7.439583333333,i.jakarta=106.807719444444,i.ferro=-17.666666666667,i.brussels=4.367975,i.stockholm=18.058277777778,i.athens=23.7163375,i.oslo=10.722916666667},{}],28:[function(t,e){function a(t,e,i){var n;return Array.isArray(i)?(n=o(t,e,i),3===i.length?[n.x,n.y,n.z]:[n.x,n.y]):o(t,e,i)}function s(t){return t instanceof i?t:t.oProj?t.oProj:i(t)}var i=t("./Proj"),o=t("./transform"),r=i("WGS84");e.exports=function(e,i,t){e=s(e);var n,o=!1;return void 0===i?(i=e,e=r,o=!0):(void 0!==i.x||Array.isArray(i))&&(t=i,i=e,e=r,o=!0),i=s(i),t?a(e,i,t):(n={forward:function(t){return a(e,i,t)},inverse:function(t){return a(i,e,t)}},o&&(n.oProj=i),n)}},{"./Proj":2,"./transform":64}],29:[function(t,e){var k=Math.PI/2,i=484813681109536e-20,w=.3826834323650898,n=function(t){if(!(this instanceof n))return new n(t);if(this.datum_type=4,t){if(t.datumCode&&"none"===t.datumCode&&(this.datum_type=5),t.datum_params){for(var e=0;e<t.datum_params.length;e++)t.datum_params[e]=parseFloat(t.datum_params[e]);(0!==t.datum_params[0]||0!==t.datum_params[1]||0!==t.datum_params[2])&&(this.datum_type=1),3<t.datum_params.length&&(0!==t.datum_params[3]||0!==t.datum_params[4]||0!==t.datum_params[5]||0!==t.datum_params[6])&&(this.datum_type=2,t.datum_params[3]*=i,t.datum_params[4]*=i,t.datum_params[5]*=i,t.datum_params[6]=t.datum_params[6]/1e6+1)}this.datum_type=t.grids?3:this.datum_type,this.a=t.a,this.b=t.b,this.es=t.es,this.ep2=t.ep2,this.datum_params=t.datum_params,3===this.datum_type&&(this.grids=t.grids)}};n.prototype={compare_datums:function(t){return this.datum_type===t.datum_type&&(!(this.a!==t.a||5e-11<Math.abs(this.es-t.es))&&(1===this.datum_type?this.datum_params[0]===t.datum_params[0]&&this.datum_params[1]===t.datum_params[1]&&this.datum_params[2]===t.datum_params[2]:2===this.datum_type?this.datum_params[0]===t.datum_params[0]&&this.datum_params[1]===t.datum_params[1]&&this.datum_params[2]===t.datum_params[2]&&this.datum_params[3]===t.datum_params[3]&&this.datum_params[4]===t.datum_params[4]&&this.datum_params[5]===t.datum_params[5]&&this.datum_params[6]===t.datum_params[6]:3!==this.datum_type&&3!==t.datum_type||this.nadgrids===t.nadgrids))},geodetic_to_geocentric:function(t){var e,i,n,o,a,s,r,l=t.x,h=t.y,u=t.z?t.z:0;if(h<-k&&-1.001*k<h)h=-k;else if(k<h&&h<1.001*k)h=k;else if(h<-k||k<h)return null;return l>Math.PI&&(l-=2*Math.PI),a=Math.sin(h),r=Math.cos(h),s=a*a,e=((o=this.a/Math.sqrt(1-this.es*s))+u)*r*Math.cos(l),i=(o+u)*r*Math.sin(l),n=(o*(1-this.es)+u)*a,t.x=e,t.y=i,t.z=n,0},geocentric_to_geodetic:function(t){var e,i,n,o,a,s,r,l,h,u,c,d,p,f,m,_,g=t.x,v=t.y,y=t.z?t.z:0;if(!1,e=Math.sqrt(g*g+v*v),i=Math.sqrt(g*g+v*v+y*y),e/this.a<1e-12){if(!0,f=0,i/this.a<1e-12)return m=k,void(_=-this.b)}else f=Math.atan2(v,g);for(n=y/i,o=e/i,a=1/Math.sqrt(1-this.es*(2-this.es)*o*o),l=o*(1-this.es)*a,h=n*a,p=0;p++,_=e*l+y*h-(r=this.a/Math.sqrt(1-this.es*h*h))*(1-this.es*h*h),s=this.es*r/(r+_),d=(c=n*(a=1/Math.sqrt(1-s*(2-s)*o*o)))*l-(u=o*(1-s)*a)*h,l=u,h=c,1e-24<d*d&&p<30;);return m=Math.atan(c/Math.abs(u)),t.x=f,t.y=m,t.z=_,t},geocentric_to_geodetic_noniter:function(t){var e,i,n,o,a,s,r,l,h,u,c,d,p,f,m,_,g,v=t.x,y=t.y,b=t.z?t.z:0;if(v=parseFloat(v),y=parseFloat(y),b=parseFloat(b),g=!1,0!==v)e=Math.atan2(y,v);else if(0<y)e=k;else if(y<0)e=-k;else if(g=!0,(e=0)<b)i=k;else{if(!(b<0))return i=k,void(n=-this.b);i=-k}return a=v*v+y*y,s=1.0026*b,d=(o=Math.sqrt(a))/(l=Math.sqrt(s*s+a)),c=(u=s/l)*u*u,r=b+this.b*this.ep2*c,_=o-this.a*this.es*d*d*d,p=r/(h=Math.sqrt(r*r+_*_)),f=_/h,m=this.a/Math.sqrt(1-this.es*p*p),n=w<=f?o/f-m:f<=-w?o/-f-m:b/p+m*(this.es-1),!1===g&&(i=Math.atan(p/f)),t.x=e,t.y=i,t.z=n,t},geocentric_to_wgs84:function(t){if(1===this.datum_type)t.x+=this.datum_params[0],t.y+=this.datum_params[1],t.z+=this.datum_params[2];else if(2===this.datum_type){var e=this.datum_params[0],i=this.datum_params[1],n=this.datum_params[2],o=this.datum_params[3],a=this.datum_params[4],s=this.datum_params[5],r=this.datum_params[6],l=r*(t.x-s*t.y+a*t.z)+e,h=r*(s*t.x+t.y-o*t.z)+i,u=r*(-a*t.x+o*t.y+t.z)+n;t.x=l,t.y=h,t.z=u}},geocentric_from_wgs84:function(t){if(1===this.datum_type)t.x-=this.datum_params[0],t.y-=this.datum_params[1],t.z-=this.datum_params[2];else if(2===this.datum_type){var e=this.datum_params[0],i=this.datum_params[1],n=this.datum_params[2],o=this.datum_params[3],a=this.datum_params[4],s=this.datum_params[5],r=this.datum_params[6],l=(t.x-e)/r,h=(t.y-i)/r,u=(t.z-n)/r;t.x=l+s*h-a*u,t.y=-s*l+h+o*u,t.z=a*l-o*h+u}}},e.exports=n},{}],30:[function(t,e){var d=.006694379990141316;e.exports=function(t,e,i){function n(t){return 1===t||2===t}var o,a,s;if(t.compare_datums(e))return i;if(5===t.datum_type||5===e.datum_type)return i;var r=t.a,l=t.es,h=e.a,u=e.es,c=t.datum_type;if(3===c)if(0===this.apply_gridshift(t,0,i))t.a=6378137,t.es=d;else{if(!t.datum_params)return t.a=r,t.es=t.es,i;for(o=1,a=0,s=t.datum_params.length;a<s;a++)o*=t.datum_params[a];if(0===o)return t.a=r,t.es=t.es,i;c=3<t.datum_params.length?2:1}return 3===e.datum_type&&(e.a=6378137,e.es=d),(t.es!==e.es||t.a!==e.a||n(c)||n(e.datum_type))&&(t.geodetic_to_geocentric(i),n(t.datum_type)&&t.geocentric_to_wgs84(i),n(e.datum_type)&&e.geocentric_from_wgs84(i),e.geocentric_to_geodetic(i)),3===e.datum_type&&this.apply_gridshift(e,1,i),t.a=r,t.es=l,e.a=h,e.es=u,i}},{}],31:[function(t,e){function n(t){var e=this;if(2===arguments.length){var i=arguments[1];n[t]="string"==typeof i?"+"===i[0]?o(arguments[1]):a(arguments[1]):i}else if(1===arguments.length){if(Array.isArray(t))return t.map(function(t){Array.isArray(t)?n.apply(e,t):n(t)});if("string"==typeof t){if(t in n)return n[t]}else"EPSG"in t?n["EPSG:"+t.EPSG]=t:"ESRI"in t?n["ESRI:"+t.ESRI]=t:"IAU2000"in t?n["IAU2000:"+t.IAU2000]=t:console.log(t);return}}var i=t("./global"),o=t("./projString"),a=t("./wkt");i(n),e.exports=n},{"./global":34,"./projString":37,"./wkt":65}],32:[function(t,e){var n=t("./constants/Datum"),o=t("./constants/Ellipsoid"),a=t("./extend"),s=t("./datum");e.exports=function(t){if(t.datumCode&&"none"!==t.datumCode){var e=n[t.datumCode];e&&(t.datum_params=e.towgs84?e.towgs84.split(","):null,t.ellps=e.ellipse,t.datumName=e.datumName?e.datumName:t.datumCode)}if(!t.a){var i=o[t.ellps]?o[t.ellps]:o.WGS84;a(t,i)}return t.rf&&!t.b&&(t.b=(1-1/t.rf)*t.a),(0===t.rf||Math.abs(t.a-t.b)<1e-10)&&(t.sphere=!0,t.b=t.a),t.a2=t.a*t.a,t.b2=t.b*t.b,t.es=(t.a2-t.b2)/t.a2,t.e=Math.sqrt(t.es),t.R_A&&(t.a*=1-t.es*(.16666666666666666+t.es*(.04722222222222222+.022156084656084655*t.es)),t.a2=t.a*t.a,t.b2=t.b*t.b,t.es=0),t.ep2=(t.a2-t.b2)/t.b2,t.k0||(t.k0=1),t.axis||(t.axis="enu"),t.datum||(t.datum=s(t)),t}},{"./constants/Datum":25,"./constants/Ellipsoid":26,"./datum":29,"./extend":33}],33:[function(t,e){e.exports=function(t,e){var i,n;if(t=t||{},!e)return t;for(n in e)void 0!==(i=e[n])&&(t[n]=i);return t}},{}],34:[function(t,e){e.exports=function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}},{}],35:[function(t,e){var i=t("./core");i.defaultDatum="WGS84",i.Proj=t("./Proj"),i.WGS84=new i.Proj("WGS84"),i.Point=t("./Point"),i.toPoint=t("./common/toPoint"),i.defs=t("./defs"),i.transform=t("./transform"),i.mgrs=t("mgrs"),i.version=t("../package.json").version,t("./includedProjections")(i),e.exports=i},{"../package.json":67,"./Point":1,"./Proj":2,"./common/toPoint":23,"./core":28,"./defs":31,"./includedProjections":"gWUPNW","./transform":64,mgrs:66}],36:[function(t,e){var n=t("./defs"),o=t("./wkt"),a=t("./projString");e.exports=function(t){return"string"==typeof t?t in n?n[t]:(i=t,["GEOGCS","GEOCCS","PROJCS","LOCAL_CS"].reduce(function(t,e){return t+1+i.indexOf(e)},0)?o(t):"+"===t[0]?a(t):void 0):t;var i}},{"./defs":31,"./projString":37,"./wkt":65}],37:[function(t,e){var r=.017453292519943295,l=t("./constants/PrimeMeridian");e.exports=function(t){var i={},n={};t.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).forEach(function(t){var e=t.split("=");e.push(!0),n[e[0].toLowerCase()]=e[1]});var e,o,a,s={proj:"projName",datum:"datumCode",rf:function(t){i.rf=parseFloat(t,10)},lat_0:function(t){i.lat0=t*r},lat_1:function(t){i.lat1=t*r},lat_2:function(t){i.lat2=t*r},lat_ts:function(t){i.lat_ts=t*r},lon_0:function(t){i.long0=t*r},lon_1:function(t){i.long1=t*r},lon_2:function(t){i.long2=t*r},alpha:function(t){i.alpha=parseFloat(t)*r},lonc:function(t){i.longc=t*r},x_0:function(t){i.x0=parseFloat(t,10)},y_0:function(t){i.y0=parseFloat(t,10)},k_0:function(t){i.k0=parseFloat(t,10)},k:function(t){i.k0=parseFloat(t,10)},r_a:function(){i.R_A=!0},zone:function(t){i.zone=parseInt(t,10)},south:function(){i.utmSouth=!0},towgs84:function(t){i.datum_params=t.split(",").map(function(t){return parseFloat(t,10)})},to_meter:function(t){i.to_meter=parseFloat(t,10)},from_greenwich:function(t){i.from_greenwich=t*r},pm:function(t){i.from_greenwich=(l[t]?l[t]:parseFloat(t,10))*r},nadgrids:function(t){"@null"===t?i.datumCode="none":i.nadgrids=t},axis:function(t){var e="ewnsud";3===t.length&&-1!==e.indexOf(t.substr(0,1))&&-1!==e.indexOf(t.substr(1,1))&&-1!==e.indexOf(t.substr(2,1))&&(i.axis=t)}};for(e in n)o=n[e],e in s?"function"==typeof(a=s[e])?a(o):i[a]=o:i[e]=o;return"string"==typeof i.datumCode&&"WGS84"!==i.datumCode&&(i.datumCode=i.datumCode.toLowerCase()),i}},{"./constants/PrimeMeridian":27}],38:[function(t,e,i){function n(t,e){var i=s.length;return t.names?((s[i]=t).names.forEach(function(t){a[t.toLowerCase()]=i}),this):(console.log(e),!0)}var o=[t("./projections/merc"),t("./projections/longlat")],a={},s=[];i.add=n,i.get=function(t){if(!t)return!1;var e=t.toLowerCase();return void 0!==a[e]&&s[a[e]]?s[a[e]]:void 0},i.start=function(){o.forEach(n)}},{"./projections/longlat":50,"./projections/merc":51}],39:[function(t,e,i){var n=t("../common/msfnz"),l=t("../common/qsfnz"),h=t("../common/adjust_lon"),u=t("../common/asinz");i.init=function(){Math.abs(this.lat1+this.lat2)<1e-10||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=n(this.e3,this.sin_po,this.cos_po),this.qs1=l(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=n(this.e3,this.sin_po,this.cos_po),this.qs2=l(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=l(this.e3,this.sin_po,this.cos_po),this.ns0=1e-10<Math.abs(this.lat1-this.lat2)?(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},i.forward=function(t){var e=t.x,i=t.y;this.sin_phi=Math.sin(i),this.cos_phi=Math.cos(i);var n=l(this.e3,this.sin_phi,this.cos_phi),o=this.a*Math.sqrt(this.c-this.ns0*n)/this.ns0,a=this.ns0*h(e-this.long0),s=o*Math.sin(a)+this.x0,r=this.rh-o*Math.cos(a)+this.y0;return t.x=s,t.y=r,t},i.inverse=function(t){var e,i,n,o,a,s;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,0<=this.ns0?(e=Math.sqrt(t.x*t.x+t.y*t.y),n=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),n=-1),(o=0)!==e&&(o=Math.atan2(n*t.x,n*t.y)),n=e*this.ns0/this.a,this.sphere?s=Math.asin((this.c-n*n)/(2*this.ns0)):(i=(this.c-n*n)/this.ns0,s=this.phi1z(this.e3,i)),a=h(o/this.ns0+this.long0),t.x=a,t.y=s,t},i.phi1z=function(t,e){var i,n,o,a,s=u(.5*e);if(t<1e-10)return s;for(var r=t*t,l=1;l<=25;l++)if(s+=a=.5*(o=1-(n=t*(i=Math.sin(s)))*n)*o/Math.cos(s)*(e/(1-r)-i/o+.5/t*Math.log((1-n)/(1+n))),Math.abs(a)<=1e-7)return s;return null},i.names=["Albers_Conic_Equal_Area","Albers","aea"]},{"../common/adjust_lon":5,"../common/asinz":6,"../common/msfnz":15,"../common/qsfnz":20}],40:[function(t,e,i){var L=t("../common/adjust_lon"),S=Math.PI/2,A=1e-10,T=t("../common/mlfn"),O=t("../common/e0fn"),D=t("../common/e1fn"),I=t("../common/e2fn"),N=t("../common/e3fn"),B=t("../common/gN"),M=t("../common/asinz"),E=t("../common/imlfn");i.init=function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},i.forward=function(t){var e,i,n,o,a,s,r,l,h,u,c,d,p,f,m,_,g,v,y,b,k,w,M=t.x,E=t.y,x=Math.sin(t.y),P=Math.cos(t.y),C=L(M-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=A?(t.x=this.x0+this.a*(S-E)*Math.sin(C),t.y=this.y0-this.a*(S-E)*Math.cos(C)):Math.abs(this.sin_p12+1)<=A?(t.x=this.x0+this.a*(S+E)*Math.sin(C),t.y=this.y0+this.a*(S+E)*Math.cos(C)):(v=this.sin_p12*x+this.cos_p12*P*Math.cos(C),g=(_=Math.acos(v))/Math.sin(_),t.x=this.x0+this.a*g*P*Math.sin(C),t.y=this.y0+this.a*g*(this.cos_p12*x-this.sin_p12*P*Math.cos(C))):(e=O(this.es),i=D(this.es),n=I(this.es),o=N(this.es),Math.abs(this.sin_p12-1)<=A?(a=this.a*T(e,i,n,o,S),s=this.a*T(e,i,n,o,E),t.x=this.x0+(a-s)*Math.sin(C),t.y=this.y0-(a-s)*Math.cos(C)):Math.abs(this.sin_p12+1)<=A?(a=this.a*T(e,i,n,o,S),s=this.a*T(e,i,n,o,E),t.x=this.x0+(a+s)*Math.sin(C),t.y=this.y0+(a+s)*Math.cos(C)):(r=x/P,l=B(this.a,this.e,this.sin_p12),h=B(this.a,this.e,x),u=Math.atan((1-this.es)*r+this.es*l*this.sin_p12/(h*P)),y=0===(c=Math.atan2(Math.sin(C),this.cos_p12*Math.tan(u)-this.sin_p12*Math.cos(C)))?Math.asin(this.cos_p12*Math.sin(u)-this.sin_p12*Math.cos(u)):Math.abs(Math.abs(c)-Math.PI)<=A?-Math.asin(this.cos_p12*Math.sin(u)-this.sin_p12*Math.cos(u)):Math.asin(Math.sin(C)*Math.cos(u)/Math.sin(c)),d=this.e*this.sin_p12/Math.sqrt(1-this.es),_=l*y*(1-(b=y*y)*(m=(p=this.e*this.cos_p12*Math.cos(c)/Math.sqrt(1-this.es))*p)*(1-m)/6+(k=b*y)/8*(f=d*p)*(1-2*m)+(w=k*y)/120*(m*(4-7*m)-3*d*d*(1-7*m))-w*y/48*f),t.x=this.x0+_*Math.sin(c),t.y=this.y0+_*Math.cos(c))),t},i.inverse=function(t){var e,i,n,o,a,s,r,l,h,u,c,d,p,f,m,_,g,v,y,b,k,w;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*S*this.a)return;return i=e/this.a,n=Math.sin(i),o=Math.cos(i),a=this.long0,Math.abs(e)<=A?s=this.lat0:(s=M(o*this.sin_p12+t.y*n*this.cos_p12/e),r=Math.abs(this.lat0)-S,a=L(Math.abs(r)<=A?0<=this.lat0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y):this.long0+Math.atan2(t.x*n,e*this.cos_p12*o-t.y*this.sin_p12*n))),t.x=a,t.y=s,t}return l=O(this.es),h=D(this.es),u=I(this.es),c=N(this.es),Math.abs(this.sin_p12-1)<=A?(d=this.a*T(l,h,u,c,S),e=Math.sqrt(t.x*t.x+t.y*t.y),s=E((d-e)/this.a,l,h,u,c),a=L(this.long0+Math.atan2(t.x,-1*t.y))):Math.abs(this.sin_p12+1)<=A?(d=this.a*T(l,h,u,c,S),e=Math.sqrt(t.x*t.x+t.y*t.y),s=E((e-d)/this.a,l,h,u,c),a=L(this.long0+Math.atan2(t.x,t.y))):(e=Math.sqrt(t.x*t.x+t.y*t.y),m=Math.atan2(t.x,t.y),p=B(this.a,this.e,this.sin_p12),_=Math.cos(m),v=-(g=this.e*this.cos_p12*_)*g/(1-this.es),y=3*this.es*(1-v)*this.sin_p12*this.cos_p12*_/(1-this.es),w=1-v*(k=(b=e/p)-v*(1+v)*Math.pow(b,3)/6-y*(1+3*v)*Math.pow(b,4)/24)*k/2-b*k*k*k/6,f=Math.asin(this.sin_p12*Math.cos(k)+this.cos_p12*Math.sin(k)*_),a=L(this.long0+Math.asin(Math.sin(m)*Math.sin(k)/Math.cos(f))),s=Math.atan((1-this.es*w*this.sin_p12/Math.sin(f))*Math.tan(f)/(1-this.es))),t.x=a,t.y=s,t},i.names=["Azimuthal_Equidistant","aeqd"]},{"../common/adjust_lon":5,"../common/asinz":6,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/gN":11,"../common/imlfn":12,"../common/mlfn":14}],41:[function(t,e,i){var d=t("../common/mlfn"),n=t("../common/e0fn"),o=t("../common/e1fn"),a=t("../common/e2fn"),s=t("../common/e3fn"),p=t("../common/gN"),f=t("../common/adjust_lon"),m=t("../common/adjust_lat"),_=t("../common/imlfn"),g=Math.PI/2;i.init=function(){this.sphere||(this.e0=n(this.es),this.e1=o(this.es),this.e2=a(this.es),this.e3=s(this.es),this.ml0=this.a*d(this.e0,this.e1,this.e2,this.e3,this.lat0))},i.forward=function(t){var e,i,n=t.x,o=t.y;if(n=f(n-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(o)*Math.sin(n)),i=this.a*(Math.atan2(Math.tan(o),Math.cos(n))-this.lat0);else{var a=Math.sin(o),s=Math.cos(o),r=p(this.a,this.e,a),l=Math.tan(o)*Math.tan(o),h=n*Math.cos(o),u=h*h,c=this.es*s*s/(1-this.es);e=r*h*(1-u*l*(1/6-(8-l+8*c)*u/120)),i=this.a*d(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+r*a/s*u*(.5+(5-l+6*c)*u/24)}return t.x=e+this.x0,t.y=i+this.y0,t},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i,n=t.x/this.a,o=t.y/this.a;if(this.sphere){var a=o+this.lat0;e=Math.asin(Math.sin(a)*Math.cos(n)),i=Math.atan2(Math.tan(n),Math.cos(a))}else{var s=this.ml0/this.a+o,r=_(s,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(r)-g)<=1e-10)return t.x=this.long0,t.y=g,o<0&&(t.y*=-1),t;var l=p(this.a,this.e,Math.sin(r)),h=l*l*l/this.a/this.a*(1-this.es),u=Math.pow(Math.tan(r),2),c=n*this.a/l,d=c*c;e=r-l*Math.tan(r)/h*c*c*(.5-(1+3*u)*c*c/24),i=c*(1-d*(u/3+(1+3*u)*u*d/15))/Math.cos(r)}return t.x=f(i+this.long0),t.y=m(e),t},i.names=["Cassini","Cassini_Soldner","cass"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/gN":11,"../common/imlfn":12,"../common/mlfn":14}],42:[function(t,e,i){var r=t("../common/adjust_lon"),l=t("../common/qsfnz"),n=t("../common/msfnz"),o=t("../common/iqsfnz");i.init=function(){this.sphere||(this.k0=n(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},i.forward=function(t){var e,i,n=t.x,o=t.y,a=r(n-this.long0);if(this.sphere)e=this.x0+this.a*a*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(o)/Math.cos(this.lat_ts);else{var s=l(this.e,Math.sin(o));e=this.x0+this.a*this.k0*a,i=this.y0+this.a*s*.5/this.k0}return t.x=e,t.y=i,t},i.inverse=function(t){var e,i;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=r(this.long0+t.x/this.a/Math.cos(this.lat_ts)),i=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(i=o(this.e,2*t.y*this.k0/this.a),e=r(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=i,t},i.names=["cea"]},{"../common/adjust_lon":5,"../common/iqsfnz":13,"../common/msfnz":15,"../common/qsfnz":20}],43:[function(t,e,i){var a=t("../common/adjust_lon"),s=t("../common/adjust_lat");i.init=function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},i.forward=function(t){var e=t.x,i=t.y,n=a(e-this.long0),o=s(i-this.lat0);return t.x=this.x0+this.a*n*this.rc,t.y=this.y0+this.a*o,t},i.inverse=function(t){var e=t.x,i=t.y;return t.x=a(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=s(this.lat0+(i-this.y0)/this.a),t},i.names=["Equirectangular","Equidistant_Cylindrical","eqc"]},{"../common/adjust_lat":4,"../common/adjust_lon":5}],44:[function(t,e,i){var n=t("../common/e0fn"),o=t("../common/e1fn"),a=t("../common/e2fn"),s=t("../common/e3fn"),r=t("../common/msfnz"),l=t("../common/mlfn"),h=t("../common/adjust_lon"),u=t("../common/adjust_lat"),c=t("../common/imlfn");i.init=function(){Math.abs(this.lat1+this.lat2)<1e-10||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=n(this.es),this.e1=o(this.es),this.e2=a(this.es),this.e3=s(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=r(this.e,this.sinphi,this.cosphi),this.ml1=l(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<1e-10?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=r(this.e,this.sinphi,this.cosphi),this.ml2=l(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=l(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},i.forward=function(t){var e,i=t.x,n=t.y;if(this.sphere)e=this.a*(this.g-n);else{var o=l(this.e0,this.e1,this.e2,this.e3,n);e=this.a*(this.g-o)}var a=this.ns*h(i-this.long0),s=this.x0+e*Math.sin(a),r=this.y0+this.rh-e*Math.cos(a);return t.x=s,t.y=r,t},i.inverse=function(t){var e,i,n,o;t.x-=this.x0,t.y=this.rh-t.y+this.y0,0<=this.ns?(i=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(i=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var a=0;if(0!==i&&(a=Math.atan2(e*t.x,e*t.y)),this.sphere)return o=h(this.long0+a/this.ns),n=u(this.g-i/this.a),t.x=o,t.y=n,t;var s=this.g-i/this.a;return n=c(s,this.e0,this.e1,this.e2,this.e3),o=h(this.long0+a/this.ns),t.x=o,t.y=n,t},i.names=["Equidistant_Conic","eqdc"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/imlfn":12,"../common/mlfn":14,"../common/msfnz":15}],45:[function(t,e,i){var a=Math.PI/4,s=t("../common/srat"),r=Math.PI/2;i.init=function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+a)/(Math.pow(Math.tan(.5*this.lat0+a),this.C)*s(this.e*t,this.ratexp))},i.forward=function(t){var e=t.x,i=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*i+a),this.C)*s(this.e*Math.sin(i),this.ratexp))-r,t.x=this.C*e,t},i.inverse=function(t){for(var e=t.x/this.C,i=t.y,n=Math.pow(Math.tan(.5*i+a)/this.K,1/this.C),o=20;0<o&&(i=2*Math.atan(n*s(this.e*Math.sin(t.y),-.5*this.e))-r,!(Math.abs(i-t.y)<1e-14));--o)t.y=i;return o?(t.x=e,t.y=i,t):null},i.names=["gauss"]},{"../common/srat":22}],46:[function(t,e,i){var u=t("../common/adjust_lon"),r=t("../common/asinz");i.init=function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},i.forward=function(t){var e,i,n,o,a,s,r,l=t.x,h=t.y;return n=u(l-this.long0),e=Math.sin(h),i=Math.cos(h),o=Math.cos(n),1,0<(a=this.sin_p14*e+this.cos_p14*i*o)||Math.abs(a)<=1e-10?(s=this.x0+1*this.a*i*Math.sin(n)/a,r=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*i*o)/a):(s=this.x0+this.infinity_dist*i*Math.sin(n),r=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*i*o)),t.x=s,t.y=r,t},i.inverse=function(t){var e,i,n,o,a,s;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(o=Math.atan2(e,this.rc),i=Math.sin(o),n=Math.cos(o),s=r(n*this.sin_p14+t.y*i*this.cos_p14/e),a=Math.atan2(t.x*i,e*this.cos_p14*n-t.y*this.sin_p14*i),a=u(this.long0+a)):(s=this.phic0,a=0),t.x=a,t.y=s,t},i.names=["gnom"]},{"../common/adjust_lon":5,"../common/asinz":6}],47:[function(t,e,i){var c=t("../common/adjust_lon");i.init=function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},i.forward=function(t){var e,i,n,o,a,s,r,l=t.x,h=t.y,u=c(l-this.long0);return e=Math.pow((1+this.e*Math.sin(h))/(1-this.e*Math.sin(h)),this.alfa*this.e/2),i=2*(Math.atan(this.k*Math.pow(Math.tan(h/2+this.s45),this.alfa)/e)-this.s45),n=-u*this.alfa,o=Math.asin(Math.cos(this.ad)*Math.sin(i)+Math.sin(this.ad)*Math.cos(i)*Math.cos(n)),a=Math.asin(Math.cos(i)*Math.sin(n)/Math.cos(o)),s=this.n*a,r=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(o/2+this.s45),this.n),t.y=r*Math.cos(s)/1,t.x=r*Math.sin(s)/1,this.czech||(t.y*=-1,t.x*=-1),t},i.inverse=function(t){var e,i,n,o,a,s,r,l=t.x;t.x=t.y,t.y=l,this.czech||(t.y*=-1,t.x*=-1),a=Math.sqrt(t.x*t.x+t.y*t.y),o=Math.atan2(t.y,t.x)/Math.sin(this.s0),n=2*(Math.atan(Math.pow(this.ro0/a,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(n)-Math.sin(this.ad)*Math.cos(n)*Math.cos(o)),i=Math.asin(Math.cos(n)*Math.sin(o)/Math.cos(e)),t.x=this.long0-i/this.alfa,s=e;for(var h=r=0;t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),Math.abs(s-t.y)<1e-10&&(r=1),s=t.y,h+=1,0===r&&h<15;);return 15<=h?null:t},i.names=["Krovak","krovak"]},{"../common/adjust_lon":5}],48:[function(t,e,i){var p=Math.PI/2,f=Math.PI/4,m=1e-10,_=t("../common/qsfnz"),g=t("../common/adjust_lon");i.S_POLE=1,i.N_POLE=2,i.EQUIT=3,i.OBLIQ=4,i.init=function(){var t,e=Math.abs(this.lat0);if(this.mode=Math.abs(e-p)<m?this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<m?this.EQUIT:this.OBLIQ,0<this.es)switch(this.qp=_(this.e,1),this.mmf=.5/(1-this.es),this.apa=this.authset(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=_(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},i.forward=function(t){var e,i,n,o,a,s,r,l,h,u,c=t.x,d=t.y;if(c=g(c-this.long0),this.sphere){if(a=Math.sin(d),u=Math.cos(d),n=Math.cos(c),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((i=this.mode===this.EQUIT?1+u*n:1+this.sinph0*a+this.cosph0*u*n)<=m)return null;e=(i=Math.sqrt(2/i))*u*Math.sin(c),i*=this.mode===this.EQUIT?a:this.cosph0*a-this.sinph0*u*n}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),Math.abs(d+this.phi0)<m)return null;i=f-.5*d,e=(i=2*(this.mode===this.S_POLE?Math.cos(i):Math.sin(i)))*Math.sin(c),i*=n}}else{switch(h=l=r=0,n=Math.cos(c),o=Math.sin(c),a=Math.sin(d),s=_(this.e,a),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(r=s/this.qp,l=Math.sqrt(1-r*r)),this.mode){case this.OBLIQ:h=1+this.sinb1*r+this.cosb1*l*n;break;case this.EQUIT:h=1+l*n;break;case this.N_POLE:h=p+d,s=this.qp-s;break;case this.S_POLE:h=d-p,s=this.qp+s}if(Math.abs(h)<m)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:h=Math.sqrt(2/h),i=this.mode===this.OBLIQ?this.ymf*h*(this.cosb1*r-this.sinb1*l*n):(h=Math.sqrt(2/(1+l*n)))*r*this.ymf,e=this.xmf*h*l*o;break;case this.N_POLE:case this.S_POLE:0<=s?(e=(h=Math.sqrt(s))*o,i=n*(this.mode===this.S_POLE?h:-h)):e=i=0}}return t.x=this.a*e+this.x0,t.y=this.a*i+this.y0,t},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i,n,o,a,s,r,l=t.x/this.a,h=t.y/this.a;if(this.sphere){var u,c=0,d=0;if(1<(i=.5*(u=Math.sqrt(l*l+h*h))))return null;switch(i=2*Math.asin(i),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(d=Math.sin(i),c=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(u)<=m?0:Math.asin(h*d/u),l*=d,h=c*u;break;case this.OBLIQ:i=Math.abs(u)<=m?this.phi0:Math.asin(c*this.sinph0+h*d*this.cosph0/u),l*=d*this.cosph0,h=(c-Math.sin(i)*this.sinph0)*u;break;case this.N_POLE:h=-h,i=p-i;break;case this.S_POLE:i-=p}e=0!==h||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(l,h):0}else{if(r=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(l/=this.dd,h*=this.dd,(s=Math.sqrt(l*l+h*h))<m)return t.x=0,t.y=this.phi0,t;o=2*Math.asin(.5*s/this.rq),n=Math.cos(o),l*=o=Math.sin(o),this.mode===this.OBLIQ?(r=n*this.sinb1+h*o*this.cosb1/s,a=this.qp*r,h=s*this.cosb1*n-h*this.sinb1*o):(r=h*o/s,a=this.qp*r,h=s*n)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(h=-h),!(a=l*l+h*h))return t.x=0,t.y=this.phi0,t;r=1-a/this.qp,this.mode===this.S_POLE&&(r=-r)}e=Math.atan2(l,h),i=this.authlat(Math.asin(r),this.apa)}return t.x=g(this.long0+e),t.y=i,t},i.P00=.3333333333333333,i.P01=.17222222222222222,i.P02=.10257936507936508,i.P10=.06388888888888888,i.P11=.0664021164021164,i.P20=.016415012942191543,i.authset=function(t){var e,i=[];return i[0]=t*this.P00,e=t*t,i[0]+=e*this.P01,i[1]=e*this.P10,e*=t,i[0]+=e*this.P02,i[1]+=e*this.P11,i[2]=e*this.P20,i},i.authlat=function(t,e){var i=t+t;return t+e[0]*Math.sin(i)+e[1]*Math.sin(i+i)+e[2]*Math.sin(i+i+i)},i.names=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"]},{"../common/adjust_lon":5,"../common/qsfnz":20}],49:[function(t,e,i){var u=t("../common/msfnz"),c=t("../common/tsfnz"),h=Math.PI/2,r=t("../common/sign"),d=t("../common/adjust_lon"),p=t("../common/phi2z");i.init=function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<1e-10)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),i=Math.cos(this.lat1),n=u(this.e,e,i),o=c(this.e,this.lat1,e),a=Math.sin(this.lat2),s=Math.cos(this.lat2),r=u(this.e,a,s),l=c(this.e,this.lat2,a),h=c(this.e,this.lat0,Math.sin(this.lat0));this.ns=1e-10<Math.abs(this.lat1-this.lat2)?Math.log(n/r)/Math.log(o/l):e,isNaN(this.ns)&&(this.ns=e),this.f0=n/(this.ns*Math.pow(o,this.ns)),this.rh=this.a*this.f0*Math.pow(h,this.ns),this.title||(this.title="Lambert Conformal Conic")}},i.forward=function(t){var e=t.x,i=t.y;Math.abs(2*Math.abs(i)-Math.PI)<=1e-10&&(i=r(i)*(h-2e-10));var n,o,a=Math.abs(Math.abs(i)-h);if(1e-10<a)n=c(this.e,i,Math.sin(i)),o=this.a*this.f0*Math.pow(n,this.ns);else{if((a=i*this.ns)<=0)return null;o=0}var s=this.ns*d(e-this.long0);return t.x=this.k0*o*Math.sin(s)+this.x0,t.y=this.k0*(this.rh-o*Math.cos(s))+this.y0,t},i.inverse=function(t){var e,i,n,o,a,s=(t.x-this.x0)/this.k0,r=this.rh-(t.y-this.y0)/this.k0;0<this.ns?(e=Math.sqrt(s*s+r*r),i=1):(e=-Math.sqrt(s*s+r*r),i=-1);var l=0;if(0!==e&&(l=Math.atan2(i*s,i*r)),0!==e||0<this.ns){if(i=1/this.ns,n=Math.pow(e/(this.a*this.f0),i),-9999===(o=p(this.e,n)))return null}else o=-h;return a=d(l/this.ns+this.long0),t.x=a,t.y=o,t},i.names=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]},{"../common/adjust_lon":5,"../common/msfnz":15,"../common/phi2z":16,"../common/sign":21,"../common/tsfnz":24}],50:[function(t,e,i){function n(t){return t}i.init=function(){},i.forward=n,i.inverse=n,i.names=["longlat","identity"]},{}],51:[function(t,e,i){var n=t("../common/msfnz"),r=Math.PI/2,l=57.29577951308232,h=t("../common/adjust_lon"),u=Math.PI/4,c=t("../common/tsfnz"),s=t("../common/phi2z");i.init=function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.k0=this.sphere?Math.cos(this.lat_ts):n(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k0=this.k?this.k:1)},i.forward=function(t){var e,i,n=t.x,o=t.y;if(90<o*l&&o*l<-90&&180<n*l&&n*l<-180)return null;if(Math.abs(Math.abs(o)-r)<=1e-10)return null;if(this.sphere)e=this.x0+this.a*this.k0*h(n-this.long0),i=this.y0+this.a*this.k0*Math.log(Math.tan(u+.5*o));else{var a=Math.sin(o),s=c(this.e,o,a);e=this.x0+this.a*this.k0*h(n-this.long0),i=this.y0-this.a*this.k0*Math.log(s)}return t.x=e,t.y=i,t},i.inverse=function(t){var e,i,n=t.x-this.x0,o=t.y-this.y0;if(this.sphere)i=r-2*Math.atan(Math.exp(-o/(this.a*this.k0)));else{var a=Math.exp(-o/(this.a*this.k0));if(-9999===(i=s(this.e,a)))return null}return e=h(this.long0+n/(this.a*this.k0)),t.x=e,t.y=i,t},i.names=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{"../common/adjust_lon":5,"../common/msfnz":15,"../common/phi2z":16,"../common/tsfnz":24}],52:[function(t,e,i){var s=t("../common/adjust_lon");i.init=function(){},i.forward=function(t){var e=t.x,i=t.y,n=s(e-this.long0),o=this.x0+this.a*n,a=this.y0+this.a*Math.log(Math.tan(Math.PI/4+i/2.5))*1.25;return t.x=o,t.y=a,t},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e=s(this.long0+t.x/this.a),i=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=i,t},i.names=["Miller_Cylindrical","mill"]},{"../common/adjust_lon":5}],53:[function(t,e,i){var u=t("../common/adjust_lon");i.init=function(){},i.forward=function(t){for(var e=t.x,i=t.y,n=u(e-this.long0),o=i,a=Math.PI*Math.sin(i),s=0;;s++){var r=-(o+Math.sin(o)-a)/(1+Math.cos(o));if(o+=r,Math.abs(r)<1e-10)break}o/=2,Math.PI/2-Math.abs(i)<1e-10&&(n=0);var l=.900316316158*this.a*n*Math.cos(o)+this.x0,h=1.4142135623731*this.a*Math.sin(o)+this.y0;return t.x=l,t.y=h,t},i.inverse=function(t){var e,i;t.x-=this.x0,t.y-=this.y0,i=t.y/(1.4142135623731*this.a),.999999999999<Math.abs(i)&&(i=.999999999999),e=Math.asin(i);var n=u(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));n<-Math.PI&&(n=-Math.PI),n>Math.PI&&(n=Math.PI),i=(2*e+Math.sin(2*e))/Math.PI,1<Math.abs(i)&&(i=1);var o=Math.asin(i);return t.x=n,t.y=o,t},i.names=["Mollweide","moll"]},{"../common/adjust_lon":5}],54:[function(t,e,i){var C=484813681109536e-20;i.iterations=1,i.init=function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},i.forward=function(t){var e,i=t.x,n=t.y-this.lat0,o=i-this.long0,a=n/C*1e-5,s=o,r=1,l=0;for(e=1;e<=10;e++)r*=a,l+=this.A[e]*r;var h,u=l,c=s,d=1,p=0,f=0,m=0;for(e=1;e<=6;e++)h=p*u+d*c,d=d*u-p*c,p=h,f=f+this.B_re[e]*d-this.B_im[e]*p,m=m+this.B_im[e]*d+this.B_re[e]*p;return t.x=m*this.a+this.x0,t.y=f*this.a+this.y0,t},i.inverse=function(t){var e,i,n=t.x,o=t.y,a=n-this.x0,s=(o-this.y0)/this.a,r=a/this.a,l=1,h=0,u=0,c=0;for(e=1;e<=6;e++)i=h*s+l*r,l=l*s-h*r,h=i,u=u+this.C_re[e]*l-this.C_im[e]*h,c=c+this.C_im[e]*l+this.C_re[e]*h;for(var d=0;d<this.iterations;d++){var p,f=u,m=c,_=s,g=r;for(e=2;e<=6;e++)p=m*u+f*c,f=f*u-m*c,m=p,_+=(e-1)*(this.B_re[e]*f-this.B_im[e]*m),g+=(e-1)*(this.B_im[e]*f+this.B_re[e]*m);f=1,m=0;var v=this.B_re[1],y=this.B_im[1];for(e=2;e<=6;e++)p=m*u+f*c,f=f*u-m*c,m=p,v+=e*(this.B_re[e]*f-this.B_im[e]*m),y+=e*(this.B_im[e]*f+this.B_re[e]*m);var b=v*v+y*y;u=(_*v+g*y)/b,c=(g*v-_*y)/b}var k=u,w=c,M=1,E=0;for(e=1;e<=9;e++)M*=k,E+=this.D[e]*M;var x=this.lat0+E*C*1e5,P=this.long0+w;return t.x=P,t.y=x,t},i.names=["New_Zealand_Map_Grid","nzmg"]},{}],55:[function(t,e,i){var m=t("../common/tsfnz"),_=t("../common/adjust_lon"),h=t("../common/phi2z"),p=Math.PI/2,f=Math.PI/4;i.init=function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),i=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-i*i);var n,o,a=m(this.e,this.lat0,t),s=this.bl/e*Math.sqrt((1-this.es)/(1-i*i));if(s*s<1&&(s=1),isNaN(this.longc)){var r=m(this.e,this.lat1,Math.sin(this.lat1)),l=m(this.e,this.lat2,Math.sin(this.lat2));this.el=0<=this.lat0?(s+Math.sqrt(s*s-1))*Math.pow(a,this.bl):(s-Math.sqrt(s*s-1))*Math.pow(a,this.bl);var h=Math.pow(r,this.bl),u=Math.pow(l,this.bl);o=.5*((n=this.el/h)-1/n);var c=(this.el*this.el-u*h)/(this.el*this.el+u*h),d=(u-h)/(u+h),p=_(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(c*Math.tan(.5*this.bl*p)/d)/this.bl,this.long0=_(this.long0);var f=_(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*f)/o),this.alpha=Math.asin(s*Math.sin(this.gamma0))}else n=0<=this.lat0?s+Math.sqrt(s*s-1):s-Math.sqrt(s*s-1),this.el=n*Math.pow(a,this.bl),o=.5*(n-1/n),this.gamma0=Math.asin(Math.sin(this.alpha)/s),this.long0=this.longc-Math.asin(o*Math.tan(this.gamma0))/this.bl;this.uc=this.no_off?0:0<=this.lat0?this.al/this.bl*Math.atan2(Math.sqrt(s*s-1),Math.cos(this.alpha)):-1*this.al/this.bl*Math.atan2(Math.sqrt(s*s-1),Math.cos(this.alpha))},i.forward=function(t){var e,i,n,o=t.x,a=t.y,s=_(o-this.long0);if(Math.abs(Math.abs(a)-p)<=1e-10)n=0<a?-1:1,i=this.al/this.bl*Math.log(Math.tan(f+n*this.gamma0*.5)),e=-1*n*p*this.al/this.bl;else{var r=m(this.e,a,Math.sin(a)),l=this.el/Math.pow(r,this.bl),h=.5*(l-1/l),u=.5*(l+1/l),c=Math.sin(this.bl*s),d=(h*Math.sin(this.gamma0)-c*Math.cos(this.gamma0))/u;i=Math.abs(Math.abs(d)-1)<=1e-10?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-d)/(1+d))/this.bl,e=Math.abs(Math.cos(this.bl*s))<=1e-10?this.al*this.bl*s:this.al*Math.atan2(h*Math.cos(this.gamma0)+c*Math.sin(this.gamma0),Math.cos(this.bl*s))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+i):(e-=this.uc,t.x=this.x0+i*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-i*Math.sin(this.alpha)),t},i.inverse=function(t){var e,i;this.no_rot?(i=t.y-this.y0,e=t.x-this.x0):(i=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var n=Math.exp(-1*this.bl*i/this.al),o=.5*(n-1/n),a=.5*(n+1/n),s=Math.sin(this.bl*e/this.al),r=(s*Math.cos(this.gamma0)+o*Math.sin(this.gamma0))/a,l=Math.pow(this.el/Math.sqrt((1+r)/(1-r)),1/this.bl);return Math.abs(r-1)<1e-10?(t.x=this.long0,t.y=p):Math.abs(r+1)<1e-10?(t.x=this.long0,t.y=-1*p):(t.y=h(this.e,l),t.x=_(this.long0-Math.atan2(o*Math.cos(this.gamma0)-s*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t},i.names=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]},{"../common/adjust_lon":5,"../common/phi2z":16,"../common/tsfnz":24}],56:[function(t,e,i){var n=t("../common/e0fn"),o=t("../common/e1fn"),a=t("../common/e2fn"),s=t("../common/e3fn"),_=t("../common/adjust_lon"),l=t("../common/adjust_lat"),g=t("../common/mlfn"),v=1e-10,h=t("../common/gN");i.init=function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=n(this.es),this.e1=o(this.es),this.e2=a(this.es),this.e3=s(this.es),this.ml0=this.a*g(this.e0,this.e1,this.e2,this.e3,this.lat0)},i.forward=function(t){var e,i,n,o=t.x,a=t.y,s=_(o-this.long0);if(n=s*Math.sin(a),this.sphere)Math.abs(a)<=v?(e=this.a*s,i=-1*this.a*this.lat0):(e=this.a*Math.sin(n)/Math.tan(a),i=this.a*(l(a-this.lat0)+(1-Math.cos(n))/Math.tan(a)));else if(Math.abs(a)<=v)e=this.a*s,i=-1*this.ml0;else{var r=h(this.a,this.e,Math.sin(a))/Math.tan(a);e=r*Math.sin(n),i=this.a*g(this.e0,this.e1,this.e2,this.e3,a)-this.ml0+r*(1-Math.cos(n))}return t.x=e+this.x0,t.y=i+this.y0,t},i.inverse=function(t){var e,i,n,o,a,s,r,l,h;if(n=t.x-this.x0,o=t.y-this.y0,this.sphere)if(Math.abs(o+this.a*this.lat0)<=v)e=_(n/this.a+this.long0),i=0;else{var u;for(s=this.lat0+o/this.a,r=n*n/this.a/this.a+s*s,l=s,a=20;a;--a)if(l+=h=-1*(s*(l*(u=Math.tan(l))+1)-l-.5*(l*l+r)*u)/((l-s)/u-1),Math.abs(h)<=v){i=l;break}e=_(this.long0+Math.asin(n*Math.tan(l)/this.a)/Math.sin(i))}else if(Math.abs(o+this.ml0)<=v)i=0,e=_(this.long0+n/this.a);else{var c,d,p,f,m;for(s=(this.ml0+o)/this.a,r=n*n/this.a/this.a+s*s,l=s,a=20;a;--a)if(m=this.e*Math.sin(l),c=Math.sqrt(1-m*m)*Math.tan(l),d=this.a*g(this.e0,this.e1,this.e2,this.e3,l),p=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),l-=h=(s*(c*(f=d/this.a)+1)-f-.5*c*(f*f+r))/(this.es*Math.sin(2*l)*(f*f+r-2*s*f)/(4*c)+(s-f)*(c*p-2/Math.sin(2*l))-p),Math.abs(h)<=v){i=l;break}c=Math.sqrt(1-this.es*Math.pow(Math.sin(i),2))*Math.tan(i),e=_(this.long0+Math.asin(n*c/this.a)/Math.sin(i))}return t.x=e,t.y=i,t},i.names=["Polyconic","poly"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/gN":11,"../common/mlfn":14}],57:[function(t,e,i){var u=t("../common/adjust_lon"),a=t("../common/adjust_lat"),n=t("../common/pj_enfn"),c=t("../common/pj_mlfn"),s=t("../common/pj_inv_mlfn"),r=Math.PI/2,l=t("../common/asinz");i.init=function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=n(this.es)},i.forward=function(t){var e,i,n=t.x,o=t.y;if(n=u(n-this.long0),this.sphere){if(this.m)for(var a=this.n*Math.sin(o),s=20;s;--s){var r=(this.m*o+Math.sin(o)-a)/(this.m+Math.cos(o));if(o-=r,Math.abs(r)<1e-10)break}else o=1!==this.n?Math.asin(this.n*Math.sin(o)):o;e=this.a*this.C_x*n*(this.m+Math.cos(o)),i=this.a*this.C_y*o}else{var l=Math.sin(o),h=Math.cos(o);i=this.a*c(o,l,h,this.en),e=this.a*n*h/Math.sqrt(1-this.es*l*l)}return t.x=e,t.y=i,t},i.inverse=function(t){var e,i,n,o;return t.x-=this.x0,n=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,n/=this.C_x*(this.m+Math.cos(e)),this.m?e=l((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=l(Math.sin(e)/this.n)),n=u(n+this.long0),e=a(e)):(e=s(t.y/this.a,this.es,this.en),(o=Math.abs(e))<r?(o=Math.sin(e),i=this.long0+t.x*Math.sqrt(1-this.es*o*o)/(this.a*Math.cos(e)),n=u(i)):o-1e-10<r&&(n=this.long0)),t.x=n,t.y=e,t},i.names=["Sinusoidal","sinu"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/asinz":6,"../common/pj_enfn":17,"../common/pj_inv_mlfn":18,"../common/pj_mlfn":19}],58:[function(t,e,i){i.init=function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),i=this.a,n=1/this.rf,o=2*n-Math.pow(n,2),a=this.e=Math.sqrt(o);this.R=this.k0*i*Math.sqrt(1-o)/(1-o*Math.pow(e,2)),this.alpha=Math.sqrt(1+o/(1-o)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2)),r=Math.log(Math.tan(Math.PI/4+t/2)),l=Math.log((1+a*e)/(1-a*e));this.K=s-this.alpha*r+this.alpha*a/2*l},i.forward=function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),i=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),n=-this.alpha*(e+i)+this.K,o=2*(Math.atan(Math.exp(n))-Math.PI/4),a=this.alpha*(t.x-this.lambda0),s=Math.atan(Math.sin(a)/(Math.sin(this.b0)*Math.tan(o)+Math.cos(this.b0)*Math.cos(a))),r=Math.asin(Math.cos(this.b0)*Math.sin(o)-Math.sin(this.b0)*Math.cos(o)*Math.cos(a));return t.y=this.R/2*Math.log((1+Math.sin(r))/(1-Math.sin(r)))+this.y0,t.x=this.R*s+this.x0,t},i.inverse=function(t){for(var e=t.x-this.x0,i=t.y-this.y0,n=e/this.R,o=2*(Math.atan(Math.exp(i/this.R))-Math.PI/4),a=Math.asin(Math.cos(this.b0)*Math.sin(o)+Math.sin(this.b0)*Math.cos(o)*Math.cos(n)),s=Math.atan(Math.sin(n)/(Math.cos(this.b0)*Math.cos(n)-Math.sin(this.b0)*Math.tan(o))),r=this.lambda0+s/this.alpha,l=0,h=a,u=-1e3,c=0;1e-7<Math.abs(h-u);){if(20<++c)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+a/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(h))/2)),u=h,h=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=r,t.y=h,t},i.names=["somerc"]},{}],59:[function(t,e,i){var d=Math.PI/2,p=1e-10,n=t("../common/sign"),o=t("../common/msfnz"),f=t("../common/tsfnz"),l=t("../common/phi2z"),m=t("../common/adjust_lon");i.ssfn_=function(t,e,i){return e*=i,Math.tan(.5*(d+t))*Math.pow((1-e)/(1+e),.5*i)},i.init=function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=p&&(this.k0=.5*(1+n(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=p&&(this.con=0<this.lat0?1:-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=p&&(this.k0=.5*this.cons*o(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/f(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=o(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-d,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},i.forward=function(t){var e,i,n,o,a,s,r=t.x,l=t.y,h=Math.sin(l),u=Math.cos(l),c=m(r-this.long0);return Math.abs(Math.abs(r-this.long0)-Math.PI)<=p&&Math.abs(l+this.lat0)<=p?(t.x=NaN,t.y=NaN):this.sphere?(e=2*this.k0/(1+this.sinlat0*h+this.coslat0*u*Math.cos(c)),t.x=this.a*e*u*Math.sin(c)+this.x0,t.y=this.a*e*(this.coslat0*h-this.sinlat0*u*Math.cos(c))+this.y0):(i=2*Math.atan(this.ssfn_(l,h,this.e))-d,o=Math.cos(i),n=Math.sin(i),Math.abs(this.coslat0)<=p?(a=f(this.e,l*this.con,this.con*h),s=2*this.a*this.k0*a/this.cons,t.x=this.x0+s*Math.sin(r-this.long0),t.y=this.y0-this.con*s*Math.cos(r-this.long0)):(Math.abs(this.sinlat0)<p?(e=2*this.a*this.k0/(1+o*Math.cos(c)),t.y=e*n):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*n+this.cosX0*o*Math.cos(c))),t.y=e*(this.cosX0*n-this.sinX0*o*Math.cos(c))+this.y0),t.x=e*o*Math.sin(c)+this.x0)),t},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i,n,o,a,s=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var r=2*Math.atan(s/(.5*this.a*this.k0));return e=this.long0,i=this.lat0,s<=p||(i=Math.asin(Math.cos(r)*this.sinlat0+t.y*Math.sin(r)*this.coslat0/s),e=m(Math.abs(this.coslat0)<p?0<this.lat0?this.long0+Math.atan2(t.x,-1*t.y):this.long0+Math.atan2(t.x,t.y):this.long0+Math.atan2(t.x*Math.sin(r),s*this.coslat0*Math.cos(r)-t.y*this.sinlat0*Math.sin(r)))),t.x=e,t.y=i,t}if(Math.abs(this.coslat0)<=p){if(s<=p)return i=this.lat0,e=this.long0,t.x=e,t.y=i,t;t.x*=this.con,t.y*=this.con,n=s*this.cons/(2*this.a*this.k0),i=this.con*l(this.e,n),e=this.con*m(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else o=2*Math.atan(s*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,s<=p?a=this.X0:(a=Math.asin(Math.cos(o)*this.sinX0+t.y*Math.sin(o)*this.cosX0/s),e=m(this.long0+Math.atan2(t.x*Math.sin(o),s*this.cosX0*Math.cos(o)-t.y*this.sinX0*Math.sin(o)))),i=-1*l(this.e,Math.tan(.5*(d+a)));return t.x=e,t.y=i,t},i.names=["stere"]},{"../common/adjust_lon":5,"../common/msfnz":15,"../common/phi2z":16,"../common/sign":21,"../common/tsfnz":24}],60:[function(t,e,i){var r=t("./gauss"),l=t("../common/adjust_lon");i.init=function(){r.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},i.forward=function(t){var e,i,n,o;return t.x=l(t.x-this.long0),r.forward.apply(this,[t]),e=Math.sin(t.y),i=Math.cos(t.y),n=Math.cos(t.x),o=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*i*n),t.x=o*i*Math.sin(t.x),t.y=o*(this.cosc0*e-this.sinc0*i*n),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},i.inverse=function(t){var e,i,n,o,a;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,a=Math.sqrt(t.x*t.x+t.y*t.y)){var s=2*Math.atan2(a,this.R2);e=Math.sin(s),i=Math.cos(s),o=Math.asin(i*this.sinc0+t.y*e*this.cosc0/a),n=Math.atan2(t.x*e,a*this.cosc0*i-t.y*this.sinc0*e)}else o=this.phic0,n=0;return t.x=n,t.y=o,r.inverse.apply(this,[t]),t.x=l(t.x+this.long0),t},i.names=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative"]},{"../common/adjust_lon":5,"./gauss":45}],61:[function(t,e,i){var n=t("../common/e0fn"),o=t("../common/e1fn"),a=t("../common/e2fn"),s=t("../common/e3fn"),g=t("../common/mlfn"),E=t("../common/adjust_lon"),x=Math.PI/2,P=t("../common/sign"),C=t("../common/asinz");i.init=function(){this.e0=n(this.es),this.e1=o(this.es),this.e2=a(this.es),this.e3=s(this.es),this.ml0=this.a*g(this.e0,this.e1,this.e2,this.e3,this.lat0)},i.forward=function(t){var e,i,n,o=t.x,a=t.y,s=E(o-this.long0),r=Math.sin(a),l=Math.cos(a);if(this.sphere){var h=l*Math.sin(s);if(Math.abs(Math.abs(h)-1)<1e-10)return 93;i=.5*this.a*this.k0*Math.log((1+h)/(1-h)),e=Math.acos(l*Math.cos(s)/Math.sqrt(1-h*h)),a<0&&(e=-e),n=this.a*this.k0*(e-this.lat0)}else{var u=l*s,c=Math.pow(u,2),d=this.ep2*Math.pow(l,2),p=Math.tan(a),f=Math.pow(p,2);e=1-this.es*Math.pow(r,2);var m=this.a/Math.sqrt(e),_=this.a*g(this.e0,this.e1,this.e2,this.e3,a);i=this.k0*m*u*(1+c/6*(1-f+d+c/20*(5-18*f+Math.pow(f,2)+72*d-58*this.ep2)))+this.x0,n=this.k0*(_-this.ml0+m*p*c*(.5+c/24*(5-f+9*d+4*Math.pow(d,2)+c/30*(61-58*f+Math.pow(f,2)+600*d-330*this.ep2))))+this.y0}return t.x=i,t.y=n,t},i.inverse=function(t){var e,i,n,o,a,s;if(this.sphere){var r=Math.exp(t.x/(this.a*this.k0)),l=.5*(r-1/r),h=this.lat0+t.y/(this.a*this.k0),u=Math.cos(h);e=Math.sqrt((1-u*u)/(1+l*l)),a=C(e),h<0&&(a=-a),s=0===l&&0===u?this.long0:E(Math.atan2(l,u)+this.long0)}else{var c=t.x-this.x0,d=t.y-this.y0;for(i=e=(this.ml0+d/this.k0)/this.a,o=0;i+=n=(e+this.e1*Math.sin(2*i)-this.e2*Math.sin(4*i)+this.e3*Math.sin(6*i))/this.e0-i,!(Math.abs(n)<=1e-10);o++)if(6<=o)return 95;if(Math.abs(i)<x){var p=Math.sin(i),f=Math.cos(i),m=Math.tan(i),_=this.ep2*Math.pow(f,2),g=Math.pow(_,2),v=Math.pow(m,2),y=Math.pow(v,2);e=1-this.es*Math.pow(p,2);var b=this.a/Math.sqrt(e),k=b*(1-this.es)/e,w=c/(b*this.k0),M=Math.pow(w,2);a=i-b*m*M/k*(.5-M/24*(5+3*v+10*_-4*g-9*this.ep2-M/30*(61+90*v+298*_+45*y-252*this.ep2-3*g))),s=E(this.long0+w*(1-M/6*(1+2*v+_-M/20*(5-2*_+28*v-3*g+8*this.ep2+24*y)))/f)}else a=x*P(d),s=this.long0}return t.x=s,t.y=a,t},i.names=["Transverse_Mercator","Transverse Mercator","tmerc"]},{"../common/adjust_lon":5,"../common/asinz":6,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/mlfn":14,"../common/sign":21}],62:[function(t,e,i){var n=t("./tmerc");i.dependsOn="tmerc",i.init=function(){this.zone&&(this.lat0=0,this.long0=.017453292519943295*(6*Math.abs(this.zone)-183),this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,n.init.apply(this),this.forward=n.forward,this.inverse=n.inverse)},i.names=["Universal Transverse Mercator System","utm"]},{"./tmerc":61}],63:[function(t,e,i){var g=t("../common/adjust_lon"),v=Math.PI/2,y=t("../common/asinz");i.init=function(){this.R=this.a},i.forward=function(t){var e,i,n=t.x,o=t.y,a=g(n-this.long0);Math.abs(o)<=1e-10&&(e=this.x0+this.R*a,i=this.y0);var s=y(2*Math.abs(o/Math.PI));(Math.abs(a)<=1e-10||Math.abs(Math.abs(o)-v)<=1e-10)&&(e=this.x0,i=0<=o?this.y0+Math.PI*this.R*Math.tan(.5*s):this.y0+Math.PI*this.R*-Math.tan(.5*s));var r=.5*Math.abs(Math.PI/a-a/Math.PI),l=r*r,h=Math.sin(s),u=Math.cos(s),c=u/(h+u-1),d=c*c,p=c*(2/h-1),f=p*p,m=Math.PI*this.R*(r*(c-f)+Math.sqrt(l*(c-f)*(c-f)-(f+l)*(d-f)))/(f+l);a<0&&(m=-m),e=this.x0+m;var _=l+c;return m=Math.PI*this.R*(p*_-r*Math.sqrt((f+l)*(l+1)-_*_))/(f+l),i=0<=o?this.y0+m:this.y0-m,t.x=e,t.y=i,t},i.inverse=function(t){var e,i,n,o,a,s,r,l,h,u,c,d;return t.x-=this.x0,t.y-=this.y0,c=Math.PI*this.R,a=(n=t.x/c)*n+(o=t.y/c)*o,c=3*(o*o/(l=-2*(s=-Math.abs(o)*(1+a))+1+2*o*o+a*a)+(2*(r=s-2*o*o+n*n)*r*r/l/l/l-9*s*r/l/l)/27)/(h=(s-r*r/3/l)/l)/(u=2*Math.sqrt(-h/3)),1<Math.abs(c)&&(c=0<=c?1:-1),d=Math.acos(c)/3,i=0<=t.y?(-u*Math.cos(d+Math.PI/3)-r/3/l)*Math.PI:-(-u*Math.cos(d+Math.PI/3)-r/3/l)*Math.PI,e=Math.abs(n)<1e-10?this.long0:g(this.long0+Math.PI*(a-1+Math.sqrt(1+2*(n*n-o*o)+a*a))/2/n),t.x=e,t.y=i,t},i.names=["Van_der_Grinten_I","VanDerGrinten","vandg"]},{"../common/adjust_lon":5,"../common/asinz":6}],64:[function(t,e){var s=.017453292519943295,r=57.29577951308232,l=t("./datum_transform"),h=t("./adjust_axis"),u=t("./Proj"),c=t("./common/toPoint");e.exports=function t(e,i,n){function o(t,e){return(1===t.datum.datum_type||2===t.datum.datum_type)&&"WGS84"!==e.datumCode}var a;return Array.isArray(n)&&(n=c(n)),e.datum&&i.datum&&(o(e,i)||o(i,e))&&(t(e,a=new u("WGS84"),n),e=a),"enu"!==e.axis&&h(e,!1,n),"longlat"===e.projName?(n.x*=s,n.y*=s):(e.to_meter&&(n.x*=e.to_meter,n.y*=e.to_meter),e.inverse(n)),e.from_greenwich&&(n.x+=e.from_greenwich),n=l(e.datum,i.datum,n),i.from_greenwich&&(n.x-=i.from_greenwich),"longlat"===i.projName?(n.x*=r,n.y*=r):(i.forward(n),i.to_meter&&(n.x/=i.to_meter,n.y/=i.to_meter)),"enu"!==i.axis&&h(i,!0,n),n}},{"./Proj":2,"./adjust_axis":3,"./common/toPoint":23,"./datum_transform":30}],65:[function(t,e){function n(t,e,i){t[e]=i.map(function(t){var e={};return s(t,e),e}).reduce(function(t,e){return l(t,e)},{})}function s(t,e){var i;return Array.isArray(t)?("PARAMETER"===(i=t.shift())&&(i=t.shift()),void(1===t.length?Array.isArray(t[0])?(e[i]={},s(t[0],e[i])):e[i]=t[0]:t.length?"TOWGS84"===i?e[i]=t:(e[i]={},-1<["UNIT","PRIMEM","VERT_DATUM"].indexOf(i)?(e[i]={name:t[0].toLowerCase(),convert:t[1]},3===t.length&&(e[i].auth=t[2])):"SPHEROID"===i?(e[i]={name:t[0],a:t[1],rf:t[2]},4===t.length&&(e[i].auth=t[3])):-1<["GEOGCS","GEOCCS","DATUM","VERT_CS","COMPD_CS","LOCAL_CS","FITTED_CS","LOCAL_DATUM"].indexOf(i)?(t[0]=["name",t[0]],n(e,i,t)):t.every(function(t){return Array.isArray(t)})?n(e,i,t):s(t,e[i])):e[i]=!0)):void(e[t]=!0)}function r(t){return t*i}var i=.017453292519943295,l=t("./extend");e.exports=function(t,e){var i=JSON.parse((","+t).replace(/\s*\,\s*([A-Z_0-9]+?)(\[)/g,',["$1",').slice(1).replace(/\s*\,\s*([A-Z_0-9]+?)\]/g,',"$1"]')),n=i.shift(),o=i.shift();i.unshift(["name",o]),i.unshift(["type",n]),i.unshift("output");var a={};return s(i,a),function(a){function t(t){var e=a.to_meter||1;return parseFloat(t,10)*e}"GEOGCS"===a.type?a.projName="longlat":"LOCAL_CS"===a.type?(a.projName="identity",a.local=!0):a.projName="object"==typeof a.PROJECTION?Object.keys(a.PROJECTION)[0]:a.PROJECTION,a.UNIT&&(a.units=a.UNIT.name.toLowerCase(),"metre"===a.units&&(a.units="meter"),a.UNIT.convert&&(a.to_meter=parseFloat(a.UNIT.convert,10))),a.GEOGCS&&(a.datumCode=a.GEOGCS.DATUM?a.GEOGCS.DATUM.name.toLowerCase():a.GEOGCS.name.toLowerCase(),"d_"===a.datumCode.slice(0,2)&&(a.datumCode=a.datumCode.slice(2)),("new_zealand_geodetic_datum_1949"===a.datumCode||"new_zealand_1949"===a.datumCode)&&(a.datumCode="nzgd49"),"wgs_1984"===a.datumCode&&("Mercator_Auxiliary_Sphere"===a.PROJECTION&&(a.sphere=!0),a.datumCode="wgs84"),"_ferro"===a.datumCode.slice(-6)&&(a.datumCode=a.datumCode.slice(0,-6)),"_jakarta"===a.datumCode.slice(-8)&&(a.datumCode=a.datumCode.slice(0,-8)),~a.datumCode.indexOf("belge")&&(a.datumCode="rnb72"),a.GEOGCS.DATUM&&a.GEOGCS.DATUM.SPHEROID&&(a.ellps=a.GEOGCS.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===a.ellps.toLowerCase().slice(0,13)&&(a.ellps="intl"),a.a=a.GEOGCS.DATUM.SPHEROID.a,a.rf=parseFloat(a.GEOGCS.DATUM.SPHEROID.rf,10)),~a.datumCode.indexOf("osgb_1936")&&(a.datumCode="osgb36")),a.b&&!isFinite(a.b)&&(a.b=a.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",r],["longitude_of_center","Longitude_Of_Center"],["longc","longitude_of_center",r],["x0","false_easting",t],["y0","false_northing",t],["long0","central_meridian",r],["lat0","latitude_of_origin",r],["lat0","standard_parallel_1",r],["lat1","standard_parallel_1",r],["lat2","standard_parallel_2",r],["alpha","azimuth",r],["srsCode","name"]].forEach(function(t){return e=a,n=(i=t)[0],o=i[1],void(!(n in e)&&o in e&&(e[n]=e[o],3===i.length&&(e[n]=i[2](e[n]))));var e,i,n,o}),a.long0||!a.longc||"Albers_Conic_Equal_Area"!==a.PROJECTION&&"Lambert_Azimuthal_Equal_Area"!==a.PROJECTION||(a.long0=a.longc)}(a.output),l(e,a.output)}},{"./extend":33}],66:[function(t,e,i){function g(t){return t*(Math.PI/180)}function M(t){return t/Math.PI*180}function n(t,e){var i,n,o,a,s,r,l,h,u,c,d,p,f,m,_=""+t.easting,g=""+t.northing;return t.zoneNumber+t.zoneLetter+(i=t.easting,n=t.northing,o=t.zoneNumber,a=v(o),s=Math.floor(i/1e5),r=Math.floor(n/1e5)%20,l=s,h=r,u=a-1,c=b.charCodeAt(u),d=k.charCodeAt(u),m=!1,C<(p=c+l-1)&&(p=p-C+w-1,m=!0),(p===E||c<E&&E<p||(E<p||c<E)&&m)&&p++,(p===x||c<x&&x<p||(x<p||c<x)&&m)&&++p===E&&p++,C<p&&(p=p-C+w-1),P<(f=d+h)?(f=f-P+w-1,m=!0):m=!1,(f===E||d<E&&E<f||(E<f||d<E)&&m)&&f++,(f===x||d<x&&x<f||(x<f||d<x)&&m)&&++f===E&&f++,P<f&&(f=f-P+w-1),String.fromCharCode(p)+String.fromCharCode(f))+_.substr(_.length-5,e)+g.substr(g.length-5,e)}function v(t){var e=t%a;return 0===e&&(e=a),e}function o(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,i=t.length,n=null,o="",a=0;!/[A-Z]/.test(e=t.charAt(a));){if(2<=a)throw"MGRSPoint bad conversion from: "+t;o+=e,a++}var s=parseInt(o,10);if(0===a||i<a+3)throw"MGRSPoint bad conversion from: "+t;var r=t.charAt(a++);if(r<="A"||"B"===r||"Y"===r||"Z"<=r||"I"===r||"O"===r)throw"MGRSPoint zone letter "+r+" not handled: "+t;n=t.substring(a,a+=2);for(var l=v(s),h=function(t,e){for(var i=b.charCodeAt(e-1),n=1e5,o=!1;i!==t.charCodeAt(0);){if(++i===E&&i++,i===x&&i++,C<i){if(o)throw"Bad character: "+t;i=w,o=!0}n+=1e5}return n}(n.charAt(0),l),u=function(t,e){if("V"<t)throw"MGRSPoint given invalid Northing "+t;for(var i=k.charCodeAt(e-1),n=0,o=!1;i!==t.charCodeAt(0);){if(++i===E&&i++,i===x&&i++,P<i){if(o)throw"Bad character: "+t;i=w,o=!0}n+=1e5}return n}(n.charAt(1),l);u<y(r);)u+=2e6;var c=i-a;if(c%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var d,p,f,m=c/2,_=0,g=0;return 0<m&&(d=1e5/Math.pow(10,m),p=t.substring(a,a+m),_=parseFloat(p)*d,f=t.substring(a+m),g=parseFloat(f)*d),{easting:_+h,northing:g+u,zoneLetter:r,zoneNumber:s,accuracy:d}}function y(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(0<=e)return e;throw"Invalid zone letter: "+t}var a=6,b="AJSAJS",k="AFAFAF",w=65,E=73,x=79,P=86,C=90;i.forward=function(t,e){return e=e||5,n(function(t){var e,i,n,o,a,s,r,l=t.lat,h=t.lon,u=.00669438,c=g(l),d=g(h);r=Math.floor((h+180)/6)+1,180===h&&(r=60),56<=l&&l<64&&3<=h&&h<12&&(r=32),72<=l&&l<84&&(0<=h&&h<9?r=31:9<=h&&h<21?r=33:21<=h&&h<33?r=35:33<=h&&h<42&&(r=37)),s=g(6*(r-1)-180+3),e=u/(1-u),i=6378137/Math.sqrt(1-u*Math.sin(c)*Math.sin(c)),n=Math.tan(c)*Math.tan(c),o=e*Math.cos(c)*Math.cos(c);var p,f,m=.9996*i*((a=Math.cos(c)*(d-s))+(1-n+o)*a*a*a/6+(5-18*n+n*n+72*o-58*e)*a*a*a*a*a/120)+5e5,_=.9996*(6378137*(.9983242984503243*c-.002514607064228144*Math.sin(2*c)+2639046602129982e-21*Math.sin(4*c)-35*u*u*u/3072*Math.sin(6*c))+i*Math.tan(c)*(a*a/2+(5-n+9*o+4*o*o)*a*a*a*a/24+(61-58*n+n*n+600*o-330*e)*a*a*a*a*a*a/720));return l<0&&(_+=1e7),{northing:Math.round(_),easting:Math.round(m),zoneNumber:r,zoneLetter:(p=l,f="Z",p<=84&&72<=p?f="X":p<72&&64<=p?f="W":p<64&&56<=p?f="V":p<56&&48<=p?f="U":p<48&&40<=p?f="T":p<40&&32<=p?f="S":p<32&&24<=p?f="R":p<24&&16<=p?f="Q":p<16&&8<=p?f="P":p<8&&0<=p?f="N":p<0&&-8<=p?f="M":p<-8&&-16<=p?f="L":p<-16&&-24<=p?f="K":p<-24&&-32<=p?f="J":p<-32&&-40<=p?f="H":p<-40&&-48<=p?f="G":p<-48&&-56<=p?f="F":p<-56&&-64<=p?f="E":p<-64&&-72<=p?f="D":p<-72&&-80<=p&&(f="C"),f)}}({lat:t[1],lon:t[0]}),e)},i.inverse=function(t){var e=function t(e){var i=e.northing,n=e.easting,o=e.zoneLetter,a=e.zoneNumber;if(a<0||60<a)return null;var s,r,l,h,u,c,d,p,f,m=.00669438,_=(1-Math.sqrt(1-m))/(1+Math.sqrt(1-m)),g=n-5e5,v=i;o<"N"&&(v-=1e7),d=6*(a-1)-180+3,s=m/(1-m),f=(p=v/.9996/6367449.145945056)+(3*_/2-27*_*_*_/32)*Math.sin(2*p)+(21*_*_/16-55*_*_*_*_/32)*Math.sin(4*p)+151*_*_*_/96*Math.sin(6*p),r=6378137/Math.sqrt(1-m*Math.sin(f)*Math.sin(f)),l=Math.tan(f)*Math.tan(f),h=s*Math.cos(f)*Math.cos(f),u=6378137*(1-m)/Math.pow(1-m*Math.sin(f)*Math.sin(f),1.5),c=g/(.9996*r);var y=f-r*Math.tan(f)/u*(c*c/2-(5+3*l+10*h-4*h*h-9*s)*c*c*c*c/24+(61+90*l+298*h+45*l*l-252*s-3*h*h)*c*c*c*c*c*c/720);y=M(y);var b,k=(c-(1+2*l+h)*c*c*c/6+(5-2*h+28*l-3*h*h+8*s+24*l*l)*c*c*c*c*c/120)/Math.cos(f);if(k=d+M(k),e.accuracy){var w=t({northing:e.northing+e.accuracy,easting:e.easting+e.accuracy,zoneLetter:e.zoneLetter,zoneNumber:e.zoneNumber});b={top:w.lat,right:w.lon,bottom:y,left:k}}else b={lat:y,lon:k};return b}(o(t.toUpperCase()));return[e.left,e.bottom,e.right,e.top]},i.toPoint=function(t){var e=i.inverse(t);return[(e[2]+e[0])/2,(e[3]+e[1])/2]}},{}],67:[function(t,e){e.exports={name:"proj4",version:"2.2.2",description:"Proj4js is a JavaScript library to transform point coordinates from one coordinate system to another, including datum transformations.",main:"lib/index.js",directories:{test:"test",doc:"docs"},scripts:{test:"./node_modules/istanbul/lib/cli.js test ./node_modules/mocha/bin/_mocha test/test.js"},repository:{type:"git",url:"git://github.com/proj4js/proj4js.git"},author:"",license:"MIT",jam:{main:"dist/proj4.js",include:["dist/proj4.js","README.md","AUTHORS","LICENSE.md"]},devDependencies:{"grunt-cli":"~0.1.13",grunt:"~0.4.2","grunt-contrib-connect":"~0.6.0","grunt-contrib-jshint":"~0.8.0",chai:"~1.8.1",mocha:"~1.17.1","grunt-mocha-phantomjs":"~0.4.0",browserify:"~3.24.5","grunt-browserify":"~1.3.0","grunt-contrib-uglify":"~0.3.2",curl:"git://github.com/cujojs/curl.git",istanbul:"~0.2.4",tin:"~0.4.0"},dependencies:{mgrs:"0.0.0"}}},{}],"./includedProjections":[function(t,e){e.exports=t("gWUPNW")},{}],gWUPNW:[function(t,e){var i=[t("./lib/projections/tmerc"),t("./lib/projections/utm"),t("./lib/projections/sterea"),t("./lib/projections/stere"),t("./lib/projections/somerc"),t("./lib/projections/omerc"),t("./lib/projections/lcc"),t("./lib/projections/krovak"),t("./lib/projections/cass"),t("./lib/projections/laea"),t("./lib/projections/aea"),t("./lib/projections/gnom"),t("./lib/projections/cea"),t("./lib/projections/eqc"),t("./lib/projections/poly"),t("./lib/projections/nzmg"),t("./lib/projections/mill"),t("./lib/projections/sinu"),t("./lib/projections/moll"),t("./lib/projections/eqdc"),t("./lib/projections/vandg"),t("./lib/projections/aeqd")];e.exports=function(e){i.forEach(function(t){e.Proj.projections.add(t)})}},{"./lib/projections/aea":39,"./lib/projections/aeqd":40,"./lib/projections/cass":41,"./lib/projections/cea":42,"./lib/projections/eqc":43,"./lib/projections/eqdc":44,"./lib/projections/gnom":46,"./lib/projections/krovak":47,"./lib/projections/laea":48,"./lib/projections/lcc":49,"./lib/projections/mill":52,"./lib/projections/moll":53,"./lib/projections/nzmg":54,"./lib/projections/omerc":55,"./lib/projections/poly":56,"./lib/projections/sinu":57,"./lib/projections/somerc":58,"./lib/projections/stere":59,"./lib/projections/sterea":60,"./lib/projections/tmerc":61,"./lib/projections/utm":62,"./lib/projections/vandg":63}]},{},[35])(35)}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.geojson2svg=t()}}(function(){return function a(s,r,l){function h(i,t){if(!r[i]){if(!s[i]){var e="function"==typeof require&&require;if(!t&&e)return e(i,!0);if(u)return u(i,!0);var n=new Error("Cannot find module '"+i+"'");throw n.code="MODULE_NOT_FOUND",n}var o=r[i]={exports:{}};s[i][0].call(o.exports,function(t){var e=s[i][1][t];return h(e||t)},o,o.exports,a,s,r,l)}return r[i].exports}for(var u="function"==typeof require&&require,t=0;t<l.length;t++)h(l[t]);return h}({1:[function(t,e,i){var a,n,o;a=["Point","LineString","Polygon"],n=["MultiPoint","MultiLineString","MultiPolygon"],o={explode:function(i){return-1<n.indexOf(i.type)&&i.coordinates.map(function(t){var e={};return e.type=i.type.replace("Multi",""),e.coordinates=t,i.crs&&(e.crs=i.crs),e})},implode:function(t){var e=t.every(function(t){return-1<a.indexOf(t.type)}),i=t[0].crs||0,n=t.every(function(t){return(t.crs||0)==i});if(e&&n){var o={};return o.type="Multi"+t[0].type,o.coordinates=[],0!=i&&(o.crs=i),t.forEach(function(t){o.coordinates.push(t.coordinates)}),o}return!1}},void 0!==e&&e.exports?e.exports=o:window&&(window.multigeojson=o)},{}],2:[function(t,e,i){function l(t,e,i){return t.map(function(t){return(t[0]-i.x)/e+","+(i.y-t[1])/e}).join(" ")}function s(t,e,i,n){var o=n&&n.r?n.r:1,a=!(!n||!n.hasOwnProperty("pointAsCircle"))&&n.pointAsCircle,s=l([t.coordinates],e,i);return a?[s]:["M"+s+" m"+-o+",0 a"+o+","+o+" 0 1,1 "+2*o+",0 a"+o+","+o+" 0 1,1 "+-2*o+",0"]}function r(t,e,i,n){return["M"+l(t.coordinates,e,i)]}function h(t,e,i,n){var o,a;o=l(t.coordinates[0],e,i),1<t.coordinates.length&&(a=t.coordinates.slice(1,t.coordinates.length));var s="M"+o;if(a)for(var r=0;r<a.length;r++)s+=" M"+l(a[r],e,i);return[s+="Z"]}var u=t("multigeojson");e.exports={Point:s,MultiPoint:function(t,e,i,n){var o=!(!n||!n.hasOwnProperty("explode"))&&n.explode,a=u.explode(t).map(function(t){return s(t,e,i,n)[0]});return o?a:[a.join(" ")]},LineString:r,MultiLineString:function(t,e,i,n){var o=!(!n||!n.hasOwnProperty("explode"))&&n.explode,a=u.explode(t).map(function(t){return r(t,e,i)[0]});return o?a:[a.join(" ")]},Polygon:h,MultiPolygon:function(t,e,i,n){var o=!!n.hasOwnProperty("explode")&&n.explode,a=u.explode(t).map(function(t){return h(t,e,i)[0]});return o?a:[a.join(" ").replace(/Z/g,"")+"Z"]}}},{multigeojson:1}],3:[function(t,e,i){e.exports=function(e,i){var n={};return Object.keys(e).forEach(function(t){n[t]=e[t]}),Object.keys(i).forEach(function(t){n[t]=i[t]}),n}},{}],4:[function(t,e,i){function a(t,e){return e.split(".").reduce(function(t,e,i,n){if(t.hasOwnProperty(e))return t[e];throw new Error(n.slice(0,i+1).join(".")+" is not a valid property path")},t)}var s=t("./extend.js"),r=t("./converter.js"),n=function(t){this.options=t||{},this.viewportSize=this.options.viewportSize||{width:256,height:256},this.mapExtent=this.options.mapExtent||{left:-20037508.342789244,right:20037508.342789244,bottom:-20037508.342789244,top:20037508.342789244},this.res=this.calResolution(this.mapExtent,this.viewportSize,this.options.fitTo)};n.prototype.calResolution=function(t,e,i){var n=(t.right-t.left)/e.width,o=(t.top-t.bottom)/e.height;if(i){if("width"===i.toLowerCase())return n;if("height"===i.toLowerCase())return o;throw new Error('"fitTo" option should be "width" or "height" ')}return Math.max(n,o)},n.prototype.convert=function(t,e){var i=s(this.options,e||{}),n=[];if("FeatureCollection"==t.type)for(var o=0;o<t.features.length;o++)n=n.concat(this.convertFeature(t.features[o],i));else if("Feature"==t.type)n=this.convertFeature(t,i);else if("GeometryCollection"==t.type)for(o=0;o<t.geometries.length;o++)n=n.concat(this.convertGeometry(t.geometries[o],i));else{if(!r[t.type])return;n=this.convertGeometry(t,i)}return i.callback&&i.callback.call(this,n),n},n.prototype.convertFeature=function(o,t){if(o||o.geometry){var e=s(this.options,t||{});if(e.attributes&&e.attributes instanceof Array){var i=e.attributes;e.attributes=i.reduce(function(t,e){if("string"==typeof e){var i=e.split(".").pop();try{n=a(o,e)}catch(t){n=!1}n&&(t[i]=n)}else if("object"==typeof e&&e.type&&e.property)if("dynamic"===e.type){var n;i=e.key?e.key:e.property.split(".").pop();try{n=a(o,e.property)}catch(t){n=!1}n&&(t[i]=n)}else"static"===e.type&&e.value&&(t[e.property]=e.value);return t},{})}else e.attributes=e.attributes||{};var n=e.attributes.id||o.id||(o.properties&&o.properties.id?o.properties.id:null);return n&&(e.attributes.id=n),this.convertGeometry(o.geometry,e)}},n.prototype.convertGeometry=function(e,t){if(r[e.type]){var i=s(this.options,t||{}),n=i.output||"svg",o=r[e.type].call(this,e,this.res,{x:this.mapExtent.left,y:this.mapExtent.top},i);return"svg"==n.toLowerCase()?o.map(function(t){return function(t,e,i,n){var o={},a=!(!n||!n.hasOwnProperty("pointAsCircle"))&&n.pointAsCircle;for(var s in"Point"!=e&&"MultiPoint"!=e||!a?(o={d:t},("Polygon"==e||"MultiPolygon"==e)&&o["fill-rule"]):(o.cx=t.split(",")[0],o.cy=t.split(",")[1],o.r=n&&n.r?n.r:"1"),i)o[s]=i[s];return o}(t,e.type,i.attributes,i)}).map(function(t){return function(t,e,i){var n=!(!i||!i.hasOwnProperty("pointAsCircle"))&&i.pointAsCircle,o="<path";for(var a in"Point"!=e&&"MultiPoint"!=e||!n||(o="<circle"),t)o+=" "+a+'="'+t[a]+'"';return o+"/>"}(t,e.type,i)}):o}},e.exports=n},{"./converter.js":2,"./extend.js":3}],5:[function(t,e,i){var n=t("./instance.js");e.exports=function(t){return new n(t)}},{"./instance.js":4}]},{},[5])(5)}),document.addEventListener("DOMContentLoaded",function(t){var i=document.title;if(window.ons.platform.isWebView()&&window.history){window.fn.navigator.addEventListener("postpush",function(t){if("splitter"!==t.detail.enterPage.id){var e=t.detail.enterPage.querySelector(".toolbar__center").innerText;document.title=i+" - "+e,window.history.pushState(null,document.title)}});var e=!0;window.fn.navigator.addEventListener("postpop",function(t){e=!!t.detail.enterPage.data.historyAPI,t.detail.enterPage.data.historyAPI||history.back()}),window.addEventListener("popstate",function(t){e&&window.fn.navigator.popPage({data:{historyAPI:!0}}),e=!0})}});var cordova_ready=!1,isOnline=function(){},isOffline=function(){window.ons.notification.alert({message:"Je bent niet verbonden met de server. De gegevens die worden weergegeven zijn mogelijk verouderd."})};function initMap(t){var i=!1,n=window.L,o=window.fn.map=n.map("map",{zoomControl:!1,maxZoom:21,bounceAtZoomLimits:!1});n.control.zoom({position:"topright"}).addTo(o),o.setView([53.232,6.569],16),"sat"===window.fn.layerType?loadSat():loadKaart(),n.tileLayer.wms("https://geodata.nationaalgeoregister.nl/kadastralekaartv3/wms?",{layers:"kadastralekaartv3:kadastralegrens,perceel",format:"image/png",transparent:!0,version:"1.0.0",attribution:"www.nationaalgeoregister.nl",maxZoom:21,minZoom:10}).addTo(o);var e={color:"#006282",weight:5,opacity:.65},a=n.geoJson(void 0,{onEachFeature:function(i,t){if(i.properties){var e=[];i.properties.kadastraleGemeenteCode&&e.push("Gemeente Code: "+i.properties.kadastraleGemeenteCode),i.properties.type&&e.push("Type: "+i.properties.type||""),i.properties.kadastralegrootte&&e.push("Kadastrale grootte: "+i.properties.kadastralegrootte+"m<sup>2</sup>"),i.properties.logischtijdstipOntstaan&&e.push("Logisch tijdstip ontstaan: "+(i.properties.logischtijdstipOntstaan?new Date(i.properties.logischtijdstipOntstaan).toLocaleDateString("nl-NL"):"Niet beschikbaar")),i.properties.logischtijdstipVervallen&&e.push("Logisch tijdstip vervallen: "+i.properties.logischtijdstipVervallen||""),i.properties.lokaalID&&e.push("LokaalID: "+i.properties.lokaalID||""),i.properties.perceelnummer&&e.push("Perceel nummer: "+i.properties.perceelnummer||""),i.properties.sectie&&e.push("Sectie: "+i.properties.sectie||"");var n="popup-details-"+Math.random().toString(36);e.push('<br><ons-button id="'+n+'" class="button popup-details">Details</ons-button>'),t.on("add",function(t){t.target.openPopup();var e=document.getElementById(n);e.addEventListener("click",function(){document.getElementById("navigator").pushPage("views/details.html",{data:{feature:i}})})}),t.bindPopup(e.join("<br>"))}"plaatscoordinaten"===i.geometry_name&&t.on({click:u})},style:e});a.addTo(o);var s=n.geoJson(void 0,{onEachFeature:function(){},style:e});s.addTo(o);var r=window.fn.city;r?(window.fn.city=null,getJSON(r._links["city:item"].href,function(t){var e=t.location.latlon;o.setView(new n.LatLng(e.latitude,e.longitude),13)})):o.locate({setView:!0,maxZoom:30}),o.on("moveend",function(){var t=o.getZoom();!0;var e=Math.max(0,100-100*Math.min(100,t/17));document.getElementById("zoomlevel-progress").setAttribute("style","top: "+e+"%"),t<17?a.clearLayers():i=!0}),o.on("click",function(t){!function(t){if(o.getZoom()<17)return a.clearLayers();getJSON("https://epsg.io/trans?data="+t.lng+","+t.lat+"&s_srs=4326&&t_srs=28992",function(t){var e=t[0],i="request=getFeature&";i+="srsName=EPSG:4326&",i+="version=2.0.0&",i+="typenames=kadastralekaartv3:perceel&",i+="outputFormat=application/json&",getJSON("https://geodata.nationaalgeoregister.nl/kadastralekaartv3/wfs?"+(i+="cql_filter=CONTAINS(begrenzingperceel%2CPOINT("+e.x+" "+e.y+"))"),function(t){a.clearLayers(),a.addData(t.features)})})}(t.latlng)});var l=n.control();l.onAdd=function(t){return this._div=n.DomUtil.create("div","info"),this.update(),this._div},l.update=function(t){var e="";if(t)for(var i in e+="<h4>Eigenschappen:</h4>",t)e+="<br />"+i+": "+t[i];else this._div.innerHTML="<br />Selecteer een perceel";this._div.innerHTML=e},l.addTo(o);var h=setTimeout(function(){i||window.ons.notification.toast("Zoom in om kadaster informatie te bekijken.",{timeout:4e3,animation:"fall"})},6e3);function u(t){l.update(),s.clearLayers();var e=s.addData(t.target.feature.properties.begrenzingperceel);o.fitBounds(e.getBounds()),l.update(t.target.feature.properties)}t.addEventListener("hide",function(){clearTimeout(h)}),t.addEventListener("destroy",function(){o.eachLayer(function(t){t.remove()}),o.remove(),window.fn.map=null,document.getElementById("map").parentElement.removeChild(document.getElementById("map"))})}function loadKaart(){var t=window.L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{format:"image/png",transparent:!0,zIndex:0,maxNativeZoom:19,maxZoom:21});window.fn.layerType="kaart",window.fn.layer=t,window.fn.map.addLayer(t)}function loadSat(){var t=window.L.tileLayer("https://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}",{maxZoom:21,maxNativeZoom:19,zIndex:0,subdomains:["mt0","mt1","mt2","mt3"]});window.fn.layerType="sat",window.fn.layer=t,window.fn.map.addLayer(t)}function initSearchPage(t){document.getElementById("location-search").addEventListener("click",function(t){getJSON("https://api.teleport.org/api/cities/?search="+document.getElementById("location-search-input").value,function(t){for(var e=t._embedded["city:search-results"],i=[],n=0;n<e.length;n++)e[n].matching_full_name.match(/netherlands$/i)&&i.push(e[n]);!function(t){var n=document.getElementById("location-search-results");for(;n.firstChild;)n.removeChild(n.firstChild);t.forEach(function(t){var e=document.createElement("div"),i=t.matching_full_name.split(", ").slice(0,2).join(", ");e.innerHTML="<ons-list-item tappable>"+i+"</ons-list-item>",e.firstChild.addEventListener("click",function(){window.fn.city=t,window.fn.load("views/map.html")}),n.appendChild(e.firstChild)}),document.getElementById("location-search-card").setAttribute("class",""),0===t.length&&(n.innerHTML="<ons-list-item>Geen resultaten</ons-list-item>")}(i)})})}window.ons.disableAutoStatusBarFill(),window.addEventListener?(window.addEventListener("online",isOnline,!1),window.addEventListener("offline",isOffline,!1)):(document.body.ononline=isOnline,document.body.onoffline=isOffline),document.addEventListener("resume",function(){!1===navigator.onLine&&window.ons.notification.alert({message:"Je bent niet verbonden met de server. De gegevens die worden weergegeven zijn mogelijk verouderd."})},!1),document.addEventListener("init",function(t){var e=t.target;e.id,"map-page"===e.id?window.initMap(e):"details"===e.id?window.initDetails(e):"details-general"===e.id?window.initDetailsGeneral(e):"details-panden"===e.id?window.initDetailsPanden(e):"details-verblijfplaatsen"===e.id?window.initDetailsVerblijfsPlaatsen(e):"details-misc"===e.id?window.initDetailsMisc(e):"details-verblijfobject-detail"===e.id?window.initDetailsVerblijfObjectDetail(e):"search-page"===e.id&&window.initSearchPage(e)}),document.addEventListener("deviceready",function(){cordova_ready=!0,"browser"===cordova.platformId&&(document.body.appendChild(document.createElement("script")).src="./js/browser.js"),!1===navigator.onLine&&window.ons.notification.alert({message:"Je bent niet verbonden met de server. De gegevens die worden weergegeven zijn mogelijk verouderd.n"})},!1),window.fn={},window.fn.navigator=document.getElementById("navigator"),window.fn.open=function(){document.getElementById("menu").open()},window.fn.load=function(t){var e=document.getElementById("content"),i=document.getElementById("menu");e.load(t).then(i.close.bind(i))},window.fn.loadkaart=function(){window.fn.map&&window.fn.layer?"sat"===window.fn.layerType&&(window.fn.layer.remove(),loadKaart(),document.getElementById("menu").close()):(window.fn.layerType="kaart",window.fn.load("views/map.html"))},window.fn.loadluchtfoto=function(){window.fn.map&&window.fn.layer?"kaart"===window.fn.layerType&&(window.fn.layer.remove(),loadSat(),document.getElementById("menu").close()):(window.fn.layerType="sat",window.fn.load("views/map.html"))},function(){var i,n=[];getJSON("data/gemeente-codes.json",function(t){i=t;for(var e=0;e<n.length;e++)n(t)}),window.fn.getGemeenteCodes=function(t){i?t(i):n.push(t)}}(),function(){var l,h,u,c,d,p,f,m,_,g,v,y,b,k,w,M,E=new window.proj4.Proj("EPSG:4326"),x=new window.proj4.Proj("EPSG:3785");function r(t){var e=Math.abs(t),i=Math.floor(e),n=60*(e-i),o=Math.floor(n);return i+"° "+o+"' "+Math.floor(60*(n-o))+'"'}function P(t,e,i){var n="request=getFeature";return n+="&version=2.0.0",n+="&typenames=bag:"+e,n+="&srsName="+i,n+="&outputFormat=application/json","https://geodata.nationaalgeoregister.nl/bag/wfs?"+(n+="&cql_filter=BBOX(geometrie, "+t.join(",")+",'"+i+"')")}function s(t,e,i,n){g=m=1/0,_=f=-1/0;var o=t.geometry.coordinates;"MultiPolygon"!==t.geometry.type&&(o=[o]);for(var a=0;a<o.length;a++)for(var s=0;s<o[a].length;s++)for(var r=0;r<o[a][s].length;r++){var l=o[a][s][r][0],h=o[a][s][r][1];l<m&&(m=l),f<l&&(f=l),h<g&&(g=h),_<h&&(_=h)}return window.geojson2svg({viewportSize:{width:250,height:250},attributes:n,mapExtent:{left:m,right:f,bottom:g,top:_}}).convert(t)}window.initDetailsMisc=function(t){d.then(function(){u.then(function(){c.then(function(){!function(t){var n=document.getElementById("woonplaats-misc-list-item-container"),o=document.getElementById("ligplaatsen-misc-list-item-container"),a=document.getElementById("standplaatsen-misc-list-item-container");w.features.forEach(function(t){var e=t.properties,i=document.createElement("div");i.innerHTML='<ons-list-item><div class="left">'+e.woonplaats+'</div><div class="right"><small>'+t.id.replace("."," ")+", Identificatie: props.identificatie, Status: "+e.status+"</small></div></ons-list-item>",n.appendChild(i)}),0===w.features.length&&(n.innerHTML="<ons-list-item>Geen woonplaatsen gevonden</ons-list-item>");b.features.forEach(function(t){var e=t.properties,i="<ons-list-item expandable>";i+=t.id.replace("."," "),i+='<div class="expandable-content">',i+="<div><b>Actualiteitsdatum:</b> "+(e.actualiteitsdatum?new Date(e.actualiteitsdatum).toLocaleDateString("nl-NL"):"Niet beschikbaar")+"</div>",i+="<div><b>Huisletter</b> "+(e.huisletter||"")+"</div>",i+="<div><b>Huisnummer:</b> "+e.huisnummer+"</div>",i+="<div><b>Identificatie:</b> "+e.identificatie+"</div>",i+="<div><b>Openbare ruimte:</b> "+e.openbare_ruimte+"</div>",i+="<div><b>Postcode:</b> "+e.postcode+"</div>",i+="<div><b>Status:</b> "+e.status+"</div>",i+="<div><b>Toevoeging:</b> "+(e.toevoeging||"")+"</div>",i+="<div><b>Woonplaats:</b> "+e.woonplaats+"</div>",i+="</div></ons-list-item>";var n=document.createElement("div");n.innerHTML=i,o.appendChild(n)}),0===b.features.length&&(o.innerHTML="<ons-list-item>Geen ligplaatsen gevonden</ons-list-item>");k.features.forEach(function(t){var e=t.properties,i="<ons-list-item expandable>";i+=t.id.replace("."," "),i+='<div class="expandable-content">',i+="<div><b>Actualiteitsdatum:</b> "+(e.actualiteitsdatum?new Date(e.actualiteitsdatum).toLocaleDateString("nl-NL"):"Niet beschikbaar")+"</div>",i+="<div><b>Huisletter</b> "+(e.huisletter||"")+"</div>",i+="<div><b>Huisnummer:</b> "+e.huisnummer+"</div>",i+="<div><b>Identificatie:</b> "+e.identificatie+"</div>",i+="<div><b>Openbare ruimte:</b> "+e.openbare_ruimte+"</div>",i+="<div><b>Postcode:</b> "+e.postcode+"</div>",i+="<div><b>Status:</b> "+e.status+"</div>",i+="<div><b>Toevoeging:</b> "+(e.toevoeging||"")+"</div>",i+="<div><b>Woonplaats:</b> "+e.woonplaats+"</div>",i+="</div></ons-list-item>";var n=document.createElement("div");n.innerHTML=i,a.appendChild(n)}),0===k.features.length&&(a.innerHTML="<ons-list-item>Geen standplaatsen gevonden</ons-list-item>")}()})})})},window.initDetailsVerblijfObjectDetail=function(t){var e=t.data.verblijfobject.properties;document.getElementById("details-vo-actualiteitsdatum").innerText=e.actualiteitsdatum?new Date(e.actualiteitsdatum).toLocaleDateString("nl-NL"):"Niet beschikbaar",document.getElementById("details-vo-bouwjaar").innerText=e.bouwjaar||"Niet beschikbaar",document.getElementById("details-vo-gebruiksdoel").innerText=e.gebruiksdoel||"Niet beschikbaar",document.getElementById("details-vo-huisletter").innerText=e.huisletter||"Niet van toepassing",document.getElementById("details-vo-huisnummer").innerText=e.huisnummer||"Niet beschikbaar",document.getElementById("details-vo-identificatie").innerText=e.identificatie||"Niet beschikbaar",document.getElementById("details-vo-openbare-ruimte").innerText=e.openbare_ruimte||"Niet beschikbaar",document.getElementById("details-vo-oppervlakte").innerText=e.oppervlakte||"Niet beschikbaar",document.getElementById("details-vo-pandidentificatie").innerText=e.pandidentificatie||"Niet beschikbaar",document.getElementById("details-vo-pandstatus").innerText=e.pandstatus||"Niet beschikbaar",document.getElementById("details-vo-postcode").innerText=e.postcode,document.getElementById("details-vo-status").innerText=e.status||"Niet beschikbaar",document.getElementById("details-vo-toevoeging").innerText=e.toevoeging||"Niet van toepassing",document.getElementById("details-vo-woonplaats").innerText=e.woonplaats},window.initDetailsPanden=function(t){l.then(function(){for(var t=document.getElementById("details-panden-list-content"),e="",i=0;i<v.features.length;i++){var n=v.features[i].properties;e+="<ons-list-item expandable>";var o=s(v.features[i],250,250,{style:"stroke:#660000; fill: #F0F8FF;stroke-width:0.5px;","vector-effect":"non-scaling-stroke"});e+=v.features[i].id.replace("."," "),e+='<div class="expandable-content">',e+='<svg class="pand-svg" width="200" height="200" viewBox="0 0 250 250" xmlns="http://www.w3.org/2000/svg">',e+=o.join(""),e+="</svg>",e+="<div><b>Oppervlakte (min):</b> "+n.oppervlakte_min+"m<sup>2</sub></div>",e+="<div><b>Oppervlakte (max):</b> "+n.oppervlakte_max+"m<sup>2</sub></div>",e+="<div><b>Actualiteitsdatum:</b> "+(n.actualiteitsdatum||"Niet beschikbaar")+"</div>",e+="<div><b>Gebruiksdoel:</b> "+(n.gebruiksdoel||"Niet beschikbaar/van toepassing")+"</div>",e+="<div><b>Bouwjaar:</b> "+(n.bouwjaar||"Niet beschikbaar")+"</div>",e+="<div><b>Identificatie:</b> "+(n.identificatie||"Niet beschikbaar")+"</div>",e+="<div><b>Status:</b> "+(n.status||"Niet beschikbaar")+"</div>",e+="</div></ons-list-item>"}0===v.features.length&&(e+="<h3>Geen panden op dit perceel.</h3>");var a=document.createElement("div");a.innerHTML=e,t.appendChild(a)})},window.initDetailsVerblijfsPlaatsen=function(t){h.then(function(){for(var o=document.getElementById("details-verblijfplaatsen-list"),a=0;a<y.features.length;a++)!function(){var e=y.features[a],t=e.properties,i="<ons-list-item tappable>";i+='<div class="left">',i+='<svg class="pand-svg" width="40" height="40" viewBox="0 0 250 250" xmlns="http://www.w3.org/2000/svg">',i+=s({type:e.type,geometry:t.pandgeometrie},250,250,{style:"stroke:#660000; fill: #F0F8FF;stroke-width:0.5px;","vector-effect":"non-scaling-stroke"}).join(""),i+="</svg></div>",i+='<div class="center">',i+=[t.openbare_ruimte,t.huisnummer+t.huisletter+(t.toevoeging||"")+",",t.postcode+",",t.woonplaats].join(" "),i+="</div></ons-list-item>";var n=document.createElement("div");n.innerHTML=i;y.features[a];n.firstChild.addEventListener("click",function(t){document.getElementById("navigator").pushPage("views/details-verblijfobject-detail.html",{data:{verblijfobject:e}})}),o.appendChild(n.firstChild)}();if(0===y.features.length){var t=document.createElement("h3");t.innerText="Geen verblijfplaatsen op dit perceel.",o.appendChild(t)}})},window.initDetailsGeneral=function(t){l.then(function(){document.getElementById("details-svg").innerHTML=M,window.fn.getGemeenteCodes(function(t){document.getElementById("gemeente").innerText=t[p.properties.kadastraleGemeenteCode]}),document.getElementById("gemeente-code").innerText=p.properties.kadastraleGemeenteCode,document.getElementById("kadastrale-grootte").innerHTML=p.properties.kadastralegrootte.toLocaleString()+"m<sup>2</sub>",document.getElementById("logisch-ontstaan").innerText=new Date(p.properties.logischtijdstipOntstaan).toLocaleDateString("nl-NL"),p.properties.logischtijdstipVervallen?document.getElementById("logisch-vervallen").innerText=new Date(p.properties.logischtijdstipOntstaan).toLocaleDateString("nl-NL"):document.getElementById("logisch-vervallen").innerText="Niet van toepassing",document.getElementById("perceel-nummer").innerText=p.properties.perceelnummer,document.getElementById("perceel-lon").innerText=p.properties.plaatscoordinaten.coordinates[0],document.getElementById("perceel-lat").innerText=p.properties.plaatscoordinaten.coordinates[1];var t,e,i,n,o,a,s=(t=p.properties.plaatscoordinaten.coordinates[1],e=p.properties.plaatscoordinaten.coordinates[0],i=r(t),n=0<=Math.sign(t)?"N":"S",o=r(e),a=0<=Math.sign(e)?"E":"W",[i+" "+n,o+" "+a]);document.getElementById("perceel-lon-dms").innerText=s[1],document.getElementById("perceel-lat-dms").innerText=s[0],document.getElementById("perceel-sectie").innerText=p.properties.sectie})},window.initDetails=function(t){t,l=_promise(),h=_promise(),d=_promise(),u=_promise(),c=_promise(),function(t){for(var e=0;e<t.geometry.coordinates.length;e++)for(var i=t.geometry.coordinates[e],n=0;n<i.length;n++){var o=new window.proj4.Point(i[n][0],i[n][1]);window.proj4.transform(E,x,o),i[n][0]=o.x,i[n][1]=o.y}}(p=JSON.parse(JSON.stringify(t.data.feature)));var e=p;g=m=1/0,_=f=-1/0;for(var i=0;i<e.geometry.coordinates.length;i++)for(var n=0;n<e.geometry.coordinates[i].length;n++){var o=e.geometry.coordinates[i][n][0],a=e.geometry.coordinates[i][n][1];o<m&&(m=o),f<o&&(f=o),a<g&&(g=a),_<a&&(_=a)}var s=window.geojson2svg({viewportSize:{width:250,height:250},attributes:{style:"stroke:#006600; fill: #F0F8FF;stroke-width:0.5px;","vector-effect":"non-scaling-stroke"},mapExtent:{left:m,right:f,bottom:g,top:_}}),r=s.convert(e);M=r.join(""),getJSON(P([m,g,f,_],"verblijfsobject","EPSG:3857"),function(t){y=t,document.getElementById("details-verblijfplaatsen-tab").setAttribute("badge",t.features.length),h()}),getJSON(P([m,g,f,_],"ligplaats","EPSG:3857"),function(t){b=t,u()}),getJSON(P([m,g,f,_],"standplaats","EPSG:3857"),function(t){k=t,c()}),getJSON(P([m,g,f,_],"woonplaats","EPSG:3857"),function(t){w=t,d()}),getJSON(P([m,g,f,_],"pand","EPSG:3857"),function(t){v=t;var e=s.convert(v,{attributes:{style:"stroke:#660000; fill:transparent; stroke-width:0.5px;","vector-effect":"non-scaling-stroke"}});M+=e.join(""),M+='<text x="120" y="120" transform="rotate('+-p.properties.perceelnummer_rotatie+', 120, 120)">'+p.properties.perceelnummer+"</text>",document.getElementById("details-panden-tab").setAttribute("badge",v.features.length),l()})}}();